const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CEyUmAEz.js","./Cpj98o6Y.js"])))=>i.map(i=>d[i]);
import{e as ae,u as $o,r as zn,f as Nt,n as Ss,m as W,g as Yt,p as qt,h as Ke,i as ol,j as P,k as xi,l as ac,b as u,q as qo,s as O,v as Ms,x as tt,o as R,w as h,d as D,a as c,t as k,y as ce,z as Lo,A as lc,B as nl,C as he,D as Ws,E as al,F as Ys,G as rc,I as ll,H as cc,c as H,J as st,K as Q,L as dc,M as Lt,N as ne,O as Ge,P as uc,_ as De,Q as rl,R as Dt,S as Se,T as Fs,U as Je,V as Eo,W as cl,X as hc,Y as In,Z as fc,$ as pc,a0 as gc,a1 as wi,a2 as be,a3 as Pe,a4 as dl,a5 as Oo,a6 as ul,a7 as ao,a8 as ki,a9 as lo,aa as mc,ab as Xo,ac as Un,ad as $e,ae as Ko,af as He,ag as Jo,ah as vc,ai as bc,aj as hl,ak as yc,al as _c,am as ze,an as fl,ao as xc,ap as wc,aq as pl,ar as Ds,as as kc,at as Cc,au as Sc}from"#entry";import{u as Dc,m as Tc,a as Ac,V as Vn,b as zo,c as Rt,d as ot,e as Ji,f as Zo,g as Zi,h as ro,i as gl,j as Mc,k as re,l as co,n as Ze,o as Gi,p as Pc,q as vs,r as Rc,s as $c,t as Lc,v as Ec,w as Oc,x as zc,y as Ic,z as ml,A as Uc,B as Hs,C as vl,D as bl,E as Vc,F as Yi,G as Bc,H as Fc,I as Hc}from"./DcnzPrsv.js";import{V as St,a as rt,b as gt,c as E,d as Qe,e as ht,f as qi,g as ge,h as Z,i as ee,m as Nc,j as Be,k as Wc,l as jc,n as yl,R as Gc,u as _l,o as xl,p as wl,q as Yc,r as kl,s as qc,M as Xc,t as Cl,v as Bn,w as Sl,x as Kc,y as Dl,z as Jc,A as Zc,B as Qc,C as td,D as ed}from"./CbQCUF9d.js";import{u as Xt,a as Qo,m as os,b as tn,c as Ee,d as Tl,e as Ci,f as en,g as sn,h as on,i as nn,j as Al,k as Ml}from"./QYhEshKI.js";import{_ as sd}from"./CwWTRshb.js";import{V as ss,g as id}from"./ft-X1-MY.js";import{u as od}from"./C11_FAr3.js";import{u as nd}from"./bO5Qj5nW.js";const ad=ae({__name:"AuthState",setup(e){const{loggedIn:t,user:s,session:i,clear:o,ready:n}=$o();return(a,l)=>Nt(n)?zn(a.$slots,"default",Ss(W({key:0},{loggedIn:Nt(t),user:Nt(s),session:Nt(i),clear:Nt(o)}))):zn(a.$slots,"placeholder",{key:1})}}),ld=Object.assign(ad,{__name:"AuthState"}),rd=qt({...Tc(),...xi(Ac(),["inline"])},"VCheckbox"),cd=Yt()({name:"VCheckbox",inheritAttrs:!1,props:rd(),emits:{"update:modelValue":e=>!0,"update:focused":e=>!0},setup(e,t){let{attrs:s,slots:i}=t;const o=Ke(e,"modelValue"),{isFocused:n,focus:a,blur:l}=Dc(e),r=ol(),d=P(()=>e.id||`checkbox-${r}`);return Xt(()=>{const[f,g]=ac(s),m=Vn.filterProps(e),v=zo.filterProps(e);return u(Vn,W({class:["v-checkbox",e.class]},f,m,{modelValue:o.value,"onUpdate:modelValue":y=>o.value=y,id:d.value,focused:n.value,style:e.style}),{...i,default:y=>{let{id:x,messagesId:w,isDisabled:C,isReadonly:M,isValid:T}=y;return u(zo,W(v,{id:x.value,"aria-describedby":w.value,disabled:C.value,readonly:M.value},g,{error:T.value===!1,modelValue:o.value,"onUpdate:modelValue":S=>o.value=S,onFocus:a,onBlur:l}),i)}})}),{}}}),dd=qt({fluid:{type:Boolean,default:!1},...Ee(),...tn(),...os()},"VContainer"),Vt=Yt()({name:"VContainer",props:dd(),setup(e,t){let{slots:s}=t;const{rtlClasses:i}=qo(),{dimensionStyles:o}=Qo(e);return Xt(()=>u(e.tag,{class:["v-container",{"v-container--fluid":e.fluid},i.value,e.class],style:[o.value,e.style]},s)),{}}}),ud={class:"text-caption text-medium-emphasis"},hd=ae({__name:"DateRangeSelector",props:{loading:{type:Boolean,default:!1}},emits:["date-range-changed"],setup(e,{emit:t}){const s=t,i=new Date;i.setHours(0,0,0,0);const o=new Date(i.getTime()-648*60*60*1e3),n=new Date(i),a=O(d(o)),l=O(d(n)),r=O(!1);function d(T){const S=T.getFullYear(),A=String(T.getMonth()+1).padStart(2,"0"),z=String(T.getDate()).padStart(2,"0");return`${S}-${A}-${z}`}function f(T){const[S,A,z]=T.split("-").map(Number);return new Date(S,A-1,z)}const g=P(()=>{if(!a.value||!l.value)return"Default Range : Max Last 100 Days Data";const T=f(a.value),S=f(l.value),A=Math.ceil((S.getTime()-T.getTime())/(1e3*60*60*24))+1,z=r.value?" (excluding holidays/weekends)":"";return A===1?`For ${T.toLocaleDateString()}${z}`:A<=28&&m()?`Over the last 28 days ${z}`:v()?`Over the last 100 days ${z}`:`From ${T.toLocaleDateString()} to ${S.toLocaleDateString()} (${A} days)${z}`});function m(){if(!a.value||!l.value)return!1;const T=new Date;T.setHours(0,0,0,0);const S=new Date(T.getTime()-648*60*60*1e3),A=f(a.value),z=f(l.value);return z.setHours(0,0,0,0),A.toDateString()===S.toDateString()&&z.toDateString()===T.toDateString()}function v(){if(!a.value||!l.value)return!1;const T=new Date;T.setHours(0,0,0,0);const S=new Date(T.getTime()-2376*60*60*1e3),A=f(a.value),z=f(l.value);return z.setHours(0,0,0,0),A.toDateString()===S.toDateString()&&z.toDateString()===T.toDateString()}function y(){}function x(){const T=new Date;T.setHours(23,59,59,999);const S=new Date(T.getTime()-648*60*60*1e3);S.setHours(0,0,0,0),a.value=d(S),l.value=d(T),C()}function w(){const T=new Date;T.setHours(23,59,59,999);const S=new Date(T.getTime()-2376*60*60*1e3);S.setHours(0,0,0,0),a.value=d(S),l.value=d(T),C()}function C(){if(!a.value||!l.value)return;const T=f(a.value),S=f(l.value);if(T>S){const A=a.value;a.value=l.value,l.value=A}s("date-range-changed",{since:a.value,until:l.value,description:g.value,excludeHolidays:r.value})}Ms(()=>{C()});function M(){a.value="",l.value="",s("date-range-changed",{since:void 0,until:void 0,description:"Showing all available data",excludeHolidays:r.value})}return(T,S)=>(R(),tt(E,{class:"pa-4 ma-4",elevation:"2"},{default:h(()=>[u(Rt,{class:"mb-2"},{default:h(()=>[u(ot,{cols:"12",class:"d-flex align-center justify-space-between"},{default:h(()=>[u(St,{class:"text-h6 pb-0 flex-grow-1"},{default:h(()=>[...S[3]||(S[3]=[D("Date Range Filter",-1)])]),_:1}),u(rt,{color:"error",variant:"outlined",size:"small",onClick:M},{default:h(()=>[...S[4]||(S[4]=[D(" Clear Filter ",-1)])]),_:1})]),_:1})]),_:1}),u(Rt,{align:"end"},{default:h(()=>[u(ot,{cols:"6",sm:"3"},{default:h(()=>[u(Ji,{modelValue:a.value,"onUpdate:modelValue":[S[0]||(S[0]=A=>a.value=A),y],label:"From Date",type:"date",variant:"outlined",density:"compact"},null,8,["modelValue"])]),_:1}),u(ot,{cols:"6",sm:"3"},{default:h(()=>[u(Ji,{modelValue:l.value,"onUpdate:modelValue":[S[1]||(S[1]=A=>l.value=A),y],label:"To Date",type:"date",variant:"outlined",density:"compact"},null,8,["modelValue"])]),_:1}),u(ot,{cols:"6",sm:"2"},{default:h(()=>[u(cd,{modelValue:r.value,"onUpdate:modelValue":S[2]||(S[2]=A=>r.value=A),label:"Exclude holidays from metrics",density:"compact"},null,8,["modelValue"])]),_:1}),u(ot,{cols:"6",sm:"4",class:"d-flex align-center justify-start",style:{"padding-bottom":"35px"}},{default:h(()=>[u(rt,{color:"primary",variant:"outlined",size:"default",class:"mr-3",onClick:x},{default:h(()=>[...S[5]||(S[5]=[D(" Last 28 Days ",-1)])]),_:1}),u(rt,{color:"primary",variant:"outlined",size:"default",class:"mr-3",onClick:w},{default:h(()=>[...S[6]||(S[6]=[D(" Last 100 Days ",-1)])]),_:1}),u(rt,{color:"primary",size:"default",loading:e.loading,onClick:C},{default:h(()=>[...S[7]||(S[7]=[D(" Apply ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1}),u(gt,{class:"pt-2"},{default:h(()=>[c("span",ud,k(Nt(g)),1)]),_:1})]),_:1}))}}),Pl=Object.assign(hd,{__name:"DateRangeSelector"});/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Si(e){return e+.5|0}const Ye=(e,t,s)=>Math.max(Math.min(e,s),t);function ni(e){return Ye(Si(e*2.55),0,255)}function ts(e){return Ye(Si(e*255),0,255)}function Fe(e){return Ye(Si(e/2.55)/100,0,1)}function Fn(e){return Ye(Si(e*100),0,100)}const me={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Io=[..."0123456789ABCDEF"],fd=e=>Io[e&15],pd=e=>Io[(e&240)>>4]+Io[e&15],Ri=e=>(e&240)>>4===(e&15),gd=e=>Ri(e.r)&&Ri(e.g)&&Ri(e.b)&&Ri(e.a);function md(e){var t=e.length,s;return e[0]==="#"&&(t===4||t===5?s={r:255&me[e[1]]*17,g:255&me[e[2]]*17,b:255&me[e[3]]*17,a:t===5?me[e[4]]*17:255}:(t===7||t===9)&&(s={r:me[e[1]]<<4|me[e[2]],g:me[e[3]]<<4|me[e[4]],b:me[e[5]]<<4|me[e[6]],a:t===9?me[e[7]]<<4|me[e[8]]:255})),s}const vd=(e,t)=>e<255?t(e):"";function bd(e){var t=gd(e)?fd:pd;return e?"#"+t(e.r)+t(e.g)+t(e.b)+vd(e.a,t):void 0}const yd=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Rl(e,t,s){const i=t*Math.min(s,1-s),o=(n,a=(n+e/30)%12)=>s-i*Math.max(Math.min(a-3,9-a,1),-1);return[o(0),o(8),o(4)]}function _d(e,t,s){const i=(o,n=(o+e/60)%6)=>s-s*t*Math.max(Math.min(n,4-n,1),0);return[i(5),i(3),i(1)]}function xd(e,t,s){const i=Rl(e,1,.5);let o;for(t+s>1&&(o=1/(t+s),t*=o,s*=o),o=0;o<3;o++)i[o]*=1-t-s,i[o]+=t;return i}function wd(e,t,s,i,o){return e===o?(t-s)/i+(t<s?6:0):t===o?(s-e)/i+2:(e-t)/i+4}function an(e){const s=e.r/255,i=e.g/255,o=e.b/255,n=Math.max(s,i,o),a=Math.min(s,i,o),l=(n+a)/2;let r,d,f;return n!==a&&(f=n-a,d=l>.5?f/(2-n-a):f/(n+a),r=wd(s,i,o,f,n),r=r*60+.5),[r|0,d||0,l]}function ln(e,t,s,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,s,i)).map(ts)}function rn(e,t,s){return ln(Rl,e,t,s)}function kd(e,t,s){return ln(xd,e,t,s)}function Cd(e,t,s){return ln(_d,e,t,s)}function $l(e){return(e%360+360)%360}function Sd(e){const t=yd.exec(e);let s=255,i;if(!t)return;t[5]!==i&&(s=t[6]?ni(+t[5]):ts(+t[5]));const o=$l(+t[2]),n=+t[3]/100,a=+t[4]/100;return t[1]==="hwb"?i=kd(o,n,a):t[1]==="hsv"?i=Cd(o,n,a):i=rn(o,n,a),{r:i[0],g:i[1],b:i[2],a:s}}function Dd(e,t){var s=an(e);s[0]=$l(s[0]+t),s=rn(s),e.r=s[0],e.g=s[1],e.b=s[2]}function Td(e){if(!e)return;const t=an(e),s=t[0],i=Fn(t[1]),o=Fn(t[2]);return e.a<255?`hsla(${s}, ${i}%, ${o}%, ${Fe(e.a)})`:`hsl(${s}, ${i}%, ${o}%)`}const Hn={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Nn={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Ad(){const e={},t=Object.keys(Nn),s=Object.keys(Hn);let i,o,n,a,l;for(i=0;i<t.length;i++){for(a=l=t[i],o=0;o<s.length;o++)n=s[o],l=l.replace(n,Hn[n]);n=parseInt(Nn[a],16),e[l]=[n>>16&255,n>>8&255,n&255]}return e}let $i;function Md(e){$i||($i=Ad(),$i.transparent=[0,0,0,0]);const t=$i[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Pd=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Rd(e){const t=Pd.exec(e);let s=255,i,o,n;if(t){if(t[7]!==i){const a=+t[7];s=t[8]?ni(a):Ye(a*255,0,255)}return i=+t[1],o=+t[3],n=+t[5],i=255&(t[2]?ni(i):Ye(i,0,255)),o=255&(t[4]?ni(o):Ye(o,0,255)),n=255&(t[6]?ni(n):Ye(n,0,255)),{r:i,g:o,b:n,a:s}}}function $d(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Fe(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const yo=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Us=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Ld(e,t,s){const i=Us(Fe(e.r)),o=Us(Fe(e.g)),n=Us(Fe(e.b));return{r:ts(yo(i+s*(Us(Fe(t.r))-i))),g:ts(yo(o+s*(Us(Fe(t.g))-o))),b:ts(yo(n+s*(Us(Fe(t.b))-n))),a:e.a+s*(t.a-e.a)}}function Li(e,t,s){if(e){let i=an(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*s,t===0?360:1)),i=rn(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function Ll(e,t){return e&&Object.assign(t||{},e)}function Wn(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=ts(e[3]))):(t=Ll(e,{r:0,g:0,b:0,a:1}),t.a=ts(t.a)),t}function Ed(e){return e.charAt(0)==="r"?Rd(e):Sd(e)}class hi{constructor(t){if(t instanceof hi)return t;const s=typeof t;let i;s==="object"?i=Wn(t):s==="string"&&(i=md(t)||Md(t)||Ed(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=Ll(this._rgb);return t&&(t.a=Fe(t.a)),t}set rgb(t){this._rgb=Wn(t)}rgbString(){return this._valid?$d(this._rgb):void 0}hexString(){return this._valid?bd(this._rgb):void 0}hslString(){return this._valid?Td(this._rgb):void 0}mix(t,s){if(t){const i=this.rgb,o=t.rgb;let n;const a=s===n?.5:s,l=2*a-1,r=i.a-o.a,d=((l*r===-1?l:(l+r)/(1+l*r))+1)/2;n=1-d,i.r=255&d*i.r+n*o.r+.5,i.g=255&d*i.g+n*o.g+.5,i.b=255&d*i.b+n*o.b+.5,i.a=a*i.a+(1-a)*o.a,this.rgb=i}return this}interpolate(t,s){return t&&(this._rgb=Ld(this._rgb,t._rgb,s)),this}clone(){return new hi(this.rgb)}alpha(t){return this._rgb.a=ts(t),this}clearer(t){const s=this._rgb;return s.a*=1-t,this}greyscale(){const t=this._rgb,s=Si(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=s,this}opaquer(t){const s=this._rgb;return s.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Li(this._rgb,2,t),this}darken(t){return Li(this._rgb,2,-t),this}saturate(t){return Li(this._rgb,1,t),this}desaturate(t){return Li(this._rgb,1,-t),this}rotate(t){return Dd(this._rgb,t),this}}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function Ie(){}const Od=(()=>{let e=0;return()=>e++})();function At(e){return e==null}function jt(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function mt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function _e(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Ae(e,t){return _e(e)?e:t}function ft(e,t){return typeof e>"u"?t:e}const zd=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,El=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Mt(e,t,s){if(e&&typeof e.call=="function")return e.apply(s,t)}function wt(e,t,s,i){let o,n,a;if(jt(e))for(n=e.length,o=0;o<n;o++)t.call(s,e[o],o);else if(mt(e))for(a=Object.keys(e),n=a.length,o=0;o<n;o++)t.call(s,e[a[o]],a[o])}function Qi(e,t){let s,i,o,n;if(!e||!t||e.length!==t.length)return!1;for(s=0,i=e.length;s<i;++s)if(o=e[s],n=t[s],o.datasetIndex!==n.datasetIndex||o.index!==n.index)return!1;return!0}function to(e){if(jt(e))return e.map(to);if(mt(e)){const t=Object.create(null),s=Object.keys(e),i=s.length;let o=0;for(;o<i;++o)t[s[o]]=to(e[s[o]]);return t}return e}function Ol(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function Id(e,t,s,i){if(!Ol(e))return;const o=t[e],n=s[e];mt(o)&&mt(n)?fi(o,n,i):t[e]=to(n)}function fi(e,t,s){const i=jt(t)?t:[t],o=i.length;if(!mt(e))return e;s=s||{};const n=s.merger||Id;let a;for(let l=0;l<o;++l){if(a=i[l],!mt(a))continue;const r=Object.keys(a);for(let d=0,f=r.length;d<f;++d)n(r[d],e,a,s)}return e}function ri(e,t){return fi(e,t,{merger:Ud})}function Ud(e,t,s){if(!Ol(e))return;const i=t[e],o=s[e];mt(i)&&mt(o)?ri(i,o):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=to(o))}const jn={"":e=>e,x:e=>e.x,y:e=>e.y};function Vd(e){const t=e.split("."),s=[];let i="";for(const o of t)i+=o,i.endsWith("\\")?i=i.slice(0,-1)+".":(s.push(i),i="");return s}function Bd(e){const t=Vd(e);return s=>{for(const i of t){if(i==="")break;s=s&&s[i]}return s}}function Ps(e,t){return(jn[t]||(jn[t]=Bd(t)))(e)}function cn(e){return e.charAt(0).toUpperCase()+e.slice(1)}const pi=e=>typeof e<"u",is=e=>typeof e=="function",Gn=(e,t)=>{if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0};function Fd(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Ot=Math.PI,Et=2*Ot,Hd=Et+Ot,eo=Number.POSITIVE_INFINITY,Nd=Ot/180,Gt=Ot/2,bs=Ot/4,Yn=Ot*2/3,zl=Math.log10,Le=Math.sign;function ci(e,t,s){return Math.abs(e-t)<s}function qn(e){const t=Math.round(e);e=ci(e,t,e/1e3)?t:e;const s=Math.pow(10,Math.floor(zl(e))),i=e/s;return(i<=1?1:i<=2?2:i<=5?5:10)*s}function Wd(e){const t=[],s=Math.sqrt(e);let i;for(i=1;i<s;i++)e%i===0&&(t.push(i),t.push(e/i));return s===(s|0)&&t.push(s),t.sort((o,n)=>o-n).pop(),t}function gi(e){return!isNaN(parseFloat(e))&&isFinite(e)}function jd(e,t){const s=Math.round(e);return s-t<=e&&s+t>=e}function Gd(e,t,s){let i,o,n;for(i=0,o=e.length;i<o;i++)n=e[i][s],isNaN(n)||(t.min=Math.min(t.min,n),t.max=Math.max(t.max,n))}function Ne(e){return e*(Ot/180)}function Yd(e){return e*(180/Ot)}function Xn(e){if(!_e(e))return;let t=1,s=0;for(;Math.round(e*t)/t!==e;)t*=10,s++;return s}function Il(e,t){const s=t.x-e.x,i=t.y-e.y,o=Math.sqrt(s*s+i*i);let n=Math.atan2(i,s);return n<-.5*Ot&&(n+=Et),{angle:n,distance:o}}function Uo(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function qd(e,t){return(e-t+Hd)%Et-Ot}function je(e){return(e%Et+Et)%Et}function mi(e,t,s,i){const o=je(e),n=je(t),a=je(s),l=je(n-o),r=je(a-o),d=je(o-n),f=je(o-a);return o===n||o===a||i&&n===a||l>r&&d<f}function se(e,t,s){return Math.max(t,Math.min(s,e))}function Xd(e){return se(e,-32768,32767)}function qe(e,t,s,i=1e-6){return e>=Math.min(t,s)-i&&e<=Math.max(t,s)+i}function dn(e,t,s){s=s||(a=>e[a]<t);let i=e.length-1,o=0,n;for(;i-o>1;)n=o+i>>1,s(n)?o=n:i=n;return{lo:o,hi:i}}const Ts=(e,t,s,i)=>dn(e,s,i?o=>{const n=e[o][t];return n<s||n===s&&e[o+1][t]===s}:o=>e[o][t]<s),Kd=(e,t,s)=>dn(e,s,i=>e[i][t]>=s);function Jd(e,t,s){let i=0,o=e.length;for(;i<o&&e[i]<t;)i++;for(;o>i&&e[o-1]>s;)o--;return i>0||o<e.length?e.slice(i,o):e}const Ul=["push","pop","shift","splice","unshift"];function Zd(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Ul.forEach(s=>{const i="_onData"+cn(s),o=e[s];Object.defineProperty(e,s,{configurable:!0,enumerable:!1,value(...n){const a=o.apply(this,n);return e._chartjs.listeners.forEach(l=>{typeof l[i]=="function"&&l[i](...n)}),a}})})}function Kn(e,t){const s=e._chartjs;if(!s)return;const i=s.listeners,o=i.indexOf(t);o!==-1&&i.splice(o,1),!(i.length>0)&&(Ul.forEach(n=>{delete e[n]}),delete e._chartjs)}function Vl(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const Bl=(function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame})();function Fl(e,t){let s=[],i=!1;return function(...o){s=o,i||(i=!0,Bl.call(window,()=>{i=!1,e.apply(t,s)}))}}function Qd(e,t){let s;return function(...i){return t?(clearTimeout(s),s=setTimeout(e,t,i)):e.apply(this,i),t}}const un=e=>e==="start"?"left":e==="end"?"right":"center",te=(e,t,s)=>e==="start"?t:e==="end"?s:(t+s)/2,tu=(e,t,s,i)=>e===(i?"left":"right")?s:e==="center"?(t+s)/2:t;function eu(e,t,s){const i=t.length;let o=0,n=i;if(e._sorted){const{iScale:a,_parsed:l}=e,r=a.axis,{min:d,max:f,minDefined:g,maxDefined:m}=a.getUserBounds();g&&(o=se(Math.min(Ts(l,r,d).lo,s?i:Ts(t,r,a.getPixelForValue(d)).lo),0,i-1)),m?n=se(Math.max(Ts(l,a.axis,f,!0).hi+1,s?0:Ts(t,r,a.getPixelForValue(f),!0).hi+1),o,i)-o:n=i-o}return{start:o,count:n}}function su(e){const{xScale:t,yScale:s,_scaleRanges:i}=e,o={xmin:t.min,xmax:t.max,ymin:s.min,ymax:s.max};if(!i)return e._scaleRanges=o,!0;const n=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==s.min||i.ymax!==s.max;return Object.assign(i,o),n}const Ei=e=>e===0||e===1,Jn=(e,t,s)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Et/s)),Zn=(e,t,s)=>Math.pow(2,-10*e)*Math.sin((e-t)*Et/s)+1,di={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Gt)+1,easeOutSine:e=>Math.sin(e*Gt),easeInOutSine:e=>-.5*(Math.cos(Ot*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Ei(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Ei(e)?e:Jn(e,.075,.3),easeOutElastic:e=>Ei(e)?e:Zn(e,.075,.3),easeInOutElastic(e){return Ei(e)?e:e<.5?.5*Jn(e*2,.1125,.45):.5+.5*Zn(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-di.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?di.easeInBounce(e*2)*.5:di.easeOutBounce(e*2-1)*.5+.5};function hn(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Qn(e){return hn(e)?e:new hi(e)}function _o(e){return hn(e)?e:new hi(e).saturate(.5).darken(.1).hexString()}const iu=["x","y","borderWidth","radius","tension"],ou=["color","borderColor","backgroundColor"];function nu(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:ou},numbers:{type:"number",properties:iu}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function au(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const ta=new Map;function lu(e,t){t=t||{};const s=e+JSON.stringify(t);let i=ta.get(s);return i||(i=new Intl.NumberFormat(e,t),ta.set(s,i)),i}function fn(e,t,s){return lu(t,s).format(e)}const ru={values(e){return jt(e)?e:""+e},numeric(e,t,s){if(e===0)return"0";const i=this.chart.options.locale;let o,n=e;if(s.length>1){const d=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(d<1e-4||d>1e15)&&(o="scientific"),n=cu(e,s)}const a=zl(Math.abs(n)),l=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),r={notation:o,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(r,this.options.ticks.format),fn(e,i,r)}};function cu(e,t){let s=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(s)>=1&&e!==Math.floor(e)&&(s=e-Math.floor(e)),s}var Hl={formatters:ru};function du(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,s)=>s.lineWidth,tickColor:(t,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Hl.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Rs=Object.create(null),Vo=Object.create(null);function ui(e,t){if(!t)return e;const s=t.split(".");for(let i=0,o=s.length;i<o;++i){const n=s[i];e=e[n]||(e[n]=Object.create(null))}return e}function xo(e,t,s){return typeof t=="string"?fi(ui(e,t),s):fi(ui(e,""),t)}class uu{constructor(t,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,o)=>_o(o.backgroundColor),this.hoverBorderColor=(i,o)=>_o(o.borderColor),this.hoverColor=(i,o)=>_o(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(s)}set(t,s){return xo(this,t,s)}get(t){return ui(this,t)}describe(t,s){return xo(Vo,t,s)}override(t,s){return xo(Rs,t,s)}route(t,s,i,o){const n=ui(this,t),a=ui(this,i),l="_"+s;Object.defineProperties(n,{[l]:{value:n[s],writable:!0},[s]:{enumerable:!0,get(){const r=this[l],d=a[o];return mt(r)?Object.assign({},d,r):ft(r,d)},set(r){this[l]=r}}})}apply(t){t.forEach(s=>s(this))}}var Bt=new uu({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[nu,au,du]);function hu(e){return!e||At(e.size)||At(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function ea(e,t,s,i,o){let n=t[o];return n||(n=t[o]=e.measureText(o).width,s.push(o)),n>i&&(i=n),i}function ys(e,t,s){const i=e.currentDevicePixelRatio,o=s!==0?Math.max(s/2,.5):0;return Math.round((t-o)*i)/i+o}function sa(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Bo(e,t,s,i){Nl(e,t,s,i,null)}function Nl(e,t,s,i,o){let n,a,l,r,d,f,g,m;const v=t.pointStyle,y=t.rotation,x=t.radius;let w=(y||0)*Nd;if(v&&typeof v=="object"&&(n=v.toString(),n==="[object HTMLImageElement]"||n==="[object HTMLCanvasElement]")){e.save(),e.translate(s,i),e.rotate(w),e.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),e.restore();return}if(!(isNaN(x)||x<=0)){switch(e.beginPath(),v){default:o?e.ellipse(s,i,o/2,x,0,0,Et):e.arc(s,i,x,0,Et),e.closePath();break;case"triangle":f=o?o/2:x,e.moveTo(s+Math.sin(w)*f,i-Math.cos(w)*x),w+=Yn,e.lineTo(s+Math.sin(w)*f,i-Math.cos(w)*x),w+=Yn,e.lineTo(s+Math.sin(w)*f,i-Math.cos(w)*x),e.closePath();break;case"rectRounded":d=x*.516,r=x-d,a=Math.cos(w+bs)*r,g=Math.cos(w+bs)*(o?o/2-d:r),l=Math.sin(w+bs)*r,m=Math.sin(w+bs)*(o?o/2-d:r),e.arc(s-g,i-l,d,w-Ot,w-Gt),e.arc(s+m,i-a,d,w-Gt,w),e.arc(s+g,i+l,d,w,w+Gt),e.arc(s-m,i+a,d,w+Gt,w+Ot),e.closePath();break;case"rect":if(!y){r=Math.SQRT1_2*x,f=o?o/2:r,e.rect(s-f,i-r,2*f,2*r);break}w+=bs;case"rectRot":g=Math.cos(w)*(o?o/2:x),a=Math.cos(w)*x,l=Math.sin(w)*x,m=Math.sin(w)*(o?o/2:x),e.moveTo(s-g,i-l),e.lineTo(s+m,i-a),e.lineTo(s+g,i+l),e.lineTo(s-m,i+a),e.closePath();break;case"crossRot":w+=bs;case"cross":g=Math.cos(w)*(o?o/2:x),a=Math.cos(w)*x,l=Math.sin(w)*x,m=Math.sin(w)*(o?o/2:x),e.moveTo(s-g,i-l),e.lineTo(s+g,i+l),e.moveTo(s+m,i-a),e.lineTo(s-m,i+a);break;case"star":g=Math.cos(w)*(o?o/2:x),a=Math.cos(w)*x,l=Math.sin(w)*x,m=Math.sin(w)*(o?o/2:x),e.moveTo(s-g,i-l),e.lineTo(s+g,i+l),e.moveTo(s+m,i-a),e.lineTo(s-m,i+a),w+=bs,g=Math.cos(w)*(o?o/2:x),a=Math.cos(w)*x,l=Math.sin(w)*x,m=Math.sin(w)*(o?o/2:x),e.moveTo(s-g,i-l),e.lineTo(s+g,i+l),e.moveTo(s+m,i-a),e.lineTo(s-m,i+a);break;case"line":a=o?o/2:Math.cos(w)*x,l=Math.sin(w)*x,e.moveTo(s-a,i-l),e.lineTo(s+a,i+l);break;case"dash":e.moveTo(s,i),e.lineTo(s+Math.cos(w)*(o?o/2:x),i+Math.sin(w)*x);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function vi(e,t,s){return s=s||.5,!t||e&&e.x>t.left-s&&e.x<t.right+s&&e.y>t.top-s&&e.y<t.bottom+s}function pn(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function gn(e){e.restore()}function fu(e,t,s,i,o){if(!t)return e.lineTo(s.x,s.y);if(o==="middle"){const n=(t.x+s.x)/2;e.lineTo(n,t.y),e.lineTo(n,s.y)}else o==="after"!=!!i?e.lineTo(t.x,s.y):e.lineTo(s.x,t.y);e.lineTo(s.x,s.y)}function pu(e,t,s,i){if(!t)return e.lineTo(s.x,s.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?s.cp2x:s.cp1x,i?s.cp2y:s.cp1y,s.x,s.y)}function gu(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),At(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function mu(e,t,s,i,o){if(o.strikethrough||o.underline){const n=e.measureText(i),a=t-n.actualBoundingBoxLeft,l=t+n.actualBoundingBoxRight,r=s-n.actualBoundingBoxAscent,d=s+n.actualBoundingBoxDescent,f=o.strikethrough?(r+d)/2:d;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=o.decorationWidth||2,e.moveTo(a,f),e.lineTo(l,f),e.stroke()}}function vu(e,t){const s=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=s}function bi(e,t,s,i,o,n={}){const a=jt(t)?t:[t],l=n.strokeWidth>0&&n.strokeColor!=="";let r,d;for(e.save(),e.font=o.string,gu(e,n),r=0;r<a.length;++r)d=a[r],n.backdrop&&vu(e,n.backdrop),l&&(n.strokeColor&&(e.strokeStyle=n.strokeColor),At(n.strokeWidth)||(e.lineWidth=n.strokeWidth),e.strokeText(d,s,i,n.maxWidth)),e.fillText(d,s,i,n.maxWidth),mu(e,s,i,d,n),i+=Number(o.lineHeight);e.restore()}function so(e,t){const{x:s,y:i,w:o,h:n,radius:a}=t;e.arc(s+a.topLeft,i+a.topLeft,a.topLeft,1.5*Ot,Ot,!0),e.lineTo(s,i+n-a.bottomLeft),e.arc(s+a.bottomLeft,i+n-a.bottomLeft,a.bottomLeft,Ot,Gt,!0),e.lineTo(s+o-a.bottomRight,i+n),e.arc(s+o-a.bottomRight,i+n-a.bottomRight,a.bottomRight,Gt,0,!0),e.lineTo(s+o,i+a.topRight),e.arc(s+o-a.topRight,i+a.topRight,a.topRight,0,-Gt,!0),e.lineTo(s+a.topLeft,i)}const bu=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,yu=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function _u(e,t){const s=(""+e).match(bu);if(!s||s[1]==="normal")return t*1.2;switch(e=+s[2],s[3]){case"px":return e;case"%":e/=100;break}return t*e}const xu=e=>+e||0;function mn(e,t){const s={},i=mt(t),o=i?Object.keys(t):t,n=mt(e)?i?a=>ft(e[a],e[t[a]]):a=>e[a]:()=>e;for(const a of o)s[a]=xu(n(a));return s}function Wl(e){return mn(e,{top:"y",right:"x",bottom:"y",left:"x"})}function js(e){return mn(e,["topLeft","topRight","bottomLeft","bottomRight"])}function xe(e){const t=Wl(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ie(e,t){e=e||{},t=t||Bt.font;let s=ft(e.size,t.size);typeof s=="string"&&(s=parseInt(s,10));let i=ft(e.style,t.style);i&&!(""+i).match(yu)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const o={family:ft(e.family,t.family),lineHeight:_u(ft(e.lineHeight,t.lineHeight),s),size:s,style:i,weight:ft(e.weight,t.weight),string:""};return o.string=hu(o),o}function Oi(e,t,s,i){let o,n,a;for(o=0,n=e.length;o<n;++o)if(a=e[o],a!==void 0&&a!==void 0)return a}function wu(e,t,s){const{min:i,max:o}=e,n=El(t,(o-i)/2),a=(l,r)=>s&&l===0?0:l+r;return{min:a(i,-Math.abs(n)),max:a(o,n)}}function $s(e,t){return Object.assign(Object.create(e),t)}function vn(e,t=[""],s,i,o=()=>e[0]){const n=s||e;typeof i>"u"&&(i=ql("_fallback",e));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:n,_fallback:i,_getTarget:o,override:l=>vn([l,...e],t,n,i)};return new Proxy(a,{deleteProperty(l,r){return delete l[r],delete l._keys,delete e[0][r],!0},get(l,r){return Gl(l,r,()=>Pu(r,t,e,l))},getOwnPropertyDescriptor(l,r){return Reflect.getOwnPropertyDescriptor(l._scopes[0],r)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(l,r){return oa(l).includes(r)},ownKeys(l){return oa(l)},set(l,r,d){const f=l._storage||(l._storage=o());return l[r]=f[r]=d,delete l._keys,!0}})}function qs(e,t,s,i){const o={_cacheable:!1,_proxy:e,_context:t,_subProxy:s,_stack:new Set,_descriptors:jl(e,i),setContext:n=>qs(e,n,s,i),override:n=>qs(e.override(n),t,s,i)};return new Proxy(o,{deleteProperty(n,a){return delete n[a],delete e[a],!0},get(n,a,l){return Gl(n,a,()=>Cu(n,a,l))},getOwnPropertyDescriptor(n,a){return n._descriptors.allKeys?Reflect.has(e,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,a)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(n,a){return Reflect.has(e,a)},ownKeys(){return Reflect.ownKeys(e)},set(n,a,l){return e[a]=l,delete n[a],!0}})}function jl(e,t={scriptable:!0,indexable:!0}){const{_scriptable:s=t.scriptable,_indexable:i=t.indexable,_allKeys:o=t.allKeys}=e;return{allKeys:o,scriptable:s,indexable:i,isScriptable:is(s)?s:()=>s,isIndexable:is(i)?i:()=>i}}const ku=(e,t)=>e?e+cn(t):t,bn=(e,t)=>mt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Gl(e,t,s){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const i=s();return e[t]=i,i}function Cu(e,t,s){const{_proxy:i,_context:o,_subProxy:n,_descriptors:a}=e;let l=i[t];return is(l)&&a.isScriptable(t)&&(l=Su(t,l,e,s)),jt(l)&&l.length&&(l=Du(t,l,e,a.isIndexable)),bn(t,l)&&(l=qs(l,o,n&&n[t],a)),l}function Su(e,t,s,i){const{_proxy:o,_context:n,_subProxy:a,_stack:l}=s;if(l.has(e))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+e);l.add(e);let r=t(n,a||i);return l.delete(e),bn(e,r)&&(r=yn(o._scopes,o,e,r)),r}function Du(e,t,s,i){const{_proxy:o,_context:n,_subProxy:a,_descriptors:l}=s;if(typeof n.index<"u"&&i(e))return t[n.index%t.length];if(mt(t[0])){const r=t,d=o._scopes.filter(f=>f!==r);t=[];for(const f of r){const g=yn(d,o,e,f);t.push(qs(g,n,a&&a[e],l))}}return t}function Yl(e,t,s){return is(e)?e(t,s):e}const Tu=(e,t)=>e===!0?t:typeof e=="string"?Ps(t,e):void 0;function Au(e,t,s,i,o){for(const n of t){const a=Tu(s,n);if(a){e.add(a);const l=Yl(a._fallback,s,o);if(typeof l<"u"&&l!==s&&l!==i)return l}else if(a===!1&&typeof i<"u"&&s!==i)return null}return!1}function yn(e,t,s,i){const o=t._rootScopes,n=Yl(t._fallback,s,i),a=[...e,...o],l=new Set;l.add(i);let r=ia(l,a,s,n||s,i);return r===null||typeof n<"u"&&n!==s&&(r=ia(l,a,n,r,i),r===null)?!1:vn(Array.from(l),[""],o,n,()=>Mu(t,s,i))}function ia(e,t,s,i,o){for(;s;)s=Au(e,t,s,i,o);return s}function Mu(e,t,s){const i=e._getTarget();t in i||(i[t]={});const o=i[t];return jt(o)&&mt(s)?s:o||{}}function Pu(e,t,s,i){let o;for(const n of t)if(o=ql(ku(n,e),s),typeof o<"u")return bn(e,o)?yn(s,i,e,o):o}function ql(e,t){for(const s of t){if(!s)continue;const i=s[e];if(typeof i<"u")return i}}function oa(e){let t=e._keys;return t||(t=e._keys=Ru(e._scopes)),t}function Ru(e){const t=new Set;for(const s of e)for(const i of Object.keys(s).filter(o=>!o.startsWith("_")))t.add(i);return Array.from(t)}const $u=Number.EPSILON||1e-14,Xs=(e,t)=>t<e.length&&!e[t].skip&&e[t],Xl=e=>e==="x"?"y":"x";function Lu(e,t,s,i){const o=e.skip?t:e,n=t,a=s.skip?t:s,l=Uo(n,o),r=Uo(a,n);let d=l/(l+r),f=r/(l+r);d=isNaN(d)?0:d,f=isNaN(f)?0:f;const g=i*d,m=i*f;return{previous:{x:n.x-g*(a.x-o.x),y:n.y-g*(a.y-o.y)},next:{x:n.x+m*(a.x-o.x),y:n.y+m*(a.y-o.y)}}}function Eu(e,t,s){const i=e.length;let o,n,a,l,r,d=Xs(e,0);for(let f=0;f<i-1;++f)if(r=d,d=Xs(e,f+1),!(!r||!d)){if(ci(t[f],0,$u)){s[f]=s[f+1]=0;continue}o=s[f]/t[f],n=s[f+1]/t[f],l=Math.pow(o,2)+Math.pow(n,2),!(l<=9)&&(a=3/Math.sqrt(l),s[f]=o*a*t[f],s[f+1]=n*a*t[f])}}function Ou(e,t,s="x"){const i=Xl(s),o=e.length;let n,a,l,r=Xs(e,0);for(let d=0;d<o;++d){if(a=l,l=r,r=Xs(e,d+1),!l)continue;const f=l[s],g=l[i];a&&(n=(f-a[s])/3,l[`cp1${s}`]=f-n,l[`cp1${i}`]=g-n*t[d]),r&&(n=(r[s]-f)/3,l[`cp2${s}`]=f+n,l[`cp2${i}`]=g+n*t[d])}}function zu(e,t="x"){const s=Xl(t),i=e.length,o=Array(i).fill(0),n=Array(i);let a,l,r,d=Xs(e,0);for(a=0;a<i;++a)if(l=r,r=d,d=Xs(e,a+1),!!r){if(d){const f=d[t]-r[t];o[a]=f!==0?(d[s]-r[s])/f:0}n[a]=l?d?Le(o[a-1])!==Le(o[a])?0:(o[a-1]+o[a])/2:o[a-1]:o[a]}Eu(e,o,n),Ou(e,n,t)}function zi(e,t,s){return Math.max(Math.min(e,s),t)}function Iu(e,t){let s,i,o,n,a,l=vi(e[0],t);for(s=0,i=e.length;s<i;++s)a=n,n=l,l=s<i-1&&vi(e[s+1],t),n&&(o=e[s],a&&(o.cp1x=zi(o.cp1x,t.left,t.right),o.cp1y=zi(o.cp1y,t.top,t.bottom)),l&&(o.cp2x=zi(o.cp2x,t.left,t.right),o.cp2y=zi(o.cp2y,t.top,t.bottom)))}function Uu(e,t,s,i,o){let n,a,l,r;if(t.spanGaps&&(e=e.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")zu(e,o);else{let d=i?e[e.length-1]:e[0];for(n=0,a=e.length;n<a;++n)l=e[n],r=Lu(d,l,e[Math.min(n+1,a-(i?0:1))%a],t.tension),l.cp1x=r.previous.x,l.cp1y=r.previous.y,l.cp2x=r.next.x,l.cp2y=r.next.y,d=l}t.capBezierPoints&&Iu(e,s)}function _n(){return typeof window<"u"&&typeof document<"u"}function xn(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function io(e,t,s){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[s])):i=e,i}const uo=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function Vu(e,t){return uo(e).getPropertyValue(t)}const Bu=["top","right","bottom","left"];function As(e,t,s){const i={};s=s?"-"+s:"";for(let o=0;o<4;o++){const n=Bu[o];i[n]=parseFloat(e[t+"-"+n+s])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const Fu=(e,t,s)=>(e>0||t>0)&&(!s||!s.shadowRoot);function Hu(e,t){const s=e.touches,i=s&&s.length?s[0]:e,{offsetX:o,offsetY:n}=i;let a=!1,l,r;if(Fu(o,n,e.target))l=o,r=n;else{const d=t.getBoundingClientRect();l=i.clientX-d.left,r=i.clientY-d.top,a=!0}return{x:l,y:r,box:a}}function ws(e,t){if("native"in e)return e;const{canvas:s,currentDevicePixelRatio:i}=t,o=uo(s),n=o.boxSizing==="border-box",a=As(o,"padding"),l=As(o,"border","width"),{x:r,y:d,box:f}=Hu(e,s),g=a.left+(f&&l.left),m=a.top+(f&&l.top);let{width:v,height:y}=t;return n&&(v-=a.width+l.width,y-=a.height+l.height),{x:Math.round((r-g)/v*s.width/i),y:Math.round((d-m)/y*s.height/i)}}function Nu(e,t,s){let i,o;if(t===void 0||s===void 0){const n=e&&xn(e);if(!n)t=e.clientWidth,s=e.clientHeight;else{const a=n.getBoundingClientRect(),l=uo(n),r=As(l,"border","width"),d=As(l,"padding");t=a.width-d.width-r.width,s=a.height-d.height-r.height,i=io(l.maxWidth,n,"clientWidth"),o=io(l.maxHeight,n,"clientHeight")}}return{width:t,height:s,maxWidth:i||eo,maxHeight:o||eo}}const Ii=e=>Math.round(e*10)/10;function Wu(e,t,s,i){const o=uo(e),n=As(o,"margin"),a=io(o.maxWidth,e,"clientWidth")||eo,l=io(o.maxHeight,e,"clientHeight")||eo,r=Nu(e,t,s);let{width:d,height:f}=r;if(o.boxSizing==="content-box"){const m=As(o,"border","width"),v=As(o,"padding");d-=v.width+m.width,f-=v.height+m.height}return d=Math.max(0,d-n.width),f=Math.max(0,i?d/i:f-n.height),d=Ii(Math.min(d,a,r.maxWidth)),f=Ii(Math.min(f,l,r.maxHeight)),d&&!f&&(f=Ii(d/2)),(t!==void 0||s!==void 0)&&i&&r.height&&f>r.height&&(f=r.height,d=Ii(Math.floor(f*i))),{width:d,height:f}}function na(e,t,s){const i=t||1,o=Math.floor(e.height*i),n=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const a=e.canvas;return a.style&&(s||!a.style.height&&!a.style.width)&&(a.style.height=`${e.height}px`,a.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||a.height!==o||a.width!==n?(e.currentDevicePixelRatio=i,a.height=o,a.width=n,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const ju=(function(){let e=!1;try{const t={get passive(){return e=!0,!1}};_n()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e})();function aa(e,t){const s=Vu(e,t),i=s&&s.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function ks(e,t,s,i){return{x:e.x+s*(t.x-e.x),y:e.y+s*(t.y-e.y)}}function Gu(e,t,s,i){return{x:e.x+s*(t.x-e.x),y:i==="middle"?s<.5?e.y:t.y:i==="after"?s<1?e.y:t.y:s>0?t.y:e.y}}function Yu(e,t,s,i){const o={x:e.cp2x,y:e.cp2y},n={x:t.cp1x,y:t.cp1y},a=ks(e,o,s),l=ks(o,n,s),r=ks(n,t,s),d=ks(a,l,s),f=ks(l,r,s);return ks(d,f,s)}const qu=function(e,t){return{x(s){return e+e+t-s},setWidth(s){t=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,i){return s-i},leftForLtr(s,i){return s-i}}},Xu=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Gs(e,t,s){return e?qu(t,s):Xu()}function Kl(e,t){let s,i;(t==="ltr"||t==="rtl")&&(s=e.canvas.style,i=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",t,"important"),e.prevTextDirection=i)}function Jl(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Zl(e){return e==="angle"?{between:mi,compare:qd,normalize:je}:{between:qe,compare:(t,s)=>t-s,normalize:t=>t}}function la({start:e,end:t,count:s,loop:i,style:o}){return{start:e%s,end:t%s,loop:i&&(t-e+1)%s===0,style:o}}function Ku(e,t,s){const{property:i,start:o,end:n}=s,{between:a,normalize:l}=Zl(i),r=t.length;let{start:d,end:f,loop:g}=e,m,v;if(g){for(d+=r,f+=r,m=0,v=r;m<v&&a(l(t[d%r][i]),o,n);++m)d--,f--;d%=r,f%=r}return f<d&&(f+=r),{start:d,end:f,loop:g,style:e.style}}function Ju(e,t,s){if(!s)return[e];const{property:i,start:o,end:n}=s,a=t.length,{compare:l,between:r,normalize:d}=Zl(i),{start:f,end:g,loop:m,style:v}=Ku(e,t,s),y=[];let x=!1,w=null,C,M,T;const S=()=>r(o,T,C)&&l(o,T)!==0,A=()=>l(n,C)===0||r(n,T,C),z=()=>x||S(),F=()=>!x||A();for(let N=f,I=f;N<=g;++N)M=t[N%a],!M.skip&&(C=d(M[i]),C!==T&&(x=r(C,o,n),w===null&&z()&&(w=l(C,o)===0?N:I),w!==null&&F()&&(y.push(la({start:w,end:N,loop:m,count:a,style:v})),w=null),I=N,T=C));return w!==null&&y.push(la({start:w,end:g,loop:m,count:a,style:v})),y}function Zu(e,t){const s=[],i=e.segments;for(let o=0;o<i.length;o++){const n=Ju(i[o],e.points,t);n.length&&s.push(...n)}return s}function Qu(e,t,s,i){let o=0,n=t-1;if(s&&!i)for(;o<t&&!e[o].skip;)o++;for(;o<t&&e[o].skip;)o++;for(o%=t,s&&(n+=o);n>o&&e[n%t].skip;)n--;return n%=t,{start:o,end:n}}function th(e,t,s,i){const o=e.length,n=[];let a=t,l=e[t],r;for(r=t+1;r<=s;++r){const d=e[r%o];d.skip||d.stop?l.skip||(i=!1,n.push({start:t%o,end:(r-1)%o,loop:i}),t=a=d.stop?r:null):(a=r,l.skip&&(t=r)),l=d}return a!==null&&n.push({start:t%o,end:a%o,loop:i}),n}function eh(e,t){const s=e.points,i=e.options.spanGaps,o=s.length;if(!o)return[];const n=!!e._loop,{start:a,end:l}=Qu(s,o,n,i);if(i===!0)return ra(e,[{start:a,end:l,loop:n}],s,t);const r=l<a?l+o:l,d=!!e._fullLoop&&a===0&&l===o-1;return ra(e,th(s,a,r,d),s,t)}function ra(e,t,s,i){return!i||!i.setContext||!s?t:sh(e,t,s,i)}function sh(e,t,s,i){const o=e._chart.getContext(),n=ca(e.options),{_datasetIndex:a,options:{spanGaps:l}}=e,r=s.length,d=[];let f=n,g=t[0].start,m=g;function v(y,x,w,C){const M=l?-1:1;if(y!==x){for(y+=r;s[y%r].skip;)y-=M;for(;s[x%r].skip;)x+=M;y%r!==x%r&&(d.push({start:y%r,end:x%r,loop:w,style:C}),f=C,g=x%r)}}for(const y of t){g=l?g:y.start;let x=s[g%r],w;for(m=g+1;m<=y.end;m++){const C=s[m%r];w=ca(i.setContext($s(o,{type:"segment",p0:x,p1:C,p0DataIndex:(m-1)%r,p1DataIndex:m%r,datasetIndex:a}))),ih(w,f)&&v(g,m-1,y.loop,f),x=C,f=w}g<m-1&&v(g,m-1,y.loop,f)}return d}function ca(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function ih(e,t){if(!t)return!1;const s=[],i=function(o,n){return hn(n)?(s.includes(n)||s.push(n),s.indexOf(n)):n};return JSON.stringify(e,i)!==JSON.stringify(t,i)}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class oh{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,s,i,o){const n=s.listeners[o],a=s.duration;n.forEach(l=>l({chart:t,initial:s.initial,numSteps:a,currentStep:Math.min(i-s.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=Bl.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let s=0;this._charts.forEach((i,o)=>{if(!i.running||!i.items.length)return;const n=i.items;let a=n.length-1,l=!1,r;for(;a>=0;--a)r=n[a],r._active?(r._total>i.duration&&(i.duration=r._total),r.tick(t),l=!0):(n[a]=n[n.length-1],n.pop());l&&(o.draw(),this._notify(o,i,t,"progress")),n.length||(i.running=!1,this._notify(o,i,t,"complete"),i.initial=!1),s+=n.length}),this._lastDate=t,s===0&&(this._running=!1)}_getAnims(t){const s=this._charts;let i=s.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(t,i)),i}listen(t,s,i){this._getAnims(t).listeners[s].push(i)}add(t,s){!s||!s.length||this._getAnims(t).items.push(...s)}has(t){return this._getAnims(t).items.length>0}start(t){const s=this._charts.get(t);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((i,o)=>Math.max(i,o._duration),0),this._refresh())}running(t){if(!this._running)return!1;const s=this._charts.get(t);return!(!s||!s.running||!s.items.length)}stop(t){const s=this._charts.get(t);if(!s||!s.items.length)return;const i=s.items;let o=i.length-1;for(;o>=0;--o)i[o].cancel();s.items=[],this._notify(t,s,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ue=new oh;const da="transparent",nh={boolean(e,t,s){return s>.5?t:e},color(e,t,s){const i=Qn(e||da),o=i.valid&&Qn(t||da);return o&&o.valid?o.mix(i,s).hexString():t},number(e,t,s){return e+(t-e)*s}};class ah{constructor(t,s,i,o){const n=s[i];o=Oi([t.to,o,n,t.from]);const a=Oi([t.from,n,o]);this._active=!0,this._fn=t.fn||nh[t.type||typeof a],this._easing=di[t.easing]||di.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=s,this._prop=i,this._from=a,this._to=o,this._promises=void 0}active(){return this._active}update(t,s,i){if(this._active){this._notify(!1);const o=this._target[this._prop],n=i-this._start,a=this._duration-n;this._start=i,this._duration=Math.floor(Math.max(a,t.duration)),this._total+=n,this._loop=!!t.loop,this._to=Oi([t.to,s,o,t.from]),this._from=Oi([t.from,o,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const s=t-this._start,i=this._duration,o=this._prop,n=this._from,a=this._loop,l=this._to;let r;if(this._active=n!==l&&(a||s<i),!this._active){this._target[o]=l,this._notify(!0);return}if(s<0){this._target[o]=n;return}r=s/i%2,r=a&&r>1?2-r:r,r=this._easing(Math.min(1,Math.max(0,r))),this._target[o]=this._fn(n,l,r)}wait(){const t=this._promises||(this._promises=[]);return new Promise((s,i)=>{t.push({res:s,rej:i})})}_notify(t){const s=t?"res":"rej",i=this._promises||[];for(let o=0;o<i.length;o++)i[o][s]()}}class Ql{constructor(t,s){this._chart=t,this._properties=new Map,this.configure(s)}configure(t){if(!mt(t))return;const s=Object.keys(Bt.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(o=>{const n=t[o];if(!mt(n))return;const a={};for(const l of s)a[l]=n[l];(jt(n.properties)&&n.properties||[o]).forEach(l=>{(l===o||!i.has(l))&&i.set(l,a)})})}_animateOptions(t,s){const i=s.options,o=rh(t,i);if(!o)return[];const n=this._createAnimations(o,i);return i.$shared&&lh(t.options.$animations,i).then(()=>{t.options=i},()=>{}),n}_createAnimations(t,s){const i=this._properties,o=[],n=t.$animations||(t.$animations={}),a=Object.keys(s),l=Date.now();let r;for(r=a.length-1;r>=0;--r){const d=a[r];if(d.charAt(0)==="$")continue;if(d==="options"){o.push(...this._animateOptions(t,s));continue}const f=s[d];let g=n[d];const m=i.get(d);if(g)if(m&&g.active()){g.update(m,f,l);continue}else g.cancel();if(!m||!m.duration){t[d]=f;continue}n[d]=g=new ah(m,t,d,f),o.push(g)}return o}update(t,s){if(this._properties.size===0){Object.assign(t,s);return}const i=this._createAnimations(t,s);if(i.length)return Ue.add(this._chart,i),!0}}function lh(e,t){const s=[],i=Object.keys(t);for(let o=0;o<i.length;o++){const n=e[i[o]];n&&n.active()&&s.push(n.wait())}return Promise.all(s)}function rh(e,t){if(!t)return;let s=e.options;if(!s){e.options=t;return}return s.$shared&&(e.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function ua(e,t){const s=e&&e.options||{},i=s.reverse,o=s.min===void 0?t:0,n=s.max===void 0?t:0;return{start:i?n:o,end:i?o:n}}function ch(e,t,s){if(s===!1)return!1;const i=ua(e,s),o=ua(t,s);return{top:o.end,right:i.end,bottom:o.start,left:i.start}}function dh(e){let t,s,i,o;return mt(e)?(t=e.top,s=e.right,i=e.bottom,o=e.left):t=s=i=o=e,{top:t,right:s,bottom:i,left:o,disabled:e===!1}}function tr(e,t){const s=[],i=e._getSortedDatasetMetas(t);let o,n;for(o=0,n=i.length;o<n;++o)s.push(i[o].index);return s}function ha(e,t,s,i={}){const o=e.keys,n=i.mode==="single";let a,l,r,d;if(t===null)return;let f=!1;for(a=0,l=o.length;a<l;++a){if(r=+o[a],r===s){if(f=!0,i.all)continue;break}d=e.values[r],_e(d)&&(n||t===0||Le(t)===Le(d))&&(t+=d)}return!f&&!i.all?0:t}function uh(e,t){const{iScale:s,vScale:i}=t,o=s.axis==="x"?"x":"y",n=i.axis==="x"?"x":"y",a=Object.keys(e),l=new Array(a.length);let r,d,f;for(r=0,d=a.length;r<d;++r)f=a[r],l[r]={[o]:f,[n]:e[f]};return l}function wo(e,t){const s=e&&e.options.stacked;return s||s===void 0&&t.stack!==void 0}function hh(e,t,s){return`${e.id}.${t.id}.${s.stack||s.type}`}function fh(e){const{min:t,max:s,minDefined:i,maxDefined:o}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:o?s:Number.POSITIVE_INFINITY}}function ph(e,t,s){const i=e[t]||(e[t]={});return i[s]||(i[s]={})}function fa(e,t,s,i){for(const o of t.getMatchingVisibleMetas(i).reverse()){const n=e[o.index];if(s&&n>0||!s&&n<0)return o.index}return null}function pa(e,t){const{chart:s,_cachedMeta:i}=e,o=s._stacks||(s._stacks={}),{iScale:n,vScale:a,index:l}=i,r=n.axis,d=a.axis,f=hh(n,a,i),g=t.length;let m;for(let v=0;v<g;++v){const y=t[v],{[r]:x,[d]:w}=y,C=y._stacks||(y._stacks={});m=C[d]=ph(o,f,x),m[l]=w,m._top=fa(m,a,!0,i.type),m._bottom=fa(m,a,!1,i.type);const M=m._visualValues||(m._visualValues={});M[l]=w}}function ko(e,t){const s=e.scales;return Object.keys(s).filter(i=>s[i].axis===t).shift()}function gh(e,t){return $s(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function mh(e,t,s){return $s(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:s,index:t,mode:"default",type:"data"})}function ti(e,t){const s=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const o of t){const n=o._stacks;if(!n||n[i]===void 0||n[i][s]===void 0)return;delete n[i][s],n[i]._visualValues!==void 0&&n[i]._visualValues[s]!==void 0&&delete n[i]._visualValues[s]}}}const Co=e=>e==="reset"||e==="none",ga=(e,t)=>t?e:Object.assign({},e),vh=(e,t,s)=>e&&!t.hidden&&t._stacked&&{keys:tr(s,!0),values:null};class ho{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,s){this.chart=t,this._ctx=t.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=wo(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&ti(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,s=this._cachedMeta,i=this.getDataset(),o=(g,m,v,y)=>g==="x"?m:g==="r"?y:v,n=s.xAxisID=ft(i.xAxisID,ko(t,"x")),a=s.yAxisID=ft(i.yAxisID,ko(t,"y")),l=s.rAxisID=ft(i.rAxisID,ko(t,"r")),r=s.indexAxis,d=s.iAxisID=o(r,n,a,l),f=s.vAxisID=o(r,a,n,l);s.xScale=this.getScaleForId(n),s.yScale=this.getScaleForId(a),s.rScale=this.getScaleForId(l),s.iScale=this.getScaleForId(d),s.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const s=this._cachedMeta;return t===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Kn(this._data,this),t._stacked&&ti(t)}_dataCheck(){const t=this.getDataset(),s=t.data||(t.data=[]),i=this._data;if(mt(s)){const o=this._cachedMeta;this._data=uh(s,o)}else if(i!==s){if(i){Kn(i,this);const o=this._cachedMeta;ti(o),o._parsed=[]}s&&Object.isExtensible(s)&&Zd(s,this),this._syncList=[],this._data=s}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const s=this._cachedMeta,i=this.getDataset();let o=!1;this._dataCheck();const n=s._stacked;s._stacked=wo(s.vScale,s),s.stack!==i.stack&&(o=!0,ti(s),s.stack=i.stack),this._resyncElements(t),(o||n!==s._stacked)&&(pa(this,s._parsed),s._stacked=wo(s.vScale,s))}configure(){const t=this.chart.config,s=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),s,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,s){const{_cachedMeta:i,_data:o}=this,{iScale:n,_stacked:a}=i,l=n.axis;let r=t===0&&s===o.length?!0:i._sorted,d=t>0&&i._parsed[t-1],f,g,m;if(this._parsing===!1)i._parsed=o,i._sorted=!0,m=o;else{jt(o[t])?m=this.parseArrayData(i,o,t,s):mt(o[t])?m=this.parseObjectData(i,o,t,s):m=this.parsePrimitiveData(i,o,t,s);const v=()=>g[l]===null||d&&g[l]<d[l];for(f=0;f<s;++f)i._parsed[f+t]=g=m[f],r&&(v()&&(r=!1),d=g);i._sorted=r}a&&pa(this,m)}parsePrimitiveData(t,s,i,o){const{iScale:n,vScale:a}=t,l=n.axis,r=a.axis,d=n.getLabels(),f=n===a,g=new Array(o);let m,v,y;for(m=0,v=o;m<v;++m)y=m+i,g[m]={[l]:f||n.parse(d[y],y),[r]:a.parse(s[y],y)};return g}parseArrayData(t,s,i,o){const{xScale:n,yScale:a}=t,l=new Array(o);let r,d,f,g;for(r=0,d=o;r<d;++r)f=r+i,g=s[f],l[r]={x:n.parse(g[0],f),y:a.parse(g[1],f)};return l}parseObjectData(t,s,i,o){const{xScale:n,yScale:a}=t,{xAxisKey:l="x",yAxisKey:r="y"}=this._parsing,d=new Array(o);let f,g,m,v;for(f=0,g=o;f<g;++f)m=f+i,v=s[m],d[f]={x:n.parse(Ps(v,l),m),y:a.parse(Ps(v,r),m)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,s,i){const o=this.chart,n=this._cachedMeta,a=s[t.axis],l={keys:tr(o,!0),values:s._stacks[t.axis]._visualValues};return ha(l,a,n.index,{mode:i})}updateRangeFromParsed(t,s,i,o){const n=i[s.axis];let a=n===null?NaN:n;const l=o&&i._stacks[s.axis];o&&l&&(o.values=l,a=ha(o,n,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,s){const i=this._cachedMeta,o=i._parsed,n=i._sorted&&t===i.iScale,a=o.length,l=this._getOtherScale(t),r=vh(s,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:g}=fh(l);let m,v;function y(){v=o[m];const x=v[l.axis];return!_e(v[t.axis])||f>x||g<x}for(m=0;m<a&&!(!y()&&(this.updateRangeFromParsed(d,t,v,r),n));++m);if(n){for(m=a-1;m>=0;--m)if(!y()){this.updateRangeFromParsed(d,t,v,r);break}}return d}getAllParsedValues(t){const s=this._cachedMeta._parsed,i=[];let o,n,a;for(o=0,n=s.length;o<n;++o)a=s[o][t.axis],_e(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const s=this._cachedMeta,i=s.iScale,o=s.vScale,n=this.getParsed(t);return{label:i?""+i.getLabelForValue(n[i.axis]):"",value:o?""+o.getLabelForValue(n[o.axis]):""}}_update(t){const s=this._cachedMeta;this.update(t||"default"),s._clip=dh(ft(this.options.clip,ch(s.xScale,s.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,s=this.chart,i=this._cachedMeta,o=i.data||[],n=s.chartArea,a=[],l=this._drawStart||0,r=this._drawCount||o.length-l,d=this.options.drawActiveElementsOnTop;let f;for(i.dataset&&i.dataset.draw(t,n,l,r),f=l;f<l+r;++f){const g=o[f];g.hidden||(g.active&&d?a.push(g):g.draw(t,n))}for(f=0;f<a.length;++f)a[f].draw(t,n)}getStyle(t,s){const i=s?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,s,i){const o=this.getDataset();let n;if(t>=0&&t<this._cachedMeta.data.length){const a=this._cachedMeta.data[t];n=a.$context||(a.$context=mh(this.getContext(),t,a)),n.parsed=this.getParsed(t),n.raw=o.data[t],n.index=n.dataIndex=t}else n=this.$context||(this.$context=gh(this.chart.getContext(),this.index)),n.dataset=o,n.index=n.datasetIndex=this.index;return n.active=!!s,n.mode=i,n}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,s){return this._resolveElementOptions(this.dataElementType.id,s,t)}_resolveElementOptions(t,s="default",i){const o=s==="active",n=this._cachedDataOpts,a=t+"-"+s,l=n[a],r=this.enableOptionSharing&&pi(i);if(l)return ga(l,r);const d=this.chart.config,f=d.datasetElementScopeKeys(this._type,t),g=o?[`${t}Hover`,"hover",t,""]:[t,""],m=d.getOptionScopes(this.getDataset(),f),v=Object.keys(Bt.elements[t]),y=()=>this.getContext(i,o,s),x=d.resolveNamedOptions(m,v,y,g);return x.$shared&&(x.$shared=r,n[a]=Object.freeze(ga(x,r))),x}_resolveAnimations(t,s,i){const o=this.chart,n=this._cachedDataOpts,a=`animation-${s}`,l=n[a];if(l)return l;let r;if(o.options.animation!==!1){const f=this.chart.config,g=f.datasetAnimationScopeKeys(this._type,s),m=f.getOptionScopes(this.getDataset(),g);r=f.createResolver(m,this.getContext(t,i,s))}const d=new Ql(o,r&&r.animations);return r&&r._cacheable&&(n[a]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,s){return!s||Co(t)||this.chart._animationsDisabled}_getSharedOptions(t,s){const i=this.resolveDataElementOptions(t,s),o=this._sharedOptions,n=this.getSharedOptions(i),a=this.includeOptions(s,n)||n!==o;return this.updateSharedOptions(n,s,i),{sharedOptions:n,includeOptions:a}}updateElement(t,s,i,o){Co(o)?Object.assign(t,i):this._resolveAnimations(s,o).update(t,i)}updateSharedOptions(t,s,i){t&&!Co(s)&&this._resolveAnimations(void 0,s).update(t,i)}_setStyle(t,s,i,o){t.active=o;const n=this.getStyle(s,o);this._resolveAnimations(s,i,o).update(t,{options:!o&&this.getSharedOptions(n)||n})}removeHoverStyle(t,s,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,s,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const s=this._data,i=this._cachedMeta.data;for(const[l,r,d]of this._syncList)this[l](r,d);this._syncList=[];const o=i.length,n=s.length,a=Math.min(n,o);a&&this.parse(0,a),n>o?this._insertElements(o,n-o,t):n<o&&this._removeElements(n,o-n)}_insertElements(t,s,i=!0){const o=this._cachedMeta,n=o.data,a=t+s;let l;const r=d=>{for(d.length+=s,l=d.length-1;l>=a;l--)d[l]=d[l-s]};for(r(n),l=t;l<a;++l)n[l]=new this.dataElementType;this._parsing&&r(o._parsed),this.parse(t,s),i&&this.updateElements(n,t,s,"reset")}updateElements(t,s,i,o){}_removeElements(t,s){const i=this._cachedMeta;if(this._parsing){const o=i._parsed.splice(t,s);i._stacked&&ti(i,o)}i.data.splice(t,s)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[s,i,o]=t;this[s](i,o)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,s){s&&this._sync(["_removeElements",t,s]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function bh(e,t){if(!e._cache.$bar){const s=e.getMatchingVisibleMetas(t);let i=[];for(let o=0,n=s.length;o<n;o++)i=i.concat(s[o].controller.getAllParsedValues(e));e._cache.$bar=Vl(i.sort((o,n)=>o-n))}return e._cache.$bar}function yh(e){const t=e.iScale,s=bh(t,e.type);let i=t._length,o,n,a,l;const r=()=>{a===32767||a===-32768||(pi(l)&&(i=Math.min(i,Math.abs(a-l)||i)),l=a)};for(o=0,n=s.length;o<n;++o)a=t.getPixelForValue(s[o]),r();for(l=void 0,o=0,n=t.ticks.length;o<n;++o)a=t.getPixelForTick(o),r();return i}function _h(e,t,s,i){const o=s.barThickness;let n,a;return At(o)?(n=t.min*s.categoryPercentage,a=s.barPercentage):(n=o*i,a=1),{chunk:n/i,ratio:a,start:t.pixels[e]-n/2}}function xh(e,t,s,i){const o=t.pixels,n=o[e];let a=e>0?o[e-1]:null,l=e<o.length-1?o[e+1]:null;const r=s.categoryPercentage;a===null&&(a=n-(l===null?t.end-t.start:l-n)),l===null&&(l=n+n-a);const d=n-(n-Math.min(a,l))/2*r;return{chunk:Math.abs(l-a)/2*r/i,ratio:s.barPercentage,start:d}}function wh(e,t,s,i){const o=s.parse(e[0],i),n=s.parse(e[1],i),a=Math.min(o,n),l=Math.max(o,n);let r=a,d=l;Math.abs(a)>Math.abs(l)&&(r=l,d=a),t[s.axis]=d,t._custom={barStart:r,barEnd:d,start:o,end:n,min:a,max:l}}function er(e,t,s,i){return jt(e)?wh(e,t,s,i):t[s.axis]=s.parse(e,i),t}function ma(e,t,s,i){const o=e.iScale,n=e.vScale,a=o.getLabels(),l=o===n,r=[];let d,f,g,m;for(d=s,f=s+i;d<f;++d)m=t[d],g={},g[o.axis]=l||o.parse(a[d],d),r.push(er(m,g,n,d));return r}function So(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function kh(e,t,s){return e!==0?Le(e):(t.isHorizontal()?1:-1)*(t.min>=s?1:-1)}function Ch(e){let t,s,i,o,n;return e.horizontal?(t=e.base>e.x,s="left",i="right"):(t=e.base<e.y,s="bottom",i="top"),t?(o="end",n="start"):(o="start",n="end"),{start:s,end:i,reverse:t,top:o,bottom:n}}function Sh(e,t,s,i){let o=t.borderSkipped;const n={};if(!o){e.borderSkipped=n;return}if(o===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:l,reverse:r,top:d,bottom:f}=Ch(e);o==="middle"&&s&&(e.enableBorderRadius=!0,(s._top||0)===i?o=d:(s._bottom||0)===i?o=f:(n[va(f,a,l,r)]=!0,o=d)),n[va(o,a,l,r)]=!0,e.borderSkipped=n}function va(e,t,s,i){return i?(e=Dh(e,t,s),e=ba(e,s,t)):e=ba(e,t,s),e}function Dh(e,t,s){return e===t?s:e===s?t:e}function ba(e,t,s){return e==="start"?t:e==="end"?s:e}function Th(e,{inflateAmount:t},s){e.inflateAmount=t==="auto"?s===1?.33:0:t}class Ah extends ho{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,s,i,o){return ma(t,s,i,o)}parseArrayData(t,s,i,o){return ma(t,s,i,o)}parseObjectData(t,s,i,o){const{iScale:n,vScale:a}=t,{xAxisKey:l="x",yAxisKey:r="y"}=this._parsing,d=n.axis==="x"?l:r,f=a.axis==="x"?l:r,g=[];let m,v,y,x;for(m=i,v=i+o;m<v;++m)x=s[m],y={},y[n.axis]=n.parse(Ps(x,d),m),g.push(er(Ps(x,f),y,a,m));return g}updateRangeFromParsed(t,s,i,o){super.updateRangeFromParsed(t,s,i,o);const n=i._custom;n&&s===this._cachedMeta.vScale&&(t.min=Math.min(t.min,n.min),t.max=Math.max(t.max,n.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const s=this._cachedMeta,{iScale:i,vScale:o}=s,n=this.getParsed(t),a=n._custom,l=So(a)?"["+a.start+", "+a.end+"]":""+o.getLabelForValue(n[o.axis]);return{label:""+i.getLabelForValue(n[i.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,t)}updateElements(t,s,i,o){const n=o==="reset",{index:a,_cachedMeta:{vScale:l}}=this,r=l.getBasePixel(),d=l.isHorizontal(),f=this._getRuler(),{sharedOptions:g,includeOptions:m}=this._getSharedOptions(s,o);for(let v=s;v<s+i;v++){const y=this.getParsed(v),x=n||At(y[l.axis])?{base:r,head:r}:this._calculateBarValuePixels(v),w=this._calculateBarIndexPixels(v,f),C=(y._stacks||{})[l.axis],M={horizontal:d,base:x.base,enableBorderRadius:!C||So(y._custom)||a===C._top||a===C._bottom,x:d?x.head:w.center,y:d?w.center:x.head,height:d?w.size:Math.abs(x.size),width:d?Math.abs(x.size):w.size};m&&(M.options=g||this.resolveDataElementOptions(v,t[v].active?"active":o));const T=M.options||t[v].options;Sh(M,T,C,a),Th(M,T,f.ratio),this.updateElement(t[v],v,M,o)}}_getStacks(t,s){const{iScale:i}=this._cachedMeta,o=i.getMatchingVisibleMetas(this._type).filter(f=>f.controller.options.grouped),n=i.options.stacked,a=[],l=this._cachedMeta.controller.getParsed(s),r=l&&l[i.axis],d=f=>{const g=f._parsed.find(v=>v[i.axis]===r),m=g&&g[f.vScale.axis];if(At(m)||isNaN(m))return!0};for(const f of o)if(!(s!==void 0&&d(f))&&((n===!1||a.indexOf(f.stack)===-1||n===void 0&&f.stack===void 0)&&a.push(f.stack),f.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,s,i){const o=this._getStacks(t,i),n=s!==void 0?o.indexOf(s):-1;return n===-1?o.length-1:n}_getRuler(){const t=this.options,s=this._cachedMeta,i=s.iScale,o=[];let n,a;for(n=0,a=s.data.length;n<a;++n)o.push(i.getPixelForValue(this.getParsed(n)[i.axis],n));const l=t.barThickness;return{min:l||yh(s),pixels:o,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:l?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:s,_stacked:i,index:o},options:{base:n,minBarLength:a}}=this,l=n||0,r=this.getParsed(t),d=r._custom,f=So(d);let g=r[s.axis],m=0,v=i?this.applyStack(s,r,i):g,y,x;v!==g&&(m=v-g,v=g),f&&(g=d.barStart,v=d.barEnd-d.barStart,g!==0&&Le(g)!==Le(d.barEnd)&&(m=0),m+=g);const w=!At(n)&&!f?n:m;let C=s.getPixelForValue(w);if(this.chart.getDataVisibility(t)?y=s.getPixelForValue(m+v):y=C,x=y-C,Math.abs(x)<a){x=kh(x,s,l)*a,g===l&&(C-=x/2);const M=s.getPixelForDecimal(0),T=s.getPixelForDecimal(1),S=Math.min(M,T),A=Math.max(M,T);C=Math.max(Math.min(C,A),S),y=C+x,i&&!f&&(r._stacks[s.axis]._visualValues[o]=s.getValueForPixel(y)-s.getValueForPixel(C))}if(C===s.getPixelForValue(l)){const M=Le(x)*s.getLineWidthForValue(l)/2;C+=M,x-=M}return{size:x,base:C,head:y,center:y+x/2}}_calculateBarIndexPixels(t,s){const i=s.scale,o=this.options,n=o.skipNull,a=ft(o.maxBarThickness,1/0);let l,r;if(s.grouped){const d=n?this._getStackCount(t):s.stackCount,f=o.barThickness==="flex"?xh(t,s,o,d):_h(t,s,o,d),g=this._getStackIndex(this.index,this._cachedMeta.stack,n?t:void 0);l=f.start+f.chunk*g+f.chunk/2,r=Math.min(a,f.chunk*f.ratio)}else l=i.getPixelForValue(this.getParsed(t)[i.axis],t),r=Math.min(a,s.min*s.ratio);return{base:l-r/2,head:l+r/2,center:l,size:r}}draw(){const t=this._cachedMeta,s=t.vScale,i=t.data,o=i.length;let n=0;for(;n<o;++n)this.getParsed(n)[s.axis]!==null&&!i[n].hidden&&i[n].draw(this._ctx)}}function Mh(e,t,s){let i=1,o=1,n=0,a=0;if(t<Et){const l=e,r=l+t,d=Math.cos(l),f=Math.sin(l),g=Math.cos(r),m=Math.sin(r),v=(T,S,A)=>mi(T,l,r,!0)?1:Math.max(S,S*s,A,A*s),y=(T,S,A)=>mi(T,l,r,!0)?-1:Math.min(S,S*s,A,A*s),x=v(0,d,g),w=v(Gt,f,m),C=y(Ot,d,g),M=y(Ot+Gt,f,m);i=(x-C)/2,o=(w-M)/2,n=-(x+C)/2,a=-(w+M)/2}return{ratioX:i,ratioY:o,offsetX:n,offsetY:a}}class Ph extends ho{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const s=t.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:i,color:o}}=t.legend.options;return s.labels.map((n,a)=>{const r=t.getDatasetMeta(0).controller.getStyle(a);return{text:n,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,fontColor:o,lineWidth:r.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,s,i){i.chart.toggleDataVisibility(s.index),i.chart.update()}}}};constructor(t,s){super(t,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,s){const i=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=i;else{let n=r=>+i[r];if(mt(i[t])){const{key:r="value"}=this._parsing;n=d=>+Ps(i[d],r)}let a,l;for(a=t,l=t+s;a<l;++a)o._parsed[a]=n(a)}}_getRotation(){return Ne(this.options.rotation-90)}_getCircumference(){return Ne(this.options.circumference)}_getRotationExtents(){let t=Et,s=-Et;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const o=this.chart.getDatasetMeta(i).controller,n=o._getRotation(),a=o._getCircumference();t=Math.min(t,n),s=Math.max(s,n+a)}return{rotation:t,circumference:s-t}}update(t){const s=this.chart,{chartArea:i}=s,o=this._cachedMeta,n=o.data,a=this.getMaxBorderWidth()+this.getMaxOffset(n)+this.options.spacing,l=Math.max((Math.min(i.width,i.height)-a)/2,0),r=Math.min(zd(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:f,rotation:g}=this._getRotationExtents(),{ratioX:m,ratioY:v,offsetX:y,offsetY:x}=Mh(g,f,r),w=(i.width-a)/m,C=(i.height-a)/v,M=Math.max(Math.min(w,C)/2,0),T=El(this.options.radius,M),S=Math.max(T*r,0),A=(T-S)/this._getVisibleDatasetWeightTotal();this.offsetX=y*T,this.offsetY=x*T,o.total=this.calculateTotal(),this.outerRadius=T-A*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-A*d,0),this.updateElements(n,0,n.length,t)}_circumference(t,s){const i=this.options,o=this._cachedMeta,n=this._getCircumference();return s&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||o._parsed[t]===null||o.data[t].hidden?0:this.calculateCircumference(o._parsed[t]*n/Et)}updateElements(t,s,i,o){const n=o==="reset",a=this.chart,l=a.chartArea,d=a.options.animation,f=(l.left+l.right)/2,g=(l.top+l.bottom)/2,m=n&&d.animateScale,v=m?0:this.innerRadius,y=m?0:this.outerRadius,{sharedOptions:x,includeOptions:w}=this._getSharedOptions(s,o);let C=this._getRotation(),M;for(M=0;M<s;++M)C+=this._circumference(M,n);for(M=s;M<s+i;++M){const T=this._circumference(M,n),S=t[M],A={x:f+this.offsetX,y:g+this.offsetY,startAngle:C,endAngle:C+T,circumference:T,outerRadius:y,innerRadius:v};w&&(A.options=x||this.resolveDataElementOptions(M,S.active?"active":o)),C+=T,this.updateElement(S,M,A,o)}}calculateTotal(){const t=this._cachedMeta,s=t.data;let i=0,o;for(o=0;o<s.length;o++){const n=t._parsed[o];n!==null&&!isNaN(n)&&this.chart.getDataVisibility(o)&&!s[o].hidden&&(i+=Math.abs(n))}return i}calculateCircumference(t){const s=this._cachedMeta.total;return s>0&&!isNaN(t)?Et*(Math.abs(t)/s):0}getLabelAndValue(t){const s=this._cachedMeta,i=this.chart,o=i.data.labels||[],n=fn(s._parsed[t],i.options.locale);return{label:o[t]||"",value:n}}getMaxBorderWidth(t){let s=0;const i=this.chart;let o,n,a,l,r;if(!t){for(o=0,n=i.data.datasets.length;o<n;++o)if(i.isDatasetVisible(o)){a=i.getDatasetMeta(o),t=a.data,l=a.controller;break}}if(!t)return 0;for(o=0,n=t.length;o<n;++o)r=l.resolveDataElementOptions(o),r.borderAlign!=="inner"&&(s=Math.max(s,r.borderWidth||0,r.hoverBorderWidth||0));return s}getMaxOffset(t){let s=0;for(let i=0,o=t.length;i<o;++i){const n=this.resolveDataElementOptions(i);s=Math.max(s,n.offset||0,n.hoverOffset||0)}return s}_getRingWeightOffset(t){let s=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(s+=this._getRingWeight(i));return s}_getRingWeight(t){return Math.max(ft(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class Rh extends ho{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const s=this._cachedMeta,{dataset:i,data:o=[],_dataset:n}=s,a=this.chart._animationsDisabled;let{start:l,count:r}=eu(s,o,a);this._drawStart=l,this._drawCount=r,su(s)&&(l=0,r=o.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!n._decimated,i.points=o;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:d},t),this.updateElements(o,l,r,t)}updateElements(t,s,i,o){const n=o==="reset",{iScale:a,vScale:l,_stacked:r,_dataset:d}=this._cachedMeta,{sharedOptions:f,includeOptions:g}=this._getSharedOptions(s,o),m=a.axis,v=l.axis,{spanGaps:y,segment:x}=this.options,w=gi(y)?y:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||n||o==="none",M=s+i,T=t.length;let S=s>0&&this.getParsed(s-1);for(let A=0;A<T;++A){const z=t[A],F=C?z:{};if(A<s||A>=M){F.skip=!0;continue}const N=this.getParsed(A),I=At(N[v]),B=F[m]=a.getPixelForValue(N[m],A),V=F[v]=n||I?l.getBasePixel():l.getPixelForValue(r?this.applyStack(l,N,r):N[v],A);F.skip=isNaN(B)||isNaN(V)||I,F.stop=A>0&&Math.abs(N[m]-S[m])>w,x&&(F.parsed=N,F.raw=d.data[A]),g&&(F.options=f||this.resolveDataElementOptions(A,z.active?"active":o)),C||this.updateElement(z,A,F,o),S=N}}getMaxOverflow(){const t=this._cachedMeta,s=t.dataset,i=s.options&&s.options.borderWidth||0,o=t.data||[];if(!o.length)return i;const n=o[0].size(this.resolveDataElementOptions(0)),a=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(i,n,a)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class $h extends Ph{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function _s(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class wn{static override(t){Object.assign(wn.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return _s()}parse(){return _s()}format(){return _s()}add(){return _s()}diff(){return _s()}startOf(){return _s()}endOf(){return _s()}}var Lh={_date:wn};function Eh(e,t,s,i){const{controller:o,data:n,_sorted:a}=e,l=o._cachedMeta.iScale;if(l&&t===l.axis&&t!=="r"&&a&&n.length){const r=l._reversePixels?Kd:Ts;if(i){if(o._sharedOptions){const d=n[0],f=typeof d.getRange=="function"&&d.getRange(t);if(f){const g=r(n,t,s-f),m=r(n,t,s+f);return{lo:g.lo,hi:m.hi}}}}else return r(n,t,s)}return{lo:0,hi:n.length-1}}function fo(e,t,s,i,o){const n=e.getSortedVisibleDatasetMetas(),a=s[t];for(let l=0,r=n.length;l<r;++l){const{index:d,data:f}=n[l],{lo:g,hi:m}=Eh(n[l],t,a,o);for(let v=g;v<=m;++v){const y=f[v];y.skip||i(y,d,v)}}}function Oh(e){const t=e.indexOf("x")!==-1,s=e.indexOf("y")!==-1;return function(i,o){const n=t?Math.abs(i.x-o.x):0,a=s?Math.abs(i.y-o.y):0;return Math.sqrt(Math.pow(n,2)+Math.pow(a,2))}}function Do(e,t,s,i,o){const n=[];return!o&&!e.isPointInArea(t)||fo(e,s,t,function(l,r,d){!o&&!vi(l,e.chartArea,0)||l.inRange(t.x,t.y,i)&&n.push({element:l,datasetIndex:r,index:d})},!0),n}function zh(e,t,s,i){let o=[];function n(a,l,r){const{startAngle:d,endAngle:f}=a.getProps(["startAngle","endAngle"],i),{angle:g}=Il(a,{x:t.x,y:t.y});mi(g,d,f)&&o.push({element:a,datasetIndex:l,index:r})}return fo(e,s,t,n),o}function Ih(e,t,s,i,o,n){let a=[];const l=Oh(s);let r=Number.POSITIVE_INFINITY;function d(f,g,m){const v=f.inRange(t.x,t.y,o);if(i&&!v)return;const y=f.getCenterPoint(o);if(!(!!n||e.isPointInArea(y))&&!v)return;const w=l(t,y);w<r?(a=[{element:f,datasetIndex:g,index:m}],r=w):w===r&&a.push({element:f,datasetIndex:g,index:m})}return fo(e,s,t,d),a}function To(e,t,s,i,o,n){return!n&&!e.isPointInArea(t)?[]:s==="r"&&!i?zh(e,t,s,o):Ih(e,t,s,i,o,n)}function ya(e,t,s,i,o){const n=[],a=s==="x"?"inXRange":"inYRange";let l=!1;return fo(e,s,t,(r,d,f)=>{r[a]&&r[a](t[s],o)&&(n.push({element:r,datasetIndex:d,index:f}),l=l||r.inRange(t.x,t.y,o))}),i&&!l?[]:n}var Uh={modes:{index(e,t,s,i){const o=ws(t,e),n=s.axis||"x",a=s.includeInvisible||!1,l=s.intersect?Do(e,o,n,i,a):To(e,o,n,!1,i,a),r=[];return l.length?(e.getSortedVisibleDatasetMetas().forEach(d=>{const f=l[0].index,g=d.data[f];g&&!g.skip&&r.push({element:g,datasetIndex:d.index,index:f})}),r):[]},dataset(e,t,s,i){const o=ws(t,e),n=s.axis||"xy",a=s.includeInvisible||!1;let l=s.intersect?Do(e,o,n,i,a):To(e,o,n,!1,i,a);if(l.length>0){const r=l[0].datasetIndex,d=e.getDatasetMeta(r).data;l=[];for(let f=0;f<d.length;++f)l.push({element:d[f],datasetIndex:r,index:f})}return l},point(e,t,s,i){const o=ws(t,e),n=s.axis||"xy",a=s.includeInvisible||!1;return Do(e,o,n,i,a)},nearest(e,t,s,i){const o=ws(t,e),n=s.axis||"xy",a=s.includeInvisible||!1;return To(e,o,n,s.intersect,i,a)},x(e,t,s,i){const o=ws(t,e);return ya(e,o,"x",s.intersect,i)},y(e,t,s,i){const o=ws(t,e);return ya(e,o,"y",s.intersect,i)}}};const sr=["left","top","right","bottom"];function ei(e,t){return e.filter(s=>s.pos===t)}function _a(e,t){return e.filter(s=>sr.indexOf(s.pos)===-1&&s.box.axis===t)}function si(e,t){return e.sort((s,i)=>{const o=t?i:s,n=t?s:i;return o.weight===n.weight?o.index-n.index:o.weight-n.weight})}function Vh(e){const t=[];let s,i,o,n,a,l;for(s=0,i=(e||[]).length;s<i;++s)o=e[s],{position:n,options:{stack:a,stackWeight:l=1}}=o,t.push({index:s,box:o,pos:n,horizontal:o.isHorizontal(),weight:o.weight,stack:a&&n+a,stackWeight:l});return t}function Bh(e){const t={};for(const s of e){const{stack:i,pos:o,stackWeight:n}=s;if(!i||!sr.includes(o))continue;const a=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=n}return t}function Fh(e,t){const s=Bh(e),{vBoxMaxWidth:i,hBoxMaxHeight:o}=t;let n,a,l;for(n=0,a=e.length;n<a;++n){l=e[n];const{fullSize:r}=l.box,d=s[l.stack],f=d&&l.stackWeight/d.weight;l.horizontal?(l.width=f?f*i:r&&t.availableWidth,l.height=o):(l.width=i,l.height=f?f*o:r&&t.availableHeight)}return s}function Hh(e){const t=Vh(e),s=si(t.filter(d=>d.box.fullSize),!0),i=si(ei(t,"left"),!0),o=si(ei(t,"right")),n=si(ei(t,"top"),!0),a=si(ei(t,"bottom")),l=_a(t,"x"),r=_a(t,"y");return{fullSize:s,leftAndTop:i.concat(n),rightAndBottom:o.concat(r).concat(a).concat(l),chartArea:ei(t,"chartArea"),vertical:i.concat(o).concat(r),horizontal:n.concat(a).concat(l)}}function xa(e,t,s,i){return Math.max(e[s],t[s])+Math.max(e[i],t[i])}function ir(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Nh(e,t,s,i){const{pos:o,box:n}=s,a=e.maxPadding;if(!mt(o)){s.size&&(e[o]-=s.size);const g=i[s.stack]||{size:0,count:1};g.size=Math.max(g.size,s.horizontal?n.height:n.width),s.size=g.size/g.count,e[o]+=s.size}n.getPadding&&ir(a,n.getPadding());const l=Math.max(0,t.outerWidth-xa(a,e,"left","right")),r=Math.max(0,t.outerHeight-xa(a,e,"top","bottom")),d=l!==e.w,f=r!==e.h;return e.w=l,e.h=r,s.horizontal?{same:d,other:f}:{same:f,other:d}}function Wh(e){const t=e.maxPadding;function s(i){const o=Math.max(t[i]-e[i],0);return e[i]+=o,o}e.y+=s("top"),e.x+=s("left"),s("right"),s("bottom")}function jh(e,t){const s=t.maxPadding;function i(o){const n={left:0,top:0,right:0,bottom:0};return o.forEach(a=>{n[a]=Math.max(t[a],s[a])}),n}return i(e?["left","right"]:["top","bottom"])}function ai(e,t,s,i){const o=[];let n,a,l,r,d,f;for(n=0,a=e.length,d=0;n<a;++n){l=e[n],r=l.box,r.update(l.width||t.w,l.height||t.h,jh(l.horizontal,t));const{same:g,other:m}=Nh(t,s,l,i);d|=g&&o.length,f=f||m,r.fullSize||o.push(l)}return d&&ai(o,t,s,i)||f}function Ui(e,t,s,i,o){e.top=s,e.left=t,e.right=t+i,e.bottom=s+o,e.width=i,e.height=o}function wa(e,t,s,i){const o=s.padding;let{x:n,y:a}=t;for(const l of e){const r=l.box,d=i[l.stack]||{placed:0,weight:1},f=l.stackWeight/d.weight||1;if(l.horizontal){const g=t.w*f,m=d.size||r.height;pi(d.start)&&(a=d.start),r.fullSize?Ui(r,o.left,a,s.outerWidth-o.right-o.left,m):Ui(r,t.left+d.placed,a,g,m),d.start=a,d.placed+=g,a=r.bottom}else{const g=t.h*f,m=d.size||r.width;pi(d.start)&&(n=d.start),r.fullSize?Ui(r,n,o.top,m,s.outerHeight-o.bottom-o.top):Ui(r,n,t.top+d.placed,m,g),d.start=n,d.placed+=g,n=r.right}}t.x=n,t.y=a}var ye={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(s){t.draw(s)}}]},e.boxes.push(t)},removeBox(e,t){const s=e.boxes?e.boxes.indexOf(t):-1;s!==-1&&e.boxes.splice(s,1)},configure(e,t,s){t.fullSize=s.fullSize,t.position=s.position,t.weight=s.weight},update(e,t,s,i){if(!e)return;const o=xe(e.options.layout.padding),n=Math.max(t-o.width,0),a=Math.max(s-o.height,0),l=Hh(e.boxes),r=l.vertical,d=l.horizontal;wt(e.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const f=r.reduce((x,w)=>w.box.options&&w.box.options.display===!1?x:x+1,0)||1,g=Object.freeze({outerWidth:t,outerHeight:s,padding:o,availableWidth:n,availableHeight:a,vBoxMaxWidth:n/2/f,hBoxMaxHeight:a/2}),m=Object.assign({},o);ir(m,xe(i));const v=Object.assign({maxPadding:m,w:n,h:a,x:o.left,y:o.top},o),y=Fh(r.concat(d),g);ai(l.fullSize,v,g,y),ai(r,v,g,y),ai(d,v,g,y)&&ai(r,v,g,y),Wh(v),wa(l.leftAndTop,v,g,y),v.x+=v.w,v.y+=v.h,wa(l.rightAndBottom,v,g,y),e.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},wt(l.chartArea,x=>{const w=x.box;Object.assign(w,e.chartArea),w.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class or{acquireContext(t,s){}releaseContext(t){return!1}addEventListener(t,s,i){}removeEventListener(t,s,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,s,i,o){return s=Math.max(0,s||t.width),i=i||t.height,{width:s,height:Math.max(0,o?Math.floor(s/o):i)}}isAttached(t){return!0}updateConfig(t){}}class Gh extends or{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Xi="$chartjs",Yh={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ka=e=>e===null||e==="";function qh(e,t){const s=e.style,i=e.getAttribute("height"),o=e.getAttribute("width");if(e[Xi]={initial:{height:i,width:o,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",ka(o)){const n=aa(e,"width");n!==void 0&&(e.width=n)}if(ka(i))if(e.style.height==="")e.height=e.width/(t||2);else{const n=aa(e,"height");n!==void 0&&(e.height=n)}return e}const nr=ju?{passive:!0}:!1;function Xh(e,t,s){e&&e.addEventListener(t,s,nr)}function Kh(e,t,s){e&&e.canvas&&e.canvas.removeEventListener(t,s,nr)}function Jh(e,t){const s=Yh[e.type]||e.type,{x:i,y:o}=ws(e,t);return{type:s,chart:t,native:e,x:i!==void 0?i:null,y:o!==void 0?o:null}}function oo(e,t){for(const s of e)if(s===t||s.contains(t))return!0}function Zh(e,t,s){const i=e.canvas,o=new MutationObserver(n=>{let a=!1;for(const l of n)a=a||oo(l.addedNodes,i),a=a&&!oo(l.removedNodes,i);a&&s()});return o.observe(document,{childList:!0,subtree:!0}),o}function Qh(e,t,s){const i=e.canvas,o=new MutationObserver(n=>{let a=!1;for(const l of n)a=a||oo(l.removedNodes,i),a=a&&!oo(l.addedNodes,i);a&&s()});return o.observe(document,{childList:!0,subtree:!0}),o}const yi=new Map;let Ca=0;function ar(){const e=window.devicePixelRatio;e!==Ca&&(Ca=e,yi.forEach((t,s)=>{s.currentDevicePixelRatio!==e&&t()}))}function tf(e,t){yi.size||window.addEventListener("resize",ar),yi.set(e,t)}function ef(e){yi.delete(e),yi.size||window.removeEventListener("resize",ar)}function sf(e,t,s){const i=e.canvas,o=i&&xn(i);if(!o)return;const n=Fl((l,r)=>{const d=o.clientWidth;s(l,r),d<o.clientWidth&&s()},window),a=new ResizeObserver(l=>{const r=l[0],d=r.contentRect.width,f=r.contentRect.height;d===0&&f===0||n(d,f)});return a.observe(o),tf(e,n),a}function Ao(e,t,s){s&&s.disconnect(),t==="resize"&&ef(e)}function of(e,t,s){const i=e.canvas,o=Fl(n=>{e.ctx!==null&&s(Jh(n,e))},e);return Xh(i,t,o),o}class nf extends or{acquireContext(t,s){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(qh(t,s),i):null}releaseContext(t){const s=t.canvas;if(!s[Xi])return!1;const i=s[Xi].initial;["height","width"].forEach(n=>{const a=i[n];At(a)?s.removeAttribute(n):s.setAttribute(n,a)});const o=i.style||{};return Object.keys(o).forEach(n=>{s.style[n]=o[n]}),s.width=s.width,delete s[Xi],!0}addEventListener(t,s,i){this.removeEventListener(t,s);const o=t.$proxies||(t.$proxies={}),a={attach:Zh,detach:Qh,resize:sf}[s]||of;o[s]=a(t,s,i)}removeEventListener(t,s){const i=t.$proxies||(t.$proxies={}),o=i[s];if(!o)return;({attach:Ao,detach:Ao,resize:Ao}[s]||Kh)(t,s,o),i[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,s,i,o){return Wu(t,s,i,o)}isAttached(t){const s=t&&xn(t);return!!(s&&s.isConnected)}}function af(e){return!_n()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?Gh:nf}class We{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:s,y:i}=this.getProps(["x","y"],t);return{x:s,y:i}}hasValue(){return gi(this.x)&&gi(this.y)}getProps(t,s){const i=this.$animations;if(!s||!i)return this;const o={};return t.forEach(n=>{o[n]=i[n]&&i[n].active()?i[n]._to:this[n]}),o}}function lf(e,t){const s=e.options.ticks,i=rf(e),o=Math.min(s.maxTicksLimit||i,i),n=s.major.enabled?df(t):[],a=n.length,l=n[0],r=n[a-1],d=[];if(a>o)return uf(t,d,n,a/o),d;const f=cf(n,t,o);if(a>0){let g,m;const v=a>1?Math.round((r-l)/(a-1)):null;for(Vi(t,d,f,At(v)?0:l-v,l),g=0,m=a-1;g<m;g++)Vi(t,d,f,n[g],n[g+1]);return Vi(t,d,f,r,At(v)?t.length:r+v),d}return Vi(t,d,f),d}function rf(e){const t=e.options.offset,s=e._tickSize(),i=e._length/s+(t?0:1),o=e._maxLength/s;return Math.floor(Math.min(i,o))}function cf(e,t,s){const i=hf(e),o=t.length/s;if(!i)return Math.max(o,1);const n=Wd(i);for(let a=0,l=n.length-1;a<l;a++){const r=n[a];if(r>o)return r}return Math.max(o,1)}function df(e){const t=[];let s,i;for(s=0,i=e.length;s<i;s++)e[s].major&&t.push(s);return t}function uf(e,t,s,i){let o=0,n=s[0],a;for(i=Math.ceil(i),a=0;a<e.length;a++)a===n&&(t.push(e[a]),o++,n=s[o*i])}function Vi(e,t,s,i,o){const n=ft(i,0),a=Math.min(ft(o,e.length),e.length);let l=0,r,d,f;for(s=Math.ceil(s),o&&(r=o-i,s=r/Math.floor(r/s)),f=n;f<0;)l++,f=Math.round(n+l*s);for(d=Math.max(n,0);d<a;d++)d===f&&(t.push(e[d]),l++,f=Math.round(n+l*s))}function hf(e){const t=e.length;let s,i;if(t<2)return!1;for(i=e[0],s=1;s<t;++s)if(e[s]-e[s-1]!==i)return!1;return i}const ff=e=>e==="left"?"right":e==="right"?"left":e,Sa=(e,t,s)=>t==="top"||t==="left"?e[t]+s:e[t]-s,Da=(e,t)=>Math.min(t||e,e);function Ta(e,t){const s=[],i=e.length/t,o=e.length;let n=0;for(;n<o;n+=i)s.push(e[Math.floor(n)]);return s}function pf(e,t,s){const i=e.ticks.length,o=Math.min(t,i-1),n=e._startPixel,a=e._endPixel,l=1e-6;let r=e.getPixelForTick(o),d;if(!(s&&(i===1?d=Math.max(r-n,a-r):t===0?d=(e.getPixelForTick(1)-r)/2:d=(r-e.getPixelForTick(o-1))/2,r+=o<t?d:-d,r<n-l||r>a+l)))return r}function gf(e,t){wt(e,s=>{const i=s.gc,o=i.length/2;let n;if(o>t){for(n=0;n<o;++n)delete s.data[i[n]];i.splice(0,o)}})}function ii(e){return e.drawTicks?e.tickLength:0}function Aa(e,t){if(!e.display)return 0;const s=ie(e.font,t),i=xe(e.padding);return(jt(e.text)?e.text.length:1)*s.lineHeight+i.height}function mf(e,t){return $s(e,{scale:t,type:"scale"})}function vf(e,t,s){return $s(e,{tick:s,index:t,type:"tick"})}function bf(e,t,s){let i=un(e);return(s&&t!=="right"||!s&&t==="right")&&(i=ff(i)),i}function yf(e,t,s,i){const{top:o,left:n,bottom:a,right:l,chart:r}=e,{chartArea:d,scales:f}=r;let g=0,m,v,y;const x=a-o,w=l-n;if(e.isHorizontal()){if(v=te(i,n,l),mt(s)){const C=Object.keys(s)[0],M=s[C];y=f[C].getPixelForValue(M)+x-t}else s==="center"?y=(d.bottom+d.top)/2+x-t:y=Sa(e,s,t);m=l-n}else{if(mt(s)){const C=Object.keys(s)[0],M=s[C];v=f[C].getPixelForValue(M)-w+t}else s==="center"?v=(d.left+d.right)/2-w+t:v=Sa(e,s,t);y=te(i,a,o),g=s==="left"?-Gt:Gt}return{titleX:v,titleY:y,maxWidth:m,rotation:g}}class Ks extends We{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,s){return t}getUserBounds(){let{_userMin:t,_userMax:s,_suggestedMin:i,_suggestedMax:o}=this;return t=Ae(t,Number.POSITIVE_INFINITY),s=Ae(s,Number.NEGATIVE_INFINITY),i=Ae(i,Number.POSITIVE_INFINITY),o=Ae(o,Number.NEGATIVE_INFINITY),{min:Ae(t,i),max:Ae(s,o),minDefined:_e(t),maxDefined:_e(s)}}getMinMax(t){let{min:s,max:i,minDefined:o,maxDefined:n}=this.getUserBounds(),a;if(o&&n)return{min:s,max:i};const l=this.getMatchingVisibleMetas();for(let r=0,d=l.length;r<d;++r)a=l[r].controller.getMinMax(this,t),o||(s=Math.min(s,a.min)),n||(i=Math.max(i,a.max));return s=n&&s>i?i:s,i=o&&s>i?s:i,{min:Ae(s,Ae(i,s)),max:Ae(i,Ae(s,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Mt(this.options.beforeUpdate,[this])}update(t,s,i){const{beginAtZero:o,grace:n,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=s,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=wu(this,n,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const r=l<this.ticks.length;this._convertTicksToLabels(r?Ta(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=lf(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),r&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,s,i;this.isHorizontal()?(s=this.left,i=this.right):(s=this.top,i=this.bottom,t=!t),this._startPixel=s,this._endPixel=i,this._reversePixels=t,this._length=i-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Mt(this.options.afterUpdate,[this])}beforeSetDimensions(){Mt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Mt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Mt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Mt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const s=this.options.ticks;let i,o,n;for(i=0,o=t.length;i<o;i++)n=t[i],n.label=Mt(s.callback,[n.value,i,t],this)}afterTickToLabelConversion(){Mt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Mt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,s=t.ticks,i=Da(this.ticks.length,t.ticks.maxTicksLimit),o=s.minRotation||0,n=s.maxRotation;let a=o,l,r,d;if(!this._isVisible()||!s.display||o>=n||i<=1||!this.isHorizontal()){this.labelRotation=o;return}const f=this._getLabelSizes(),g=f.widest.width,m=f.highest.height,v=se(this.chart.width-g,0,this.maxWidth);l=t.offset?this.maxWidth/i:v/(i-1),g+6>l&&(l=v/(i-(t.offset?.5:1)),r=this.maxHeight-ii(t.grid)-s.padding-Aa(t.title,this.chart.options.font),d=Math.sqrt(g*g+m*m),a=Yd(Math.min(Math.asin(se((f.highest.height+6)/l,-1,1)),Math.asin(se(r/d,-1,1))-Math.asin(se(m/d,-1,1)))),a=Math.max(o,Math.min(n,a))),this.labelRotation=a}afterCalculateLabelRotation(){Mt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Mt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:s,options:{ticks:i,title:o,grid:n}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const r=Aa(o,s.options.font);if(l?(t.width=this.maxWidth,t.height=ii(n)+r):(t.height=this.maxHeight,t.width=ii(n)+r),i.display&&this.ticks.length){const{first:d,last:f,widest:g,highest:m}=this._getLabelSizes(),v=i.padding*2,y=Ne(this.labelRotation),x=Math.cos(y),w=Math.sin(y);if(l){const C=i.mirror?0:w*g.width+x*m.height;t.height=Math.min(this.maxHeight,t.height+C+v)}else{const C=i.mirror?0:x*g.width+w*m.height;t.width=Math.min(this.maxWidth,t.width+C+v)}this._calculatePadding(d,f,w,x)}}this._handleMargins(),l?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,s,i,o){const{ticks:{align:n,padding:a},position:l}=this.options,r=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,v=0;r?d?(m=o*t.width,v=i*s.height):(m=i*t.height,v=o*s.width):n==="start"?v=s.width:n==="end"?m=t.width:n!=="inner"&&(m=t.width/2,v=s.width/2),this.paddingLeft=Math.max((m-f+a)*this.width/(this.width-f),0),this.paddingRight=Math.max((v-g+a)*this.width/(this.width-g),0)}else{let f=s.height/2,g=t.height/2;n==="start"?(f=0,g=t.height):n==="end"&&(f=s.height,g=0),this.paddingTop=f+a,this.paddingBottom=g+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Mt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:s}=this.options;return s==="top"||s==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let s,i;for(s=0,i=t.length;s<i;s++)At(t[s].label)&&(t.splice(s,1),i--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const s=this.options.ticks.sampleSize;let i=this.ticks;s<i.length&&(i=Ta(i,s)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,s,i){const{ctx:o,_longestTextCache:n}=this,a=[],l=[],r=Math.floor(s/Da(s,i));let d=0,f=0,g,m,v,y,x,w,C,M,T,S,A;for(g=0;g<s;g+=r){if(y=t[g].label,x=this._resolveTickFontOptions(g),o.font=w=x.string,C=n[w]=n[w]||{data:{},gc:[]},M=x.lineHeight,T=S=0,!At(y)&&!jt(y))T=ea(o,C.data,C.gc,T,y),S=M;else if(jt(y))for(m=0,v=y.length;m<v;++m)A=y[m],!At(A)&&!jt(A)&&(T=ea(o,C.data,C.gc,T,A),S+=M);a.push(T),l.push(S),d=Math.max(T,d),f=Math.max(S,f)}gf(n,s);const z=a.indexOf(d),F=l.indexOf(f),N=I=>({width:a[I]||0,height:l[I]||0});return{first:N(0),last:N(s-1),widest:N(z),highest:N(F),widths:a,heights:l}}getLabelForValue(t){return t}getPixelForValue(t,s){return NaN}getValueForPixel(t){}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const s=this._startPixel+t*this._length;return Xd(this._alignToPixels?ys(this.chart,s,0):s)}getDecimalForPixel(t){const s=(t-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:s}=this;return t<0&&s<0?s:t>0&&s>0?t:0}getContext(t){const s=this.ticks||[];if(t>=0&&t<s.length){const i=s[t];return i.$context||(i.$context=vf(this.getContext(),t,i))}return this.$context||(this.$context=mf(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,s=Ne(this.labelRotation),i=Math.abs(Math.cos(s)),o=Math.abs(Math.sin(s)),n=this._getLabelSizes(),a=t.autoSkipPadding||0,l=n?n.widest.width+a:0,r=n?n.highest.height+a:0;return this.isHorizontal()?r*i>l*o?l/i:r/o:r*o<l*i?r/i:l/o}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const s=this.axis,i=this.chart,o=this.options,{grid:n,position:a,border:l}=o,r=n.offset,d=this.isHorizontal(),g=this.ticks.length+(r?1:0),m=ii(n),v=[],y=l.setContext(this.getContext()),x=y.display?y.width:0,w=x/2,C=function(L){return ys(i,L,x)};let M,T,S,A,z,F,N,I,B,V,K,at;if(a==="top")M=C(this.bottom),F=this.bottom-m,I=M-w,V=C(t.top)+w,at=t.bottom;else if(a==="bottom")M=C(this.top),V=t.top,at=C(t.bottom)-w,F=M+w,I=this.top+m;else if(a==="left")M=C(this.right),z=this.right-m,N=M-w,B=C(t.left)+w,K=t.right;else if(a==="right")M=C(this.left),B=t.left,K=C(t.right)-w,z=M+w,N=this.left+m;else if(s==="x"){if(a==="center")M=C((t.top+t.bottom)/2+.5);else if(mt(a)){const L=Object.keys(a)[0],q=a[L];M=C(this.chart.scales[L].getPixelForValue(q))}V=t.top,at=t.bottom,F=M+w,I=F+m}else if(s==="y"){if(a==="center")M=C((t.left+t.right)/2);else if(mt(a)){const L=Object.keys(a)[0],q=a[L];M=C(this.chart.scales[L].getPixelForValue(q))}z=M-w,N=z-m,B=t.left,K=t.right}const G=ft(o.ticks.maxTicksLimit,g),J=Math.max(1,Math.ceil(g/G));for(T=0;T<g;T+=J){const L=this.getContext(T),q=n.setContext(L),it=l.setContext(L),ct=q.lineWidth,Tt=q.color,zt=it.dash||[],Ft=it.dashOffset,Wt=q.tickWidth,$t=q.tickColor,U=q.tickBorderDash||[],lt=q.tickBorderDashOffset;S=pf(this,T,r),S!==void 0&&(A=ys(i,S,ct),d?z=N=B=K=A:F=I=V=at=A,v.push({tx1:z,ty1:F,tx2:N,ty2:I,x1:B,y1:V,x2:K,y2:at,width:ct,color:Tt,borderDash:zt,borderDashOffset:Ft,tickWidth:Wt,tickColor:$t,tickBorderDash:U,tickBorderDashOffset:lt}))}return this._ticksLength=g,this._borderValue=M,v}_computeLabelItems(t){const s=this.axis,i=this.options,{position:o,ticks:n}=i,a=this.isHorizontal(),l=this.ticks,{align:r,crossAlign:d,padding:f,mirror:g}=n,m=ii(i.grid),v=m+f,y=g?-f:v,x=-Ne(this.labelRotation),w=[];let C,M,T,S,A,z,F,N,I,B,V,K,at="middle";if(o==="top")z=this.bottom-y,F=this._getXAxisLabelAlignment();else if(o==="bottom")z=this.top+y,F=this._getXAxisLabelAlignment();else if(o==="left"){const J=this._getYAxisLabelAlignment(m);F=J.textAlign,A=J.x}else if(o==="right"){const J=this._getYAxisLabelAlignment(m);F=J.textAlign,A=J.x}else if(s==="x"){if(o==="center")z=(t.top+t.bottom)/2+v;else if(mt(o)){const J=Object.keys(o)[0],L=o[J];z=this.chart.scales[J].getPixelForValue(L)+v}F=this._getXAxisLabelAlignment()}else if(s==="y"){if(o==="center")A=(t.left+t.right)/2-v;else if(mt(o)){const J=Object.keys(o)[0],L=o[J];A=this.chart.scales[J].getPixelForValue(L)}F=this._getYAxisLabelAlignment(m).textAlign}s==="y"&&(r==="start"?at="top":r==="end"&&(at="bottom"));const G=this._getLabelSizes();for(C=0,M=l.length;C<M;++C){T=l[C],S=T.label;const J=n.setContext(this.getContext(C));N=this.getPixelForTick(C)+n.labelOffset,I=this._resolveTickFontOptions(C),B=I.lineHeight,V=jt(S)?S.length:1;const L=V/2,q=J.color,it=J.textStrokeColor,ct=J.textStrokeWidth;let Tt=F;a?(A=N,F==="inner"&&(C===M-1?Tt=this.options.reverse?"left":"right":C===0?Tt=this.options.reverse?"right":"left":Tt="center"),o==="top"?d==="near"||x!==0?K=-V*B+B/2:d==="center"?K=-G.highest.height/2-L*B+B:K=-G.highest.height+B/2:d==="near"||x!==0?K=B/2:d==="center"?K=G.highest.height/2-L*B:K=G.highest.height-V*B,g&&(K*=-1),x!==0&&!J.showLabelBackdrop&&(A+=B/2*Math.sin(x))):(z=N,K=(1-V)*B/2);let zt;if(J.showLabelBackdrop){const Ft=xe(J.backdropPadding),Wt=G.heights[C],$t=G.widths[C];let U=K-Ft.top,lt=0-Ft.left;switch(at){case"middle":U-=Wt/2;break;case"bottom":U-=Wt;break}switch(F){case"center":lt-=$t/2;break;case"right":lt-=$t;break;case"inner":C===M-1?lt-=$t:C>0&&(lt-=$t/2);break}zt={left:lt,top:U,width:$t+Ft.width,height:Wt+Ft.height,color:J.backdropColor}}w.push({label:S,font:I,textOffset:K,options:{rotation:x,color:q,strokeColor:it,strokeWidth:ct,textAlign:Tt,textBaseline:at,translation:[A,z],backdrop:zt}})}return w}_getXAxisLabelAlignment(){const{position:t,ticks:s}=this.options;if(-Ne(this.labelRotation))return t==="top"?"left":"right";let o="center";return s.align==="start"?o="left":s.align==="end"?o="right":s.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(t){const{position:s,ticks:{crossAlign:i,mirror:o,padding:n}}=this.options,a=this._getLabelSizes(),l=t+n,r=a.widest.width;let d,f;return s==="left"?o?(f=this.right+n,i==="near"?d="left":i==="center"?(d="center",f+=r/2):(d="right",f+=r)):(f=this.right-l,i==="near"?d="right":i==="center"?(d="center",f-=r/2):(d="left",f=this.left)):s==="right"?o?(f=this.left+n,i==="near"?d="right":i==="center"?(d="center",f-=r/2):(d="left",f-=r)):(f=this.left+l,i==="near"?d="left":i==="center"?(d="center",f+=r/2):(d="right",f=this.right)):d="right",{textAlign:d,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:s},left:i,top:o,width:n,height:a}=this;s&&(t.save(),t.fillStyle=s,t.fillRect(i,o,n,a),t.restore())}getLineWidthForValue(t){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const o=this.ticks.findIndex(n=>n.value===t);return o>=0?s.setContext(this.getContext(o)).lineWidth:0}drawGrid(t){const s=this.options.grid,i=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let n,a;const l=(r,d,f)=>{!f.width||!f.color||(i.save(),i.lineWidth=f.width,i.strokeStyle=f.color,i.setLineDash(f.borderDash||[]),i.lineDashOffset=f.borderDashOffset,i.beginPath(),i.moveTo(r.x,r.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(s.display)for(n=0,a=o.length;n<a;++n){const r=o[n];s.drawOnChartArea&&l({x:r.x1,y:r.y1},{x:r.x2,y:r.y2},r),s.drawTicks&&l({x:r.tx1,y:r.ty1},{x:r.tx2,y:r.ty2},{color:r.tickColor,width:r.tickWidth,borderDash:r.tickBorderDash,borderDashOffset:r.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:s,options:{border:i,grid:o}}=this,n=i.setContext(this.getContext()),a=i.display?n.width:0;if(!a)return;const l=o.setContext(this.getContext(0)).lineWidth,r=this._borderValue;let d,f,g,m;this.isHorizontal()?(d=ys(t,this.left,a)-a/2,f=ys(t,this.right,l)+l/2,g=m=r):(g=ys(t,this.top,a)-a/2,m=ys(t,this.bottom,l)+l/2,d=f=r),s.save(),s.lineWidth=n.width,s.strokeStyle=n.color,s.beginPath(),s.moveTo(d,g),s.lineTo(f,m),s.stroke(),s.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,o=this._computeLabelArea();o&&pn(i,o);const n=this.getLabelItems(t);for(const a of n){const l=a.options,r=a.font,d=a.label,f=a.textOffset;bi(i,d,0,f,r,l)}o&&gn(i)}drawTitle(){const{ctx:t,options:{position:s,title:i,reverse:o}}=this;if(!i.display)return;const n=ie(i.font),a=xe(i.padding),l=i.align;let r=n.lineHeight/2;s==="bottom"||s==="center"||mt(s)?(r+=a.bottom,jt(i.text)&&(r+=n.lineHeight*(i.text.length-1))):r+=a.top;const{titleX:d,titleY:f,maxWidth:g,rotation:m}=yf(this,r,s,l);bi(t,i.text,0,0,n,{color:i.color,maxWidth:g,rotation:m,textAlign:bf(l,s,o),textBaseline:"middle",translation:[d,f]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,s=t.ticks&&t.ticks.z||0,i=ft(t.grid&&t.grid.z,-1),o=ft(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Ks.prototype.draw?[{z:s,draw:n=>{this.draw(n)}}]:[{z:i,draw:n=>{this.drawBackground(),this.drawGrid(n),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:s,draw:n=>{this.drawLabels(n)}}]}getMatchingVisibleMetas(t){const s=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",o=[];let n,a;for(n=0,a=s.length;n<a;++n){const l=s[n];l[i]===this.id&&(!t||l.type===t)&&o.push(l)}return o}_resolveTickFontOptions(t){const s=this.options.ticks.setContext(this.getContext(t));return ie(s.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Bi{constructor(t,s,i){this.type=t,this.scope=s,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const s=Object.getPrototypeOf(t);let i;wf(s)&&(i=this.register(s));const o=this.items,n=t.id,a=this.scope+"."+n;if(!n)throw new Error("class does not have id: "+t);return n in o||(o[n]=t,_f(t,a,i),this.override&&Bt.override(t.id,t.overrides)),a}get(t){return this.items[t]}unregister(t){const s=this.items,i=t.id,o=this.scope;i in s&&delete s[i],o&&i in Bt[o]&&(delete Bt[o][i],this.override&&delete Rs[i])}}function _f(e,t,s){const i=fi(Object.create(null),[s?Bt.get(s):{},Bt.get(t),e.defaults]);Bt.set(t,i),e.defaultRoutes&&xf(t,e.defaultRoutes),e.descriptors&&Bt.describe(t,e.descriptors)}function xf(e,t){Object.keys(t).forEach(s=>{const i=s.split("."),o=i.pop(),n=[e].concat(i).join("."),a=t[s].split("."),l=a.pop(),r=a.join(".");Bt.route(n,o,r,l)})}function wf(e){return"id"in e&&"defaults"in e}class kf{constructor(){this.controllers=new Bi(ho,"datasets",!0),this.elements=new Bi(We,"elements"),this.plugins=new Bi(Object,"plugins"),this.scales=new Bi(Ks,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,s,i){[...s].forEach(o=>{const n=i||this._getRegistryForType(o);i||n.isForType(o)||n===this.plugins&&o.id?this._exec(t,n,o):wt(o,a=>{const l=i||this._getRegistryForType(a);this._exec(t,l,a)})})}_exec(t,s,i){const o=cn(t);Mt(i["before"+o],[],i),s[t](i),Mt(i["after"+o],[],i)}_getRegistryForType(t){for(let s=0;s<this._typedRegistries.length;s++){const i=this._typedRegistries[s];if(i.isForType(t))return i}return this.plugins}_get(t,s,i){const o=s.get(t);if(o===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return o}}var Re=new kf;class Cf{constructor(){this._init=[]}notify(t,s,i,o){s==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const n=o?this._descriptors(t).filter(o):this._descriptors(t),a=this._notify(n,t,s,i);return s==="afterDestroy"&&(this._notify(n,t,"stop"),this._notify(this._init,t,"uninstall")),a}_notify(t,s,i,o){o=o||{};for(const n of t){const a=n.plugin,l=a[i],r=[s,o,n.options];if(Mt(l,r,a)===!1&&o.cancelable)return!1}return!0}invalidate(){At(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),s}_createDescriptors(t,s){const i=t&&t.config,o=ft(i.options&&i.options.plugins,{}),n=Sf(i);return o===!1&&!s?[]:Tf(t,n,o,s)}_notifyStateChanges(t){const s=this._oldCache||[],i=this._cache,o=(n,a)=>n.filter(l=>!a.some(r=>l.plugin.id===r.plugin.id));this._notify(o(s,i),t,"stop"),this._notify(o(i,s),t,"start")}}function Sf(e){const t={},s=[],i=Object.keys(Re.plugins.items);for(let n=0;n<i.length;n++)s.push(Re.getPlugin(i[n]));const o=e.plugins||[];for(let n=0;n<o.length;n++){const a=o[n];s.indexOf(a)===-1&&(s.push(a),t[a.id]=!0)}return{plugins:s,localIds:t}}function Df(e,t){return!t&&e===!1?null:e===!0?{}:e}function Tf(e,{plugins:t,localIds:s},i,o){const n=[],a=e.getContext();for(const l of t){const r=l.id,d=Df(i[r],o);d!==null&&n.push({plugin:l,options:Af(e.config,{plugin:l,local:s[r]},d,a)})}return n}function Af(e,{plugin:t,local:s},i,o){const n=e.pluginScopeKeys(t),a=e.getOptionScopes(i,n);return s&&t.defaults&&a.push(t.defaults),e.createResolver(a,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Fo(e,t){const s=Bt.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||s.indexAxis||"x"}function Mf(e,t){let s=e;return e==="_index_"?s=t:e==="_value_"&&(s=t==="x"?"y":"x"),s}function Pf(e,t){return e===t?"_index_":"_value_"}function Ma(e){if(e==="x"||e==="y"||e==="r")return e}function Rf(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Ho(e,...t){if(Ma(e))return e;for(const s of t){const i=s.axis||Rf(s.position)||e.length>1&&Ma(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Pa(e,t,s){if(s[t+"AxisID"]===e)return{axis:t}}function $f(e,t){if(t.data&&t.data.datasets){const s=t.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(s.length)return Pa(e,"x",s[0])||Pa(e,"y",s[0])}return{}}function Lf(e,t){const s=Rs[e.type]||{scales:{}},i=t.scales||{},o=Fo(e.type,t),n=Object.create(null);return Object.keys(i).forEach(a=>{const l=i[a];if(!mt(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const r=Ho(a,l,$f(a,e),Bt.scales[l.type]),d=Pf(r,o),f=s.scales||{};n[a]=ri(Object.create(null),[{axis:r},l,f[r],f[d]])}),e.data.datasets.forEach(a=>{const l=a.type||e.type,r=a.indexAxis||Fo(l,t),f=(Rs[l]||{}).scales||{};Object.keys(f).forEach(g=>{const m=Mf(g,r),v=a[m+"AxisID"]||m;n[v]=n[v]||Object.create(null),ri(n[v],[{axis:m},i[v],f[g]])})}),Object.keys(n).forEach(a=>{const l=n[a];ri(l,[Bt.scales[l.type],Bt.scale])}),n}function lr(e){const t=e.options||(e.options={});t.plugins=ft(t.plugins,{}),t.scales=Lf(e,t)}function rr(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function Ef(e){return e=e||{},e.data=rr(e.data),lr(e),e}const Ra=new Map,cr=new Set;function Fi(e,t){let s=Ra.get(e);return s||(s=t(),Ra.set(e,s),cr.add(s)),s}const oi=(e,t,s)=>{const i=Ps(t,s);i!==void 0&&e.add(i)};class Of{constructor(t){this._config=Ef(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=rr(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),lr(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Fi(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,s){return Fi(`${t}.transition.${s}`,()=>[[`datasets.${t}.transitions.${s}`,`transitions.${s}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,s){return Fi(`${t}-${s}`,()=>[[`datasets.${t}.elements.${s}`,`datasets.${t}`,`elements.${s}`,""]])}pluginScopeKeys(t){const s=t.id,i=this.type;return Fi(`${i}-plugin-${s}`,()=>[[`plugins.${s}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,s){const i=this._scopeCache;let o=i.get(t);return(!o||s)&&(o=new Map,i.set(t,o)),o}getOptionScopes(t,s,i){const{options:o,type:n}=this,a=this._cachedScopes(t,i),l=a.get(s);if(l)return l;const r=new Set;s.forEach(f=>{t&&(r.add(t),f.forEach(g=>oi(r,t,g))),f.forEach(g=>oi(r,o,g)),f.forEach(g=>oi(r,Rs[n]||{},g)),f.forEach(g=>oi(r,Bt,g)),f.forEach(g=>oi(r,Vo,g))});const d=Array.from(r);return d.length===0&&d.push(Object.create(null)),cr.has(s)&&a.set(s,d),d}chartOptionScopes(){const{options:t,type:s}=this;return[t,Rs[s]||{},Bt.datasets[s]||{},{type:s},Bt,Vo]}resolveNamedOptions(t,s,i,o=[""]){const n={$shared:!0},{resolver:a,subPrefixes:l}=$a(this._resolverCache,t,o);let r=a;if(If(a,s)){n.$shared=!1,i=is(i)?i():i;const d=this.createResolver(t,i,l);r=qs(a,i,d)}for(const d of s)n[d]=r[d];return n}createResolver(t,s,i=[""],o){const{resolver:n}=$a(this._resolverCache,t,i);return mt(s)?qs(n,s,void 0,o):n}}function $a(e,t,s){let i=e.get(t);i||(i=new Map,e.set(t,i));const o=s.join();let n=i.get(o);return n||(n={resolver:vn(t,s),subPrefixes:s.filter(l=>!l.toLowerCase().includes("hover"))},i.set(o,n)),n}const zf=e=>mt(e)&&Object.getOwnPropertyNames(e).some(t=>is(e[t]));function If(e,t){const{isScriptable:s,isIndexable:i}=jl(e);for(const o of t){const n=s(o),a=i(o),l=(a||n)&&e[o];if(n&&(is(l)||zf(l))||a&&jt(l))return!0}return!1}var Uf="4.4.7";const Vf=["top","bottom","left","right","chartArea"];function La(e,t){return e==="top"||e==="bottom"||Vf.indexOf(e)===-1&&t==="x"}function Ea(e,t){return function(s,i){return s[e]===i[e]?s[t]-i[t]:s[e]-i[e]}}function Oa(e){const t=e.chart,s=t.options.animation;t.notifyPlugins("afterRender"),Mt(s&&s.onComplete,[e],t)}function Bf(e){const t=e.chart,s=t.options.animation;Mt(s&&s.onProgress,[e],t)}function dr(e){return _n()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Ki={},za=e=>{const t=dr(e);return Object.values(Ki).filter(s=>s.canvas===t).pop()};function Ff(e,t,s){const i=Object.keys(e);for(const o of i){const n=+o;if(n>=t){const a=e[o];delete e[o],(s>0||n>t)&&(e[n+s]=a)}}}function Hf(e,t,s,i){return!s||e.type==="mouseout"?null:i?t:e}function Hi(e,t,s){return e.options.clip?e[s]:t[s]}function Nf(e,t){const{xScale:s,yScale:i}=e;return s&&i?{left:Hi(s,t,"left"),right:Hi(s,t,"right"),top:Hi(i,t,"top"),bottom:Hi(i,t,"bottom")}:t}let we=class{static defaults=Bt;static instances=Ki;static overrides=Rs;static registry=Re;static version=Uf;static getChart=za;static register(...t){Re.add(...t),Ia()}static unregister(...t){Re.remove(...t),Ia()}constructor(t,s){const i=this.config=new Of(s),o=dr(t),n=za(o);if(n)throw new Error("Canvas is already in use. Chart with ID '"+n.id+"' must be destroyed before the canvas with ID '"+n.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||af(o)),this.platform.updateConfig(i);const l=this.platform.acquireContext(o,a.aspectRatio),r=l&&l.canvas,d=r&&r.height,f=r&&r.width;if(this.id=Od(),this.ctx=l,this.canvas=r,this.width=f,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Cf,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Qd(g=>this.update(g),a.resizeDelay||0),this._dataChanges=[],Ki[this.id]=this,!l||!r){console.error("Failed to create chart: can't acquire context from the given item");return}Ue.listen(this,"complete",Oa),Ue.listen(this,"progress",Bf),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:s},width:i,height:o,_aspectRatio:n}=this;return At(t)?s&&n?n:o?i/o:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Re}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():na(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return sa(this.canvas,this.ctx),this}stop(){return Ue.stop(this),this}resize(t,s){Ue.running(this)?this._resizeBeforeDraw={width:t,height:s}:this._resize(t,s)}_resize(t,s){const i=this.options,o=this.canvas,n=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(o,t,s,n),l=i.devicePixelRatio||this.platform.getDevicePixelRatio(),r=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,na(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),Mt(i.onResize,[this,a],this),this.attached&&this._doResize(r)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};wt(s,(i,o)=>{i.id=o})}buildOrUpdateScales(){const t=this.options,s=t.scales,i=this.scales,o=Object.keys(i).reduce((a,l)=>(a[l]=!1,a),{});let n=[];s&&(n=n.concat(Object.keys(s).map(a=>{const l=s[a],r=Ho(a,l),d=r==="r",f=r==="x";return{options:l,dposition:d?"chartArea":f?"bottom":"left",dtype:d?"radialLinear":f?"category":"linear"}}))),wt(n,a=>{const l=a.options,r=l.id,d=Ho(r,l),f=ft(l.type,a.dtype);(l.position===void 0||La(l.position,d)!==La(a.dposition))&&(l.position=a.dposition),o[r]=!0;let g=null;if(r in i&&i[r].type===f)g=i[r];else{const m=Re.getScale(f);g=new m({id:r,type:f,ctx:this.ctx,chart:this}),i[g.id]=g}g.init(l,t)}),wt(o,(a,l)=>{a||delete i[l]}),wt(i,a=>{ye.configure(this,a,a.options),ye.addBox(this,a)})}_updateMetasets(){const t=this._metasets,s=this.data.datasets.length,i=t.length;if(t.sort((o,n)=>o.index-n.index),i>s){for(let o=s;o<i;++o)this._destroyDatasetMeta(o);t.splice(s,i-s)}this._sortedMetasets=t.slice(0).sort(Ea("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:s}}=this;t.length>s.length&&delete this._stacks,t.forEach((i,o)=>{s.filter(n=>n===i._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const t=[],s=this.data.datasets;let i,o;for(this._removeUnreferencedMetasets(),i=0,o=s.length;i<o;i++){const n=s[i];let a=this.getDatasetMeta(i);const l=n.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=l,a.indexAxis=n.indexAxis||Fo(l,this.options),a.order=n.order||0,a.index=i,a.label=""+n.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const r=Re.getController(l),{datasetElementType:d,dataElementType:f}=Bt.datasets[l];Object.assign(r,{dataElementType:Re.getElement(f),datasetElementType:d&&Re.getElement(d)}),a.controller=new r(this,i),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){wt(this.data.datasets,(t,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const s=this.config;s.update();const i=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const n=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,f=this.data.datasets.length;d<f;d++){const{controller:g}=this.getDatasetMeta(d),m=!o&&n.indexOf(g)===-1;g.buildOrUpdateElements(m),a=Math.max(+g.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),o||wt(n,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Ea("z","_idx"));const{_active:l,_lastEvent:r}=this;r?this._eventHandler(r,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){wt(this.scales,t=>{ye.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,s=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!Gn(s,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,s=this._getUniformDataChanges()||[];for(const{method:i,start:o,count:n}of s){const a=i==="_removeElements"?-n:n;Ff(t,o,a)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const s=this.data.datasets.length,i=n=>new Set(t.filter(a=>a[0]===n).map((a,l)=>l+","+a.splice(1).join(","))),o=i(0);for(let n=1;n<s;n++)if(!Gn(o,i(n)))return;return Array.from(o).map(n=>n.split(",")).map(n=>({method:n[1],start:+n[2],count:+n[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ye.update(this,this.width,this.height,t);const s=this.chartArea,i=s.width<=0||s.height<=0;this._layers=[],wt(this.boxes,o=>{i&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,n)=>{o._idx=n}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let s=0,i=this.data.datasets.length;s<i;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,i=this.data.datasets.length;s<i;++s)this._updateDataset(s,is(t)?t({datasetIndex:s}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,s){const i=this.getDatasetMeta(t),o={meta:i,index:t,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(i.controller._update(s),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ue.has(this)?this.attached&&!Ue.running(this)&&Ue.start(this):(this.draw(),Oa({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(t=0;t<s.length&&s[t].z<=0;++t)s[t].draw(this.chartArea);for(this._drawDatasets();t<s.length;++t)s[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const s=this._sortedMetasets,i=[];let o,n;for(o=0,n=s.length;o<n;++o){const a=s[o];(!t||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let s=t.length-1;s>=0;--s)this._drawDataset(t[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const s=this.ctx,i=t._clip,o=!i.disabled,n=Nf(t,this.chartArea),a={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(o&&pn(s,{left:i.left===!1?0:n.left-i.left,right:i.right===!1?this.width:n.right+i.right,top:i.top===!1?0:n.top-i.top,bottom:i.bottom===!1?this.height:n.bottom+i.bottom}),t.controller.draw(),o&&gn(s),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(t){return vi(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,s,i,o){const n=Uh.modes[s];return typeof n=="function"?n(this,t,i,o):[]}getDatasetMeta(t){const s=this.data.datasets[t],i=this._metasets;let o=i.filter(n=>n&&n._dataset===s).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:t,_dataset:s,_parsed:[],_sorted:!1},i.push(o)),o}getContext(){return this.$context||(this.$context=$s(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const s=this.data.datasets[t];if(!s)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!s.hidden}setDatasetVisibility(t,s){const i=this.getDatasetMeta(t);i.hidden=!s}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,s,i){const o=i?"show":"hide",n=this.getDatasetMeta(t),a=n.controller._resolveAnimations(void 0,o);pi(s)?(n.data[s].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),a.update(n,{visible:i}),this.update(l=>l.datasetIndex===t?o:void 0))}hide(t,s){this._updateVisibility(t,s,!1)}show(t,s){this._updateVisibility(t,s,!0)}_destroyDatasetMeta(t){const s=this._metasets[t];s&&s.controller&&s.controller._destroy(),delete this._metasets[t]}_stop(){let t,s;for(this.stop(),Ue.remove(this),t=0,s=this.data.datasets.length;t<s;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:s}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),sa(t,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete Ki[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,s=this.platform,i=(n,a)=>{s.addEventListener(this,n,a),t[n]=a},o=(n,a,l)=>{n.offsetX=a,n.offsetY=l,this._eventHandler(n)};wt(this.options.events,n=>i(n,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,s=this.platform,i=(r,d)=>{s.addEventListener(this,r,d),t[r]=d},o=(r,d)=>{t[r]&&(s.removeEventListener(this,r,d),delete t[r])},n=(r,d)=>{this.canvas&&this.resize(r,d)};let a;const l=()=>{o("attach",l),this.attached=!0,this.resize(),i("resize",n),i("detach",a)};a=()=>{this.attached=!1,o("resize",n),this._stop(),this._resize(0,0),i("attach",l)},s.isAttached(this.canvas)?l():a()}unbindEvents(){wt(this._listeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._listeners={},wt(this._responsiveListeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,s,i){const o=i?"set":"remove";let n,a,l,r;for(s==="dataset"&&(n=this.getDatasetMeta(t[0].datasetIndex),n.controller["_"+o+"DatasetHoverStyle"]()),l=0,r=t.length;l<r;++l){a=t[l];const d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[o+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const s=this._active||[],i=t.map(({datasetIndex:n,index:a})=>{const l=this.getDatasetMeta(n);if(!l)throw new Error("No dataset found at index "+n);return{datasetIndex:n,element:l.data[a],index:a}});!Qi(i,s)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,s))}notifyPlugins(t,s,i){return this._plugins.notify(this,t,s,i)}isPluginEnabled(t){return this._plugins._cache.filter(s=>s.plugin.id===t).length===1}_updateHoverStyles(t,s,i){const o=this.options.hover,n=(r,d)=>r.filter(f=>!d.some(g=>f.datasetIndex===g.datasetIndex&&f.index===g.index)),a=n(s,t),l=i?t:n(t,s);a.length&&this.updateHoverStyle(a,o.mode,!1),l.length&&o.mode&&this.updateHoverStyle(l,o.mode,!0)}_eventHandler(t,s){const i={event:t,replay:s,cancelable:!0,inChartArea:this.isPointInArea(t)},o=a=>(a.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,o)===!1)return;const n=this._handleEvent(t,s,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,o),(n||i.changed)&&this.render(),this}_handleEvent(t,s,i){const{_active:o=[],options:n}=this,a=s,l=this._getActiveElements(t,o,i,a),r=Fd(t),d=Hf(t,this._lastEvent,i,r);i&&(this._lastEvent=null,Mt(n.onHover,[t,l,this],this),r&&Mt(n.onClick,[t,l,this],this));const f=!Qi(l,o);return(f||s)&&(this._active=l,this._updateHoverStyles(l,o,s)),this._lastEvent=d,f}_getActiveElements(t,s,i,o){if(t.type==="mouseout")return[];if(!i)return s;const n=this.options.hover;return this.getElementsAtEventForMode(t,n.mode,n,o)}};function Ia(){return wt(we.instances,e=>e._plugins.invalidate())}function Wf(e,t,s){const{startAngle:i,pixelMargin:o,x:n,y:a,outerRadius:l,innerRadius:r}=t;let d=o/l;e.beginPath(),e.arc(n,a,l,i-d,s+d),r>o?(d=o/r,e.arc(n,a,r,s+d,i-d,!0)):e.arc(n,a,o,s+Gt,i-Gt),e.closePath(),e.clip()}function jf(e){return mn(e,["outerStart","outerEnd","innerStart","innerEnd"])}function Gf(e,t,s,i){const o=jf(e.options.borderRadius),n=(s-t)/2,a=Math.min(n,i*t/2),l=r=>{const d=(s-Math.min(n,r))*i/2;return se(r,0,Math.min(n,d))};return{outerStart:l(o.outerStart),outerEnd:l(o.outerEnd),innerStart:se(o.innerStart,0,a),innerEnd:se(o.innerEnd,0,a)}}function Vs(e,t,s,i){return{x:s+e*Math.cos(t),y:i+e*Math.sin(t)}}function no(e,t,s,i,o,n){const{x:a,y:l,startAngle:r,pixelMargin:d,innerRadius:f}=t,g=Math.max(t.outerRadius+i+s-d,0),m=f>0?f+i+s+d:0;let v=0;const y=o-r;if(i){const J=f>0?f-i:0,L=g>0?g-i:0,q=(J+L)/2,it=q!==0?y*q/(q+i):y;v=(y-it)/2}const x=Math.max(.001,y*g-s/Ot)/g,w=(y-x)/2,C=r+w+v,M=o-w-v,{outerStart:T,outerEnd:S,innerStart:A,innerEnd:z}=Gf(t,m,g,M-C),F=g-T,N=g-S,I=C+T/F,B=M-S/N,V=m+A,K=m+z,at=C+A/V,G=M-z/K;if(e.beginPath(),n){const J=(I+B)/2;if(e.arc(a,l,g,I,J),e.arc(a,l,g,J,B),S>0){const ct=Vs(N,B,a,l);e.arc(ct.x,ct.y,S,B,M+Gt)}const L=Vs(K,M,a,l);if(e.lineTo(L.x,L.y),z>0){const ct=Vs(K,G,a,l);e.arc(ct.x,ct.y,z,M+Gt,G+Math.PI)}const q=(M-z/m+(C+A/m))/2;if(e.arc(a,l,m,M-z/m,q,!0),e.arc(a,l,m,q,C+A/m,!0),A>0){const ct=Vs(V,at,a,l);e.arc(ct.x,ct.y,A,at+Math.PI,C-Gt)}const it=Vs(F,C,a,l);if(e.lineTo(it.x,it.y),T>0){const ct=Vs(F,I,a,l);e.arc(ct.x,ct.y,T,C-Gt,I)}}else{e.moveTo(a,l);const J=Math.cos(I)*g+a,L=Math.sin(I)*g+l;e.lineTo(J,L);const q=Math.cos(B)*g+a,it=Math.sin(B)*g+l;e.lineTo(q,it)}e.closePath()}function Yf(e,t,s,i,o){const{fullCircles:n,startAngle:a,circumference:l}=t;let r=t.endAngle;if(n){no(e,t,s,i,r,o);for(let d=0;d<n;++d)e.fill();isNaN(l)||(r=a+(l%Et||Et))}return no(e,t,s,i,r,o),e.fill(),r}function qf(e,t,s,i,o){const{fullCircles:n,startAngle:a,circumference:l,options:r}=t,{borderWidth:d,borderJoinStyle:f,borderDash:g,borderDashOffset:m}=r,v=r.borderAlign==="inner";if(!d)return;e.setLineDash(g||[]),e.lineDashOffset=m,v?(e.lineWidth=d*2,e.lineJoin=f||"round"):(e.lineWidth=d,e.lineJoin=f||"bevel");let y=t.endAngle;if(n){no(e,t,s,i,y,o);for(let x=0;x<n;++x)e.stroke();isNaN(l)||(y=a+(l%Et||Et))}v&&Wf(e,t,y),n||(no(e,t,s,i,y,o),e.stroke())}class Js extends We{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,s,i){const o=this.getProps(["x","y"],i),{angle:n,distance:a}=Il(o,{x:t,y:s}),{startAngle:l,endAngle:r,innerRadius:d,outerRadius:f,circumference:g}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),m=(this.options.spacing+this.options.borderWidth)/2,v=ft(g,r-l),y=mi(n,l,r)&&l!==r,x=v>=Et||y,w=qe(a,d+m,f+m);return x&&w}getCenterPoint(t){const{x:s,y:i,startAngle:o,endAngle:n,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:r,spacing:d}=this.options,f=(o+n)/2,g=(a+l+d+r)/2;return{x:s+Math.cos(f)*g,y:i+Math.sin(f)*g}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:s,circumference:i}=this,o=(s.offset||0)/4,n=(s.spacing||0)/2,a=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=i>Et?Math.floor(i/Et):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const l=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(l)*o,Math.sin(l)*o);const r=1-Math.sin(Math.min(Ot,i||0)),d=o*r;t.fillStyle=s.backgroundColor,t.strokeStyle=s.borderColor,Yf(t,this,d,n,a),qf(t,this,d,n,a),t.restore()}}function ur(e,t,s=t){e.lineCap=ft(s.borderCapStyle,t.borderCapStyle),e.setLineDash(ft(s.borderDash,t.borderDash)),e.lineDashOffset=ft(s.borderDashOffset,t.borderDashOffset),e.lineJoin=ft(s.borderJoinStyle,t.borderJoinStyle),e.lineWidth=ft(s.borderWidth,t.borderWidth),e.strokeStyle=ft(s.borderColor,t.borderColor)}function Xf(e,t,s){e.lineTo(s.x,s.y)}function Kf(e){return e.stepped?fu:e.tension||e.cubicInterpolationMode==="monotone"?pu:Xf}function hr(e,t,s={}){const i=e.length,{start:o=0,end:n=i-1}=s,{start:a,end:l}=t,r=Math.max(o,a),d=Math.min(n,l),f=o<a&&n<a||o>l&&n>l;return{count:i,start:r,loop:t.loop,ilen:d<r&&!f?i+d-r:d-r}}function Jf(e,t,s,i){const{points:o,options:n}=t,{count:a,start:l,loop:r,ilen:d}=hr(o,s,i),f=Kf(n);let{move:g=!0,reverse:m}=i||{},v,y,x;for(v=0;v<=d;++v)y=o[(l+(m?d-v:v))%a],!y.skip&&(g?(e.moveTo(y.x,y.y),g=!1):f(e,x,y,m,n.stepped),x=y);return r&&(y=o[(l+(m?d:0))%a],f(e,x,y,m,n.stepped)),!!r}function Zf(e,t,s,i){const o=t.points,{count:n,start:a,ilen:l}=hr(o,s,i),{move:r=!0,reverse:d}=i||{};let f=0,g=0,m,v,y,x,w,C;const M=S=>(a+(d?l-S:S))%n,T=()=>{x!==w&&(e.lineTo(f,w),e.lineTo(f,x),e.lineTo(f,C))};for(r&&(v=o[M(0)],e.moveTo(v.x,v.y)),m=0;m<=l;++m){if(v=o[M(m)],v.skip)continue;const S=v.x,A=v.y,z=S|0;z===y?(A<x?x=A:A>w&&(w=A),f=(g*f+S)/++g):(T(),e.lineTo(S,A),y=z,g=0,x=w=A),C=A}T()}function No(e){const t=e.options,s=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!s?Zf:Jf}function Qf(e){return e.stepped?Gu:e.tension||e.cubicInterpolationMode==="monotone"?Yu:ks}function tp(e,t,s,i){let o=t._path;o||(o=t._path=new Path2D,t.path(o,s,i)&&o.closePath()),ur(e,t.options),e.stroke(o)}function ep(e,t,s,i){const{segments:o,options:n}=t,a=No(t);for(const l of o)ur(e,n,l.style),e.beginPath(),a(e,t,l,{start:s,end:s+i-1})&&e.closePath(),e.stroke()}const sp=typeof Path2D=="function";function ip(e,t,s,i){sp&&!t.options.segment?tp(e,t,s,i):ep(e,t,s,i)}class ns extends We{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,s){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const o=i.spanGaps?this._loop:this._fullLoop;Uu(this._points,i,t,o,s),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=eh(this,this.options.segment))}first(){const t=this.segments,s=this.points;return t.length&&s[t[0].start]}last(){const t=this.segments,s=this.points,i=t.length;return i&&s[t[i-1].end]}interpolate(t,s){const i=this.options,o=t[s],n=this.points,a=Zu(this,{property:s,start:o,end:o});if(!a.length)return;const l=[],r=Qf(i);let d,f;for(d=0,f=a.length;d<f;++d){const{start:g,end:m}=a[d],v=n[g],y=n[m];if(v===y){l.push(v);continue}const x=Math.abs((o-v[s])/(y[s]-v[s])),w=r(v,y,x,i.stepped);w[s]=t[s],l.push(w)}return l.length===1?l[0]:l}pathSegment(t,s,i){return No(this)(t,this,s,i)}path(t,s,i){const o=this.segments,n=No(this);let a=this._loop;s=s||0,i=i||this.points.length-s;for(const l of o)a&=n(t,this,l,{start:s,end:s+i-1});return!!a}draw(t,s,i,o){const n=this.options||{};(this.points||[]).length&&n.borderWidth&&(t.save(),ip(t,this,i,o),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Ua(e,t,s,i){const o=e.options,{[s]:n}=e.getProps([s],i);return Math.abs(t-n)<o.radius+o.hitRadius}class as extends We{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,s,i){const o=this.options,{x:n,y:a}=this.getProps(["x","y"],i);return Math.pow(t-n,2)+Math.pow(s-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(t,s){return Ua(this,t,"x",s)}inYRange(t,s){return Ua(this,t,"y",s)}getCenterPoint(t){const{x:s,y:i}=this.getProps(["x","y"],t);return{x:s,y:i}}size(t){t=t||this.options||{};let s=t.radius||0;s=Math.max(s,s&&t.hoverRadius||0);const i=s&&t.borderWidth||0;return(s+i)*2}draw(t,s){const i=this.options;this.skip||i.radius<.1||!vi(this,s,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Bo(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function fr(e,t){const{x:s,y:i,base:o,width:n,height:a}=e.getProps(["x","y","base","width","height"],t);let l,r,d,f,g;return e.horizontal?(g=a/2,l=Math.min(s,o),r=Math.max(s,o),d=i-g,f=i+g):(g=n/2,l=s-g,r=s+g,d=Math.min(i,o),f=Math.max(i,o)),{left:l,top:d,right:r,bottom:f}}function Xe(e,t,s,i){return e?0:se(t,s,i)}function op(e,t,s){const i=e.options.borderWidth,o=e.borderSkipped,n=Wl(i);return{t:Xe(o.top,n.top,0,s),r:Xe(o.right,n.right,0,t),b:Xe(o.bottom,n.bottom,0,s),l:Xe(o.left,n.left,0,t)}}function np(e,t,s){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),o=e.options.borderRadius,n=js(o),a=Math.min(t,s),l=e.borderSkipped,r=i||mt(o);return{topLeft:Xe(!r||l.top||l.left,n.topLeft,0,a),topRight:Xe(!r||l.top||l.right,n.topRight,0,a),bottomLeft:Xe(!r||l.bottom||l.left,n.bottomLeft,0,a),bottomRight:Xe(!r||l.bottom||l.right,n.bottomRight,0,a)}}function ap(e){const t=fr(e),s=t.right-t.left,i=t.bottom-t.top,o=op(e,s/2,i/2),n=np(e,s/2,i/2);return{outer:{x:t.left,y:t.top,w:s,h:i,radius:n},inner:{x:t.left+o.l,y:t.top+o.t,w:s-o.l-o.r,h:i-o.t-o.b,radius:{topLeft:Math.max(0,n.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,n.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,n.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,n.bottomRight-Math.max(o.b,o.r))}}}}function Mo(e,t,s,i){const o=t===null,n=s===null,l=e&&!(o&&n)&&fr(e,i);return l&&(o||qe(t,l.left,l.right))&&(n||qe(s,l.top,l.bottom))}function lp(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function rp(e,t){e.rect(t.x,t.y,t.w,t.h)}function Po(e,t,s={}){const i=e.x!==s.x?-t:0,o=e.y!==s.y?-t:0,n=(e.x+e.w!==s.x+s.w?t:0)-i,a=(e.y+e.h!==s.y+s.h?t:0)-o;return{x:e.x+i,y:e.y+o,w:e.w+n,h:e.h+a,radius:e.radius}}class Ls extends We{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:s,options:{borderColor:i,backgroundColor:o}}=this,{inner:n,outer:a}=ap(this),l=lp(a.radius)?so:rp;t.save(),(a.w!==n.w||a.h!==n.h)&&(t.beginPath(),l(t,Po(a,s,n)),t.clip(),l(t,Po(n,-s,a)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),l(t,Po(n,s)),t.fillStyle=o,t.fill(),t.restore()}inRange(t,s,i){return Mo(this,t,s,i)}inXRange(t,s){return Mo(this,t,null,s)}inYRange(t,s){return Mo(this,null,t,s)}getCenterPoint(t){const{x:s,y:i,base:o,horizontal:n}=this.getProps(["x","y","base","horizontal"],t);return{x:n?(s+o)/2:s,y:n?i:(i+o)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}const Va=(e,t)=>{let{boxHeight:s=t,boxWidth:i=t}=e;return e.usePointStyle&&(s=Math.min(s,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:s,itemHeight:Math.max(t,s)}},cp=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class Ba extends We{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s,i){this.maxWidth=t,this.maxHeight=s,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let s=Mt(t.generateLabels,[this.chart],this)||[];t.filter&&(s=s.filter(i=>t.filter(i,this.chart.data))),t.sort&&(s=s.sort((i,o)=>t.sort(i,o,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:t,ctx:s}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,o=ie(i.font),n=o.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:r}=Va(i,n);let d,f;s.font=o.string,this.isHorizontal()?(d=this.maxWidth,f=this._fitRows(a,n,l,r)+10):(f=this.maxHeight,d=this._fitCols(a,o,l,r)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(f,t.maxHeight||this.maxHeight)}_fitRows(t,s,i,o){const{ctx:n,maxWidth:a,options:{labels:{padding:l}}}=this,r=this.legendHitBoxes=[],d=this.lineWidths=[0],f=o+l;let g=t;n.textAlign="left",n.textBaseline="middle";let m=-1,v=-f;return this.legendItems.forEach((y,x)=>{const w=i+s/2+n.measureText(y.text).width;(x===0||d[d.length-1]+w+2*l>a)&&(g+=f,d[d.length-(x>0?0:1)]=0,v+=f,m++),r[x]={left:0,top:v,row:m,width:w,height:o},d[d.length-1]+=w+l}),g}_fitCols(t,s,i,o){const{ctx:n,maxHeight:a,options:{labels:{padding:l}}}=this,r=this.legendHitBoxes=[],d=this.columnSizes=[],f=a-t;let g=l,m=0,v=0,y=0,x=0;return this.legendItems.forEach((w,C)=>{const{itemWidth:M,itemHeight:T}=dp(i,s,n,w,o);C>0&&v+T+2*l>f&&(g+=m+l,d.push({width:m,height:v}),y+=m+l,x++,m=v=0),r[C]={left:y,top:v,col:x,width:M,height:T},m=Math.max(m,M),v+=T+l}),g+=m,d.push({width:m,height:v}),g}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:i,labels:{padding:o},rtl:n}}=this,a=Gs(n,this.left,this.width);if(this.isHorizontal()){let l=0,r=te(i,this.left+o,this.right-this.lineWidths[l]);for(const d of s)l!==d.row&&(l=d.row,r=te(i,this.left+o,this.right-this.lineWidths[l])),d.top+=this.top+t+o,d.left=a.leftForLtr(a.x(r),d.width),r+=d.width+o}else{let l=0,r=te(i,this.top+t+o,this.bottom-this.columnSizes[l].height);for(const d of s)d.col!==l&&(l=d.col,r=te(i,this.top+t+o,this.bottom-this.columnSizes[l].height)),d.top=r,d.left+=this.left+o,d.left=a.leftForLtr(a.x(d.left),d.width),r+=d.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;pn(t,this),this._draw(),gn(t)}}_draw(){const{options:t,columnSizes:s,lineWidths:i,ctx:o}=this,{align:n,labels:a}=t,l=Bt.color,r=Gs(t.rtl,this.left,this.width),d=ie(a.font),{padding:f}=a,g=d.size,m=g/2;let v;this.drawTitle(),o.textAlign=r.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=d.string;const{boxWidth:y,boxHeight:x,itemHeight:w}=Va(a,g),C=function(z,F,N){if(isNaN(y)||y<=0||isNaN(x)||x<0)return;o.save();const I=ft(N.lineWidth,1);if(o.fillStyle=ft(N.fillStyle,l),o.lineCap=ft(N.lineCap,"butt"),o.lineDashOffset=ft(N.lineDashOffset,0),o.lineJoin=ft(N.lineJoin,"miter"),o.lineWidth=I,o.strokeStyle=ft(N.strokeStyle,l),o.setLineDash(ft(N.lineDash,[])),a.usePointStyle){const B={radius:x*Math.SQRT2/2,pointStyle:N.pointStyle,rotation:N.rotation,borderWidth:I},V=r.xPlus(z,y/2),K=F+m;Nl(o,B,V,K,a.pointStyleWidth&&y)}else{const B=F+Math.max((g-x)/2,0),V=r.leftForLtr(z,y),K=js(N.borderRadius);o.beginPath(),Object.values(K).some(at=>at!==0)?so(o,{x:V,y:B,w:y,h:x,radius:K}):o.rect(V,B,y,x),o.fill(),I!==0&&o.stroke()}o.restore()},M=function(z,F,N){bi(o,N.text,z,F+w/2,d,{strikethrough:N.hidden,textAlign:r.textAlign(N.textAlign)})},T=this.isHorizontal(),S=this._computeTitleHeight();T?v={x:te(n,this.left+f,this.right-i[0]),y:this.top+f+S,line:0}:v={x:this.left+f,y:te(n,this.top+S+f,this.bottom-s[0].height),line:0},Kl(this.ctx,t.textDirection);const A=w+f;this.legendItems.forEach((z,F)=>{o.strokeStyle=z.fontColor,o.fillStyle=z.fontColor;const N=o.measureText(z.text).width,I=r.textAlign(z.textAlign||(z.textAlign=a.textAlign)),B=y+m+N;let V=v.x,K=v.y;r.setWidth(this.width),T?F>0&&V+B+f>this.right&&(K=v.y+=A,v.line++,V=v.x=te(n,this.left+f,this.right-i[v.line])):F>0&&K+A>this.bottom&&(V=v.x=V+s[v.line].width+f,v.line++,K=v.y=te(n,this.top+S+f,this.bottom-s[v.line].height));const at=r.x(V);if(C(at,K,z),V=tu(I,V+y+m,T?V+B:this.right,t.rtl),M(r.x(V),K,z),T)v.x+=B+f;else if(typeof z.text!="string"){const G=d.lineHeight;v.y+=pr(z,G)+f}else v.y+=A}),Jl(this.ctx,t.textDirection)}drawTitle(){const t=this.options,s=t.title,i=ie(s.font),o=xe(s.padding);if(!s.display)return;const n=Gs(t.rtl,this.left,this.width),a=this.ctx,l=s.position,r=i.size/2,d=o.top+r;let f,g=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),f=this.top+d,g=te(t.align,g,this.right-m);else{const y=this.columnSizes.reduce((x,w)=>Math.max(x,w.height),0);f=d+te(t.align,this.top,this.bottom-y-t.labels.padding-this._computeTitleHeight())}const v=te(l,g,g+m);a.textAlign=n.textAlign(un(l)),a.textBaseline="middle",a.strokeStyle=s.color,a.fillStyle=s.color,a.font=i.string,bi(a,s.text,v,f,i)}_computeTitleHeight(){const t=this.options.title,s=ie(t.font),i=xe(t.padding);return t.display?s.lineHeight+i.height:0}_getLegendItemAt(t,s){let i,o,n;if(qe(t,this.left,this.right)&&qe(s,this.top,this.bottom)){for(n=this.legendHitBoxes,i=0;i<n.length;++i)if(o=n[i],qe(t,o.left,o.left+o.width)&&qe(s,o.top,o.top+o.height))return this.legendItems[i]}return null}handleEvent(t){const s=this.options;if(!fp(t.type,s))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const o=this._hoveredItem,n=cp(o,i);o&&!n&&Mt(s.onLeave,[t,o,this],this),this._hoveredItem=i,i&&!n&&Mt(s.onHover,[t,i,this],this)}else i&&Mt(s.onClick,[t,i,this],this)}}function dp(e,t,s,i,o){const n=up(i,e,t,s),a=hp(o,i,t.lineHeight);return{itemWidth:n,itemHeight:a}}function up(e,t,s,i){let o=e.text;return o&&typeof o!="string"&&(o=o.reduce((n,a)=>n.length>a.length?n:a)),t+s.size/2+i.measureText(o).width}function hp(e,t,s){let i=e;return typeof t.text!="string"&&(i=pr(t,s)),i}function pr(e,t){const s=e.text?e.text.length:0;return t*s}function fp(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var ls={id:"legend",_element:Ba,start(e,t,s){const i=e.legend=new Ba({ctx:e.ctx,options:s,chart:e});ye.configure(e,i,s),ye.addBox(e,i)},stop(e){ye.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,s){const i=e.legend;ye.configure(e,i,s),i.options=s},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,s){const i=t.datasetIndex,o=s.chart;o.isDatasetVisible(i)?(o.hide(i),t.hidden=!0):(o.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:s,pointStyle:i,textAlign:o,color:n,useBorderRadius:a,borderRadius:l}}=e.legend.options;return e._getSortedDatasetMetas().map(r=>{const d=r.controller.getStyle(s?0:void 0),f=xe(d.borderWidth);return{text:t[r.index].label,fillStyle:d.backgroundColor,fontColor:n,hidden:!r.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:o||d.textAlign,borderRadius:a&&(l||d.borderRadius),datasetIndex:r.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class gr extends We{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=s;const o=jt(i.text)?i.text.length:1;this._padding=xe(i.padding);const n=o*ie(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=n:this.width=n}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:s,left:i,bottom:o,right:n,options:a}=this,l=a.align;let r=0,d,f,g;return this.isHorizontal()?(f=te(l,i,n),g=s+t,d=n-i):(a.position==="left"?(f=i+t,g=te(l,o,s),r=Ot*-.5):(f=n-t,g=te(l,s,o),r=Ot*.5),d=o-s),{titleX:f,titleY:g,maxWidth:d,rotation:r}}draw(){const t=this.ctx,s=this.options;if(!s.display)return;const i=ie(s.font),n=i.lineHeight/2+this._padding.top,{titleX:a,titleY:l,maxWidth:r,rotation:d}=this._drawArgs(n);bi(t,s.text,0,0,i,{color:s.color,maxWidth:r,rotation:d,textAlign:un(s.align),textBaseline:"middle",translation:[a,l]})}}function pp(e,t){const s=new gr({ctx:e.ctx,options:t,chart:e});ye.configure(e,s,t),ye.addBox(e,s),e.titleBlock=s}var rs={id:"title",_element:gr,start(e,t,s){pp(e,s)},stop(e){const t=e.titleBlock;ye.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,s){const i=e.titleBlock;ye.configure(e,i,s),i.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const li={average(e){if(!e.length)return!1;let t,s,i=new Set,o=0,n=0;for(t=0,s=e.length;t<s;++t){const l=e[t].element;if(l&&l.hasValue()){const r=l.tooltipPosition();i.add(r.x),o+=r.y,++n}}return n===0||i.size===0?!1:{x:[...i].reduce((l,r)=>l+r)/i.size,y:o/n}},nearest(e,t){if(!e.length)return!1;let s=t.x,i=t.y,o=Number.POSITIVE_INFINITY,n,a,l;for(n=0,a=e.length;n<a;++n){const r=e[n].element;if(r&&r.hasValue()){const d=r.getCenterPoint(),f=Uo(t,d);f<o&&(o=f,l=r)}}if(l){const r=l.tooltipPosition();s=r.x,i=r.y}return{x:s,y:i}}};function Me(e,t){return t&&(jt(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Ve(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function gp(e,t){const{element:s,datasetIndex:i,index:o}=t,n=e.getDatasetMeta(i).controller,{label:a,value:l}=n.getLabelAndValue(o);return{chart:e,label:a,parsed:n.getParsed(o),raw:e.data.datasets[i].data[o],formattedValue:l,dataset:n.getDataset(),dataIndex:o,datasetIndex:i,element:s}}function Fa(e,t){const s=e.chart.ctx,{body:i,footer:o,title:n}=e,{boxWidth:a,boxHeight:l}=t,r=ie(t.bodyFont),d=ie(t.titleFont),f=ie(t.footerFont),g=n.length,m=o.length,v=i.length,y=xe(t.padding);let x=y.height,w=0,C=i.reduce((S,A)=>S+A.before.length+A.lines.length+A.after.length,0);if(C+=e.beforeBody.length+e.afterBody.length,g&&(x+=g*d.lineHeight+(g-1)*t.titleSpacing+t.titleMarginBottom),C){const S=t.displayColors?Math.max(l,r.lineHeight):r.lineHeight;x+=v*S+(C-v)*r.lineHeight+(C-1)*t.bodySpacing}m&&(x+=t.footerMarginTop+m*f.lineHeight+(m-1)*t.footerSpacing);let M=0;const T=function(S){w=Math.max(w,s.measureText(S).width+M)};return s.save(),s.font=d.string,wt(e.title,T),s.font=r.string,wt(e.beforeBody.concat(e.afterBody),T),M=t.displayColors?a+2+t.boxPadding:0,wt(i,S=>{wt(S.before,T),wt(S.lines,T),wt(S.after,T)}),M=0,s.font=f.string,wt(e.footer,T),s.restore(),w+=y.width,{width:w,height:x}}function mp(e,t){const{y:s,height:i}=t;return s<i/2?"top":s>e.height-i/2?"bottom":"center"}function vp(e,t,s,i){const{x:o,width:n}=i,a=s.caretSize+s.caretPadding;if(e==="left"&&o+n+a>t.width||e==="right"&&o-n-a<0)return!0}function bp(e,t,s,i){const{x:o,width:n}=s,{width:a,chartArea:{left:l,right:r}}=e;let d="center";return i==="center"?d=o<=(l+r)/2?"left":"right":o<=n/2?d="left":o>=a-n/2&&(d="right"),vp(d,e,t,s)&&(d="center"),d}function Ha(e,t,s){const i=s.yAlign||t.yAlign||mp(e,s);return{xAlign:s.xAlign||t.xAlign||bp(e,t,s,i),yAlign:i}}function yp(e,t){let{x:s,width:i}=e;return t==="right"?s-=i:t==="center"&&(s-=i/2),s}function _p(e,t,s){let{y:i,height:o}=e;return t==="top"?i+=s:t==="bottom"?i-=o+s:i-=o/2,i}function Na(e,t,s,i){const{caretSize:o,caretPadding:n,cornerRadius:a}=e,{xAlign:l,yAlign:r}=s,d=o+n,{topLeft:f,topRight:g,bottomLeft:m,bottomRight:v}=js(a);let y=yp(t,l);const x=_p(t,r,d);return r==="center"?l==="left"?y+=d:l==="right"&&(y-=d):l==="left"?y-=Math.max(f,m)+o:l==="right"&&(y+=Math.max(g,v)+o),{x:se(y,0,i.width-t.width),y:se(x,0,i.height-t.height)}}function Ni(e,t,s){const i=xe(s.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function Wa(e){return Me([],Ve(e))}function xp(e,t,s){return $s(e,{tooltip:t,tooltipItems:s,type:"tooltip"})}function ja(e,t){const s=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return s?e.override(s):e}const mr={beforeTitle:Ie,title(e){if(e.length>0){const t=e[0],s=t.chart.data.labels,i=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return s[t.dataIndex]}return""},afterTitle:Ie,beforeBody:Ie,beforeLabel:Ie,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const s=e.formattedValue;return At(s)||(t+=s),t},labelColor(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:Ie,afterBody:Ie,beforeFooter:Ie,footer:Ie,afterFooter:Ie};function le(e,t,s,i){const o=e[t].call(s,i);return typeof o>"u"?mr[t].call(s,i):o}class Ga extends We{static positioners=li;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const s=this.chart,i=this.options.setContext(this.getContext()),o=i.enabled&&s.options.animation&&i.animations,n=new Ql(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(n)),n}getContext(){return this.$context||(this.$context=xp(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,s){const{callbacks:i}=s,o=le(i,"beforeTitle",this,t),n=le(i,"title",this,t),a=le(i,"afterTitle",this,t);let l=[];return l=Me(l,Ve(o)),l=Me(l,Ve(n)),l=Me(l,Ve(a)),l}getBeforeBody(t,s){return Wa(le(s.callbacks,"beforeBody",this,t))}getBody(t,s){const{callbacks:i}=s,o=[];return wt(t,n=>{const a={before:[],lines:[],after:[]},l=ja(i,n);Me(a.before,Ve(le(l,"beforeLabel",this,n))),Me(a.lines,le(l,"label",this,n)),Me(a.after,Ve(le(l,"afterLabel",this,n))),o.push(a)}),o}getAfterBody(t,s){return Wa(le(s.callbacks,"afterBody",this,t))}getFooter(t,s){const{callbacks:i}=s,o=le(i,"beforeFooter",this,t),n=le(i,"footer",this,t),a=le(i,"afterFooter",this,t);let l=[];return l=Me(l,Ve(o)),l=Me(l,Ve(n)),l=Me(l,Ve(a)),l}_createItems(t){const s=this._active,i=this.chart.data,o=[],n=[],a=[];let l=[],r,d;for(r=0,d=s.length;r<d;++r)l.push(gp(this.chart,s[r]));return t.filter&&(l=l.filter((f,g,m)=>t.filter(f,g,m,i))),t.itemSort&&(l=l.sort((f,g)=>t.itemSort(f,g,i))),wt(l,f=>{const g=ja(t.callbacks,f);o.push(le(g,"labelColor",this,f)),n.push(le(g,"labelPointStyle",this,f)),a.push(le(g,"labelTextColor",this,f))}),this.labelColors=o,this.labelPointStyles=n,this.labelTextColors=a,this.dataPoints=l,l}update(t,s){const i=this.options.setContext(this.getContext()),o=this._active;let n,a=[];if(!o.length)this.opacity!==0&&(n={opacity:0});else{const l=li[i.position].call(this,o,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const r=this._size=Fa(this,i),d=Object.assign({},l,r),f=Ha(this.chart,i,d),g=Na(i,d,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,n={opacity:1,x:g.x,y:g.y,width:r.width,height:r.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,n&&this._resolveAnimations().update(this,n),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(t,s,i,o){const n=this.getCaretPosition(t,i,o);s.lineTo(n.x1,n.y1),s.lineTo(n.x2,n.y2),s.lineTo(n.x3,n.y3)}getCaretPosition(t,s,i){const{xAlign:o,yAlign:n}=this,{caretSize:a,cornerRadius:l}=i,{topLeft:r,topRight:d,bottomLeft:f,bottomRight:g}=js(l),{x:m,y:v}=t,{width:y,height:x}=s;let w,C,M,T,S,A;return n==="center"?(S=v+x/2,o==="left"?(w=m,C=w-a,T=S+a,A=S-a):(w=m+y,C=w+a,T=S-a,A=S+a),M=w):(o==="left"?C=m+Math.max(r,f)+a:o==="right"?C=m+y-Math.max(d,g)-a:C=this.caretX,n==="top"?(T=v,S=T-a,w=C-a,M=C+a):(T=v+x,S=T+a,w=C+a,M=C-a),A=T),{x1:w,x2:C,x3:M,y1:T,y2:S,y3:A}}drawTitle(t,s,i){const o=this.title,n=o.length;let a,l,r;if(n){const d=Gs(i.rtl,this.x,this.width);for(t.x=Ni(this,i.titleAlign,i),s.textAlign=d.textAlign(i.titleAlign),s.textBaseline="middle",a=ie(i.titleFont),l=i.titleSpacing,s.fillStyle=i.titleColor,s.font=a.string,r=0;r<n;++r)s.fillText(o[r],d.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+l,r+1===n&&(t.y+=i.titleMarginBottom-l)}}_drawColorBox(t,s,i,o,n){const a=this.labelColors[i],l=this.labelPointStyles[i],{boxHeight:r,boxWidth:d}=n,f=ie(n.bodyFont),g=Ni(this,"left",n),m=o.x(g),v=r<f.lineHeight?(f.lineHeight-r)/2:0,y=s.y+v;if(n.usePointStyle){const x={radius:Math.min(d,r)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},w=o.leftForLtr(m,d)+d/2,C=y+r/2;t.strokeStyle=n.multiKeyBackground,t.fillStyle=n.multiKeyBackground,Bo(t,x,w,C),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,Bo(t,x,w,C)}else{t.lineWidth=mt(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;const x=o.leftForLtr(m,d),w=o.leftForLtr(o.xPlus(m,1),d-2),C=js(a.borderRadius);Object.values(C).some(M=>M!==0)?(t.beginPath(),t.fillStyle=n.multiKeyBackground,so(t,{x,y,w:d,h:r,radius:C}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),so(t,{x:w,y:y+1,w:d-2,h:r-2,radius:C}),t.fill()):(t.fillStyle=n.multiKeyBackground,t.fillRect(x,y,d,r),t.strokeRect(x,y,d,r),t.fillStyle=a.backgroundColor,t.fillRect(w,y+1,d-2,r-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,s,i){const{body:o}=this,{bodySpacing:n,bodyAlign:a,displayColors:l,boxHeight:r,boxWidth:d,boxPadding:f}=i,g=ie(i.bodyFont);let m=g.lineHeight,v=0;const y=Gs(i.rtl,this.x,this.width),x=function(N){s.fillText(N,y.x(t.x+v),t.y+m/2),t.y+=m+n},w=y.textAlign(a);let C,M,T,S,A,z,F;for(s.textAlign=a,s.textBaseline="middle",s.font=g.string,t.x=Ni(this,w,i),s.fillStyle=i.bodyColor,wt(this.beforeBody,x),v=l&&w!=="right"?a==="center"?d/2+f:d+2+f:0,S=0,z=o.length;S<z;++S){for(C=o[S],M=this.labelTextColors[S],s.fillStyle=M,wt(C.before,x),T=C.lines,l&&T.length&&(this._drawColorBox(s,t,S,y,i),m=Math.max(g.lineHeight,r)),A=0,F=T.length;A<F;++A)x(T[A]),m=g.lineHeight;wt(C.after,x)}v=0,m=g.lineHeight,wt(this.afterBody,x),t.y-=n}drawFooter(t,s,i){const o=this.footer,n=o.length;let a,l;if(n){const r=Gs(i.rtl,this.x,this.width);for(t.x=Ni(this,i.footerAlign,i),t.y+=i.footerMarginTop,s.textAlign=r.textAlign(i.footerAlign),s.textBaseline="middle",a=ie(i.footerFont),s.fillStyle=i.footerColor,s.font=a.string,l=0;l<n;++l)s.fillText(o[l],r.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+i.footerSpacing}}drawBackground(t,s,i,o){const{xAlign:n,yAlign:a}=this,{x:l,y:r}=t,{width:d,height:f}=i,{topLeft:g,topRight:m,bottomLeft:v,bottomRight:y}=js(o.cornerRadius);s.fillStyle=o.backgroundColor,s.strokeStyle=o.borderColor,s.lineWidth=o.borderWidth,s.beginPath(),s.moveTo(l+g,r),a==="top"&&this.drawCaret(t,s,i,o),s.lineTo(l+d-m,r),s.quadraticCurveTo(l+d,r,l+d,r+m),a==="center"&&n==="right"&&this.drawCaret(t,s,i,o),s.lineTo(l+d,r+f-y),s.quadraticCurveTo(l+d,r+f,l+d-y,r+f),a==="bottom"&&this.drawCaret(t,s,i,o),s.lineTo(l+v,r+f),s.quadraticCurveTo(l,r+f,l,r+f-v),a==="center"&&n==="left"&&this.drawCaret(t,s,i,o),s.lineTo(l,r+g),s.quadraticCurveTo(l,r,l+g,r),s.closePath(),s.fill(),o.borderWidth>0&&s.stroke()}_updateAnimationTarget(t){const s=this.chart,i=this.$animations,o=i&&i.x,n=i&&i.y;if(o||n){const a=li[t.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=Fa(this,t),r=Object.assign({},a,this._size),d=Ha(s,t,r),f=Na(t,r,d,s);(o._to!==f.x||n._to!==f.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(t){const s=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(s);const o={width:this.width,height:this.height},n={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=xe(s.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&l&&(t.save(),t.globalAlpha=i,this.drawBackground(n,t,o,s),Kl(t,s.textDirection),n.y+=a.top,this.drawTitle(n,t,s),this.drawBody(n,t,s),this.drawFooter(n,t,s),Jl(t,s.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,s){const i=this._active,o=t.map(({datasetIndex:l,index:r})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[r],index:r}}),n=!Qi(i,o),a=this._positionChanged(o,s);(n||a)&&(this._active=o,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,s,i=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,n=this._active||[],a=this._getActiveElements(t,n,s,i),l=this._positionChanged(a,t),r=s||!Qi(a,n)||l;return r&&(this._active=a,(o.enabled||o.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,s))),r}_getActiveElements(t,s,i,o){const n=this.options;if(t.type==="mouseout")return[];if(!o)return s.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const a=this.chart.getElementsAtEventForMode(t,n.mode,n,i);return n.reverse&&a.reverse(),a}_positionChanged(t,s){const{caretX:i,caretY:o,options:n}=this,a=li[n.position].call(this,t,s);return a!==!1&&(i!==a.x||o!==a.y)}}var cs={id:"tooltip",_element:Ga,positioners:li,afterInit(e,t,s){s&&(e.tooltip=new Ga({chart:e,options:s}))},beforeUpdate(e,t,s){e.tooltip&&e.tooltip.initialize(s)},reset(e,t,s){e.tooltip&&e.tooltip.initialize(s)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const s={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",s)}},afterEvent(e,t){if(e.tooltip){const s=t.replay;e.tooltip.handleEvent(t.event,s,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:mr},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const wp=(e,t,s,i)=>(typeof t=="string"?(s=e.push(t)-1,i.unshift({index:s,label:t})):isNaN(t)&&(s=null),s);function kp(e,t,s,i){const o=e.indexOf(t);if(o===-1)return wp(e,t,s,i);const n=e.lastIndexOf(t);return o!==n?s:o}const Cp=(e,t)=>e===null?null:se(Math.round(e),0,t);function Ya(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class ds extends Ks{static id="category";static defaults={ticks:{callback:Ya}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const s=this._addedLabels;if(s.length){const i=this.getLabels();for(const{index:o,label:n}of s)i[o]===n&&i.splice(o,1);this._addedLabels=[]}super.init(t)}parse(t,s){if(At(t))return null;const i=this.getLabels();return s=isFinite(s)&&i[s]===t?s:kp(i,t,ft(s,t),this._addedLabels),Cp(s,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:i,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),s||(o=this.getLabels().length-1)),this.min=i,this.max=o}buildTicks(){const t=this.min,s=this.max,i=this.options.offset,o=[];let n=this.getLabels();n=t===0&&s===n.length-1?n:n.slice(t,s+1),this._valueRange=Math.max(n.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=t;a<=s;a++)o.push({value:a});return o}getLabelForValue(t){return Ya.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function Sp(e,t){const s=[],{bounds:o,step:n,min:a,max:l,precision:r,count:d,maxTicks:f,maxDigits:g,includeBounds:m}=e,v=n||1,y=f-1,{min:x,max:w}=t,C=!At(a),M=!At(l),T=!At(d),S=(w-x)/(g+1);let A=qn((w-x)/y/v)*v,z,F,N,I;if(A<1e-14&&!C&&!M)return[{value:x},{value:w}];I=Math.ceil(w/A)-Math.floor(x/A),I>y&&(A=qn(I*A/y/v)*v),At(r)||(z=Math.pow(10,r),A=Math.ceil(A*z)/z),o==="ticks"?(F=Math.floor(x/A)*A,N=Math.ceil(w/A)*A):(F=x,N=w),C&&M&&n&&jd((l-a)/n,A/1e3)?(I=Math.round(Math.min((l-a)/A,f)),A=(l-a)/I,F=a,N=l):T?(F=C?a:F,N=M?l:N,I=d-1,A=(N-F)/I):(I=(N-F)/A,ci(I,Math.round(I),A/1e3)?I=Math.round(I):I=Math.ceil(I));const B=Math.max(Xn(A),Xn(F));z=Math.pow(10,At(r)?B:r),F=Math.round(F*z)/z,N=Math.round(N*z)/z;let V=0;for(C&&(m&&F!==a?(s.push({value:a}),F<a&&V++,ci(Math.round((F+V*A)*z)/z,a,qa(a,S,e))&&V++):F<a&&V++);V<I;++V){const K=Math.round((F+V*A)*z)/z;if(M&&K>l)break;s.push({value:K})}return M&&m&&N!==l?s.length&&ci(s[s.length-1].value,l,qa(l,S,e))?s[s.length-1].value=l:s.push({value:l}):(!M||N===l)&&s.push({value:N}),s}function qa(e,t,{horizontal:s,minRotation:i}){const o=Ne(i),n=(s?Math.sin(o):Math.cos(o))||.001,a=.75*t*(""+e).length;return Math.min(t/n,a)}class Dp extends Ks{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,s){return At(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:s,maxDefined:i}=this.getUserBounds();let{min:o,max:n}=this;const a=r=>o=s?o:r,l=r=>n=i?n:r;if(t){const r=Le(o),d=Le(n);r<0&&d<0?l(0):r>0&&d>0&&a(0)}if(o===n){let r=n===0?1:Math.abs(n*.05);l(n+r),t||a(o-r)}this.min=o,this.max=n}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:s,stepSize:i}=t,o;return i?(o=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),s=s||11),s&&(o=Math.min(s,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,s=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const o={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},n=this._range||this,a=Sp(o,n);return t.bounds==="ticks"&&Gd(a,this,"value"),t.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const t=this.ticks;let s=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const o=(i-s)/Math.max(t.length-1,1)/2;s-=o,i+=o}this._startValue=s,this._endValue=i,this._valueRange=i-s}getLabelForValue(t){return fn(t,this.chart.options.locale,this.options.ticks.format)}}class us extends Dp{static id="linear";static defaults={ticks:{callback:Hl.formatters.numeric}};determineDataLimits(){const{min:t,max:s}=this.getMinMax(!0);this.min=_e(t)?t:0,this.max=_e(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),s=t?this.width:this.height,i=Ne(this.options.ticks.minRotation),o=(t?Math.sin(i):Math.cos(i))||.001,n=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,n.lineHeight/o))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const po={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},de=Object.keys(po);function Xa(e,t){return e-t}function Ka(e,t){if(At(t))return null;const s=e._adapter,{parser:i,round:o,isoWeekday:n}=e._parseOpts;let a=t;return typeof i=="function"&&(a=i(a)),_e(a)||(a=typeof i=="string"?s.parse(a,i):s.parse(a)),a===null?null:(o&&(a=o==="week"&&(gi(n)||n===!0)?s.startOf(a,"isoWeek",n):s.startOf(a,o)),+a)}function Ja(e,t,s,i){const o=de.length;for(let n=de.indexOf(e);n<o-1;++n){const a=po[de[n]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((s-t)/(l*a.size))<=i)return de[n]}return de[o-1]}function Tp(e,t,s,i,o){for(let n=de.length-1;n>=de.indexOf(s);n--){const a=de[n];if(po[a].common&&e._adapter.diff(o,i,a)>=t-1)return a}return de[s?de.indexOf(s):0]}function Ap(e){for(let t=de.indexOf(e)+1,s=de.length;t<s;++t)if(po[de[t]].common)return de[t]}function Za(e,t,s){if(!s)e[t]=!0;else if(s.length){const{lo:i,hi:o}=dn(s,t),n=s[i]>=t?s[i]:s[o];e[n]=!0}}function Mp(e,t,s,i){const o=e._adapter,n=+o.startOf(t[0].value,i),a=t[t.length-1].value;let l,r;for(l=n;l<=a;l=+o.add(l,1,i))r=s[l],r>=0&&(t[r].major=!0);return t}function Qa(e,t,s){const i=[],o={},n=t.length;let a,l;for(a=0;a<n;++a)l=t[a],o[l]=a,i.push({value:l,major:!1});return n===0||!s?i:Mp(e,i,o,s)}class tl extends Ks{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,s={}){const i=t.time||(t.time={}),o=this._adapter=new Lh._date(t.adapters.date);o.init(s),ri(i.displayFormats,o.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=s.normalized}parse(t,s){return t===void 0?null:Ka(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,s=this._adapter,i=t.time.unit||"day";let{min:o,max:n,minDefined:a,maxDefined:l}=this.getUserBounds();function r(d){!a&&!isNaN(d.min)&&(o=Math.min(o,d.min)),!l&&!isNaN(d.max)&&(n=Math.max(n,d.max))}(!a||!l)&&(r(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&r(this.getMinMax(!1))),o=_e(o)&&!isNaN(o)?o:+s.startOf(Date.now(),i),n=_e(n)&&!isNaN(n)?n:+s.endOf(Date.now(),i)+1,this.min=Math.min(o,n-1),this.max=Math.max(o+1,n)}_getLabelBounds(){const t=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(s=t[0],i=t[t.length-1]),{min:s,max:i}}buildTicks(){const t=this.options,s=t.time,i=t.ticks,o=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const n=this.min,a=this.max,l=Jd(o,n,a);return this._unit=s.unit||(i.autoSkip?Ja(s.minUnit,this.min,this.max,this._getLabelCapacity(n)):Tp(this,l.length,s.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Ap(this._unit),this.initOffsets(o),t.reverse&&l.reverse(),Qa(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let s=0,i=0,o,n;this.options.offset&&t.length&&(o=this.getDecimalForValue(t[0]),t.length===1?s=1-o:s=(this.getDecimalForValue(t[1])-o)/2,n=this.getDecimalForValue(t[t.length-1]),t.length===1?i=n:i=(n-this.getDecimalForValue(t[t.length-2]))/2);const a=t.length<3?.5:.25;s=se(s,0,a),i=se(i,0,a),this._offsets={start:s,end:i,factor:1/(s+1+i)}}_generate(){const t=this._adapter,s=this.min,i=this.max,o=this.options,n=o.time,a=n.unit||Ja(n.minUnit,s,i,this._getLabelCapacity(s)),l=ft(o.ticks.stepSize,1),r=a==="week"?n.isoWeekday:!1,d=gi(r)||r===!0,f={};let g=s,m,v;if(d&&(g=+t.startOf(g,"isoWeek",r)),g=+t.startOf(g,d?"day":a),t.diff(i,s,a)>1e5*l)throw new Error(s+" and "+i+" are too far apart with stepSize of "+l+" "+a);const y=o.ticks.source==="data"&&this.getDataTimestamps();for(m=g,v=0;m<i;m=+t.add(m,l,a),v++)Za(f,m,y);return(m===i||o.bounds==="ticks"||v===1)&&Za(f,m,y),Object.keys(f).sort(Xa).map(x=>+x)}getLabelForValue(t){const s=this._adapter,i=this.options.time;return i.tooltipFormat?s.format(t,i.tooltipFormat):s.format(t,i.displayFormats.datetime)}format(t,s){const o=this.options.time.displayFormats,n=this._unit,a=s||o[n];return this._adapter.format(t,a)}_tickFormatFunction(t,s,i,o){const n=this.options,a=n.ticks.callback;if(a)return Mt(a,[t,s,i],this);const l=n.time.displayFormats,r=this._unit,d=this._majorUnit,f=r&&l[r],g=d&&l[d],m=i[s],v=d&&g&&m&&m.major;return this._adapter.format(t,o||(v?g:f))}generateTickLabels(t){let s,i,o;for(s=0,i=t.length;s<i;++s)o=t[s],o.label=this._tickFormatFunction(o.value,s,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const s=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((s.start+i)*s.factor)}getValueForPixel(t){const s=this._offsets,i=this.getDecimalForPixel(t)/s.factor-s.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const s=this.options.ticks,i=this.ctx.measureText(t).width,o=Ne(this.isHorizontal()?s.maxRotation:s.minRotation),n=Math.cos(o),a=Math.sin(o),l=this._resolveTickFontOptions(0).size;return{w:i*n+l*a,h:i*a+l*n}}_getLabelCapacity(t){const s=this.options.time,i=s.displayFormats,o=i[s.unit]||i.millisecond,n=this._tickFormatFunction(t,0,Qa(this,[t],this._majorUnit),o),a=this._getLabelSize(n),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let t=this._cache.data||[],s,i;if(t.length)return t;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(s=0,i=o.length;s<i;++s)t=t.concat(o[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let s,i;if(t.length)return t;const o=this.getLabels();for(s=0,i=o.length;s<i;++s)t.push(Ka(this,o[s]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Vl(t.sort(Xa))}}function Wi(e,t,s){let i=0,o=e.length-1,n,a,l,r;s?(t>=e[i].pos&&t<=e[o].pos&&({lo:i,hi:o}=Ts(e,"pos",t)),{pos:n,time:l}=e[i],{pos:a,time:r}=e[o]):(t>=e[i].time&&t<=e[o].time&&({lo:i,hi:o}=Ts(e,"time",t)),{time:n,pos:l}=e[i],{time:a,pos:r}=e[o]);const d=a-n;return d?l+(r-l)*(t-n)/d:l}class L_ extends tl{static id="timeseries";static defaults=tl.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(t);this._minPos=Wi(s,this.min),this._tableRange=Wi(s,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:s,max:i}=this,o=[],n=[];let a,l,r,d,f;for(a=0,l=t.length;a<l;++a)d=t[a],d>=s&&d<=i&&o.push(d);if(o.length<2)return[{time:s,pos:0},{time:i,pos:1}];for(a=0,l=o.length;a<l;++a)f=o[a+1],r=o[a-1],d=o[a],Math.round((f+r)/2)!==d&&n.push({time:d,pos:a/(l-1)});return n}_generate(){const t=this.min,s=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(s)||i.length===1)&&i.push(s),i.sort((o,n)=>o-n)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const s=this.getDataTimestamps(),i=this.getLabelTimestamps();return s.length&&i.length?t=this.normalize(s.concat(i)):t=s.length?s:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Wi(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const s=this._offsets,i=this.getDecimalForPixel(t)/s.factor-s.end;return Wi(this._table,i*this._tableRange+this._minPos,!0)}}const vr={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},Pp={ariaLabel:{type:String},ariaDescribedby:{type:String}},Rp={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...vr,...Pp},$p=lc[0]==="2"?(e,t)=>Object.assign(e,{attrs:t}):(e,t)=>Object.assign(e,t);function Bs(e){return al(e)?Ws(e):e}function Lp(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e;return al(t)?new Proxy(e,{}):e}function Ep(e,t){const s=e.options;s&&t&&Object.assign(s,t)}function br(e,t){e.labels=t}function yr(e,t,s){const i=[];e.datasets=t.map(o=>{const n=e.datasets.find(a=>a[s]===o[s]);return!n||!o.data||i.includes(n)?{...o}:(i.push(n),Object.assign(n,o),n)})}function Op(e,t){const s={labels:[],datasets:[]};return br(s,e.labels),yr(s,e.datasets,t),s}const zp=ae({props:Rp,setup(e,t){let{expose:s,slots:i}=t;const o=O(null),n=ce(null);s({chart:n});const a=()=>{if(!o.value)return;const{type:d,data:f,options:g,plugins:m,datasetIdKey:v}=e,y=Op(f,v),x=Lp(y,f);n.value=new we(o.value,{type:d,data:x,options:{...g},plugins:m})},l=()=>{const d=Ws(n.value);d&&(e.destroyDelay>0?setTimeout(()=>{d.destroy(),n.value=null},e.destroyDelay):(d.destroy(),n.value=null))},r=d=>{d.update(e.updateMode)};return Ms(a),nl(l),he([()=>e.options,()=>e.data],(d,f)=>{let[g,m]=d,[v,y]=f;const x=Ws(n.value);if(!x)return;let w=!1;if(g){const C=Bs(g),M=Bs(v);C&&C!==M&&(Ep(x,C),w=!0)}if(m){const C=Bs(m.labels),M=Bs(y.labels),T=Bs(m.datasets),S=Bs(y.datasets);C!==M&&(br(x.config.data,C),w=!0),T&&T!==S&&(yr(x.config.data,T,e.datasetIdKey),w=!0)}w&&Ys(()=>{r(x)})},{deep:!0}),()=>Lo("canvas",{role:"img",ariaLabel:e.ariaLabel,ariaDescribedby:e.ariaDescribedby,ref:o},[Lo("p",{},[i.default?i.default():""])])}});function kn(e,t){return we.register(t),ae({props:vr,setup(s,i){let{expose:o}=i;const n=ce(null),a=l=>{n.value=l?.chart};return o({chart:n}),()=>Lo(zp,$p({ref:a},{type:e,...s}))}})}const Di=kn("bar",Ah),es=kn("line",Rh),Ip=kn("pie",$h),Up=qt({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...gl({origin:"center center",scrollStrategy:"block",transition:{component:Mc},zIndex:2400})},"VDialog"),ve=Yt()({name:"VDialog",props:Up(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{emit:s,slots:i}=t;const o=Ke(e,"modelValue"),{scopeId:n}=Zo(),a=O();function l(f){const g=f.relatedTarget,m=f.target;if(g!==m&&a.value?.contentEl&&a.value?.globalTop&&![document,a.value.contentEl].includes(m)&&!a.value.contentEl.contains(m)){const v=cc(a.value.contentEl);if(!v.length)return;const y=v[0],x=v[v.length-1];g===y?x.focus():y.focus()}}rc(()=>{document.removeEventListener("focusin",l)}),ll&&he(()=>o.value&&e.retainFocus,f=>{f?document.addEventListener("focusin",l):document.removeEventListener("focusin",l)},{immediate:!0});function r(){s("afterEnter"),a.value?.contentEl&&!a.value.contentEl.contains(document.activeElement)&&a.value.contentEl.focus({preventScroll:!0})}function d(){s("afterLeave")}return he(o,async f=>{f||(await Ys(),a.value.activatorEl?.focus({preventScroll:!0}))}),Xt(()=>{const f=Zi.filterProps(e),g=W({"aria-haspopup":"dialog"},e.activatorProps),m=W({tabindex:-1},e.contentProps);return u(Zi,W({ref:a,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},f,{modelValue:o.value,"onUpdate:modelValue":v=>o.value=v,"aria-modal":"true",activatorProps:g,contentProps:m,height:e.fullscreen?void 0:e.height,width:e.fullscreen?void 0:e.width,maxHeight:e.fullscreen?void 0:e.maxHeight,maxWidth:e.fullscreen?void 0:e.maxWidth,role:"dialog",onAfterEnter:r,onAfterLeave:d},n),{activator:i.activator,default:function(){for(var v=arguments.length,y=new Array(v),x=0;x<v;x++)y[x]=arguments[x];return u(Qe,{root:"VDialog"},{default:()=>[i.default?.(...y)]})}})}),ro({},a)}}),Vp=qt({id:String,text:String,...xi(gl({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),Y=Yt()({name:"VTooltip",props:Vp(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:s}=t;const i=Ke(e,"modelValue"),{scopeId:o}=Zo(),n=ol(),a=P(()=>e.id||`v-tooltip-${n}`),l=O(),r=P(()=>e.location.split(" ").length>1?e.location:e.location+" center"),d=P(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),f=P(()=>e.transition?e.transition:i.value?"scale-transition":"fade-transition"),g=P(()=>W({"aria-describedby":a.value},e.activatorProps));return Xt(()=>{const m=Zi.filterProps(e);return u(Zi,W({ref:l,class:["v-tooltip",e.class],style:e.style,id:a.value},m,{modelValue:i.value,"onUpdate:modelValue":v=>i.value=v,transition:f.value,absolute:!0,location:r.value,origin:d.value,persistent:!0,role:"tooltip",activatorProps:g.value,_disableGlobalStack:!0},o),{activator:s.activator,default:function(){for(var v=arguments.length,y=new Array(v),x=0;x<v;x++)y[x]=arguments[x];return s.default?.(...y)??e.text}})}),ro({},l)}}),Bp={class:"dashboard-subtitle"},Fp={class:"kpi-value-lg"},Hp={class:"tooltip-content"},Np={class:"tooltip-example",style:{"white-space":"pre-line","font-family":"monospace","font-size":"0.85rem"}},Wp={class:"kpi-value-lg green-text"},jp={class:"tooltip-content"},Gp={class:"tooltip-example",style:{"white-space":"pre-line","font-family":"monospace","font-size":"0.85rem"}},Yp={class:"kpi-value-lg teal-text"},qp={class:"tooltip-content"},Xp={class:"tooltip-example",style:{"white-space":"pre-line","font-family":"monospace","font-size":"0.85rem"}},Kp={class:"kpi-value-lg red-text"},Jp={class:"tooltip-content"},Zp={class:"tooltip-example",style:{"white-space":"pre-line","font-family":"monospace","font-size":"0.85rem"}},Qp={class:"kpi-value-lg orange-text"},tg={class:"tooltip-content"},eg={class:"tooltip-example",style:{"white-space":"pre-line","font-family":"monospace","font-size":"0.85rem"}},sg={class:"kpi-value-lg",style:{color:"#f59e0b"}},ig={class:"kpi-value-lg",style:{color:"#ef4444"}},og={class:"tooltip-content"},ng={class:"tooltip-example",style:{"white-space":"pre-line","font-family":"monospace","font-size":"0.85rem"}},ag={class:"kpi-value-lg",style:{color:"#ef4444"}},lg={class:"tooltip-content"},rg={class:"tooltip-example",style:{"white-space":"pre-line","font-family":"monospace","font-size":"0.85rem"}},cg={class:"kpi-subtitle-lg"},dg={class:"tooltip-content"},ug={class:"tooltip-example",style:{"white-space":"pre-line","font-family":"monospace","font-size":"0.85rem"}},hg={class:"tooltip-content"},fg={class:"tooltip-example",style:{"white-space":"pre-line","font-family":"monospace","font-size":"0.85rem"}},pg={class:"tooltip-content"},gg={class:"tooltip-example",style:{"white-space":"pre-line","font-family":"monospace","font-size":"0.85rem"}},mg={class:"tooltip-content"},vg={class:"tooltip-example",style:{"white-space":"pre-line","font-family":"monospace","font-size":"0.85rem"}},bg={class:"tooltip-content"},yg={class:"tooltip-example",style:{"white-space":"pre-line","font-family":"monospace","font-size":"0.85rem"}},_g={style:{display:"grid","grid-template-columns":"repeat(2, 1fr)",gap:"12px","margin-top":"16px"}},xg={style:{fontSize:"1.4rem",fontWeight:"bold",color:"#20b2aa"}},wg={style:{fontSize:"1.4rem",fontWeight:"bold",color:"#3b82f6"}},kg={style:{position:"relative",height:"280px","margin-bottom":"20px",cursor:"pointer"}},Cg={style:{display:"grid","grid-template-columns":"repeat(2, 1fr)",gap:"12px","margin-top":"16px"}},Sg={style:{fontSize:"1.4rem",fontWeight:"bold",color:"#10b981"}},Dg={style:{fontSize:"1.4rem",fontWeight:"bold",color:"#f59e0b"}},Tg={style:{color:"#3b82f6",fontWeight:"600",fontSize:"0.95rem"}},Ag={style:{"font-size":"11px",color:"#888","font-weight":"normal","margin-top":"2px"}},Mg={key:1,class:"no-data"},Pg={class:"chart-footer"},Rg={class:"trend-info"},$g={style:{"font-size":"11px",color:"#888","font-weight":"normal","margin-top":"2px"}},Lg={class:"text-center mb-6 pa-2 rounded-lg",style:{background:"rgba(var(--v-theme-primary), 0.1)",border:"1px solid rgba(var(--v-theme-primary), 0.2)"}},Eg={class:"text-h6 font-weight-bold"},Og={class:"text-primary"},zg={class:"segments-grid"},Ig={class:"segment-box-value"},Ug={class:"segment-box-percent"},Vg={class:"segment-box-value"},Bg={class:"segment-box-percent"},Fg={class:"segment-box-value"},Hg={class:"segment-box-percent"},Ng={class:"segment-box-value"},Wg={class:"segment-box-percent"},jg={class:"chart-details-container"},Gg={class:"detail-row"},Yg={class:"detail-value"},qg={class:"detail-row highlight"},Xg={class:"breakdown-section"},Kg={class:"breakdown-item"},Jg={class:"item-value"},Zg={class:"breakdown-item"},Qg={class:"item-value"},tm={class:"breakdown-item calculation"},em={class:"item-value"},sm={class:"breakdown-item result"},im={class:"item-value"},om={class:"info-value"},nm={class:"metric-details-container"},am={class:"detail-row highlight mb-6"},lm={class:"info-section"},rm={class:"section-text"},cm={class:"formula-content",style:{"white-space":"pre-line","line-height":"1.6"}},dm={class:"metric-details-container"},um={class:"detail-row highlight"},hm={class:"info-section"},fm={class:"section-text"},pm={class:"formula-content",style:{"white-space":"pre-line","line-height":"1.6"}},gm={class:"metric-details-container"},mm={class:"detail-row highlight"},vm={class:"detail-row highlight",style:{"border-bottom":"none","padding-bottom":"12px"}},bm={class:"info-section"},ym={class:"section-text"},_m={class:"formula-content",style:{"white-space":"pre-line","line-height":"1.6"}},xm={class:"info-section"},wm={class:"section-text"},km={class:"info-section mt-4",style:{background:"rgba(var(--v-theme-primary), 0.05)","border-radius":"8px",padding:"12px","border-left":"4px solid #7c3aed"}},Cm={class:"section-text",style:{"font-style":"italic","font-size":"0.85rem",color:"#4b5563"}},Sm={key:0},Dm={class:"d-flex align-center mb-1"},Tm={class:"pa-5"},Am={class:"font-weight-medium text-grey-darken-1"},Mm={key:0,class:"mt-1 font-italic"},Pm={key:1,class:"pa-10 text-center text-grey"},Rm={key:0},$m={class:"d-flex align-center mb-2"},Lm={class:"pa-4"},Em={style:{padding:"12px 8px"}},Om={class:"d-flex align-center"},zm={style:{color:"white","font-weight":"bold","font-size":"0.9rem"}},Im={style:{"font-weight":"600"}},Um={style:{"font-size":"0.85rem",color:"#94a3b8","margin-top":"2px"}},Vm={style:{padding:"12px 8px"}},Bm={style:{"font-weight":"500"}},Fm={key:0,style:{"font-size":"0.85rem",color:"#94a3b8","margin-top":"2px"}},Hm={key:1,style:{"font-size":"0.85rem",color:"#ef4444","margin-top":"2px","font-style":"italic"}},Nm={key:1,class:"pa-10 text-center text-grey"},Wm={key:0},jm={class:"d-flex align-center mb-2"},Gm={class:"pa-4"},Ym={style:{padding:"12px 8px"}},qm={class:"d-flex align-center"},Xm={style:{color:"white","font-weight":"bold","font-size":"0.9rem"}},Km={style:{"font-weight":"600"}},Jm={style:{"font-size":"0.85rem",color:"#94a3b8","margin-top":"2px"}},Zm={style:{padding:"12px 8px"}},Qm={style:{"font-weight":"500"}},tv={key:0,style:{"font-size":"0.85rem",color:"#94a3b8","margin-top":"2px"}},ev={key:1,style:{"font-size":"0.85rem",color:"#20b2aa","margin-top":"2px","font-style":"italic"}},sv={style:{padding:"12px 8px"}},iv={key:0,style:{color:"#20b2aa","font-weight":"bold"}},ov={key:1,style:{"font-size":"0.85rem",color:"#94a3b8","margin-top":"2px"}},nv={key:2,style:{color:"#999","font-style":"italic"}},av={key:1,class:"pa-10 text-center text-grey"},lv={key:0},rv={class:"d-flex align-center mb-2"},cv={class:"pa-4"},dv={style:{padding:"12px 8px"}},uv={class:"d-flex align-center"},hv={style:{color:"white","font-weight":"bold","font-size":"0.9rem"}},fv={style:{"font-weight":"600"}},pv={style:{"font-size":"0.85rem",color:"#94a3b8","margin-top":"2px"}},gv={style:{padding:"12px 8px"}},mv={style:{"font-weight":"500"}},vv={key:0,style:{"font-size":"0.85rem",color:"#94a3b8","margin-top":"2px"}},bv={style:{padding:"12px 8px"}},yv={key:0,style:{color:"#0284c7","font-weight":"bold"}},_v={key:1,style:{"font-size":"0.85rem",color:"#94a3b8","margin-top":"2px"}},xv={key:2,style:{color:"#999","font-style":"italic"}},wv={key:1,class:"pa-10 text-center text-grey"},kv={key:0},Cv={class:"d-flex align-center mb-2"},Sv={class:"pa-4"},Dv={style:{padding:"12px 8px"}},Tv={class:"d-flex align-center"},Av={style:{color:"white","font-weight":"bold","font-size":"0.9rem"}},Mv={style:{"font-weight":"600"}},Pv={style:{"font-size":"0.85rem",color:"#94a3b8","margin-top":"2px"}},Rv={style:{padding:"12px 8px"}},$v={style:{"font-weight":"500"}},Lv={key:0,style:{"font-size":"0.85rem",color:"#94a3b8","margin-top":"2px"}},Ev={style:{padding:"12px 8px"}},Ov={key:0,style:{color:"#06b6d4","font-weight":"bold"}},zv={key:1,style:{"font-size":"0.85rem",color:"#94a3b8","margin-top":"2px"}},Iv={key:2,style:{color:"#999","font-style":"italic"}},Uv={key:1,class:"pa-10 text-center text-grey"},Vv={key:0},Bv={class:"d-flex align-center mb-2"},Fv={class:"pa-4"},Hv={style:{padding:"12px 8px"}},Nv={class:"d-flex align-center"},Wv={style:{color:"white","font-weight":"bold","font-size":"0.9rem"}},jv={style:{"font-weight":"600"}},Gv={style:{"font-size":"0.85rem",color:"#94a3b8","margin-top":"2px"}},Yv={style:{padding:"12px 8px"}},qv={style:{"font-weight":"500"}},Xv={key:0,style:{"font-size":"0.85rem",color:"#94a3b8","margin-top":"2px"}},Kv={key:1,style:{"font-size":"0.85rem",color:"#ef4444","margin-top":"2px","font-style":"italic"}},Jv={style:{padding:"12px 8px"}},Zv={key:0,style:{color:"#ef4444","font-weight":"bold"}},Qv={key:1,style:{"font-size":"0.85rem",color:"#94a3b8","margin-top":"2px"}},t1={key:2,style:{color:"#999","font-style":"italic"}},e1={key:1,class:"pa-10 text-center text-grey"},s1={key:0},i1={class:"d-flex align-center mb-2"},o1={class:"pa-4"},n1={style:{padding:"12px 8px"}},a1={class:"d-flex align-center"},l1={style:{color:"white","font-weight":"bold","font-size":"0.9rem"}},r1={style:{"font-weight":"600"}},c1={style:{"font-size":"0.85rem",color:"#94a3b8","margin-top":"2px"}},d1={style:{padding:"12px 8px"}},u1={style:{"font-weight":"500"}},h1={key:0,style:{"font-size":"0.85rem",color:"#94a3b8","margin-top":"2px"}},f1={key:1,class:"pa-10 text-center text-grey"},p1={key:0},g1={class:"d-flex align-center mb-2"},m1={class:"pa-4"},v1={style:{padding:"12px 8px"}},b1={class:"d-flex align-center"},y1={style:{color:"white","font-weight":"bold","font-size":"0.9rem"}},_1={style:{"font-weight":"600"}},x1={style:{"font-size":"0.85rem",color:"#94a3b8","margin-top":"2px"}},w1={style:{padding:"12px 8px"}},k1={style:{"font-weight":"500"}},C1={style:{"font-size":"0.85rem",color:"#ef4444","margin-top":"4px","font-style":"italic"}},S1={key:1,class:"pa-10 text-center text-grey"},D1=ae({__name:"CopilotMetricsDashboard",props:{metrics:{},seats:{},dateRangeDescription:{}},emits:["navigate-to-prompts"],setup(e,{emit:t}){we.register(ds,us,as,ns,rs,cs,ls,Js);const s=e;O(null),O(null);const i=O(!1),o=O(!1),n=O(null),a=O(!1),l=O(null),r=O(!1),d=O(null),f=O(!1),g=O(null),m=O(!1),v=O(null),y=O([]),x=O(!1),w=O([]),C=O(!1),M=O([]),T=O(!1),S=O([]),A=O(!1),z=O([]),F=O(!1),N=O([]),I=O(!1),B=O([]),V=O(!1),K=O([]),at=()=>{i.value=!i.value,localStorage.setItem("copilot-dashboard-theme",i.value?"dark":"light")};Ms(()=>{{const _=localStorage.getItem("copilot-dashboard-theme");i.value=_==="dark"}});const G=P(()=>s.seats.length===0?0:s.seats.length),J=P(()=>s.seats.length===0?0:s.seats.length);P(()=>G.value===0?0:Math.round(J.value/G.value*100)),P(()=>{if(s.metrics.length<2)return"--";const _=Math.floor(s.metrics.length/2),p=s.metrics.slice(0,_),b=s.metrics.slice(_),$=p.reduce((Ht,It)=>Ht+(It.total_active_users||0),0),X=b.reduce((Ht,It)=>Ht+(It.total_active_users||0),0),et=$/Math.max(1,p.length),bt=X/Math.max(1,b.length);if(et===0)return bt>0?" 100%":"--";const xt=(bt-et)/et*100;return`${xt>=0?"":""} ${Math.abs(Math.round(xt))}%`});const L=P(()=>U.value.nonUsers),q=P(()=>U.value.powerUsers+U.value.regularUsers+U.value.occasionalUsers),it=P(()=>{if(G.value===0)return 0;const _=U.value.powerUsers+U.value.regularUsers+U.value.occasionalUsers;return Math.round(_/G.value*100)}),ct=P(()=>{if(G.value===0)return 0;const _=U.value.nonUsers;return Math.round(_/G.value*100)}),Tt=P(()=>U.value.revokedLicenses),zt=P(()=>G.value===0?0:Math.round(Tt.value/G.value*100)),Ft=P(()=>{const _=G.value,p=q.value,b=it.value;return`This is the percentage of active licenses (${p}) out of the total licensed seats (${_}). Calculation: (${p} / ${_}) * 100 = ${b}%`}),Wt=P(()=>{const _=G.value,p=L.value,b=ct.value;return`This is the percentage of inactive (dormant) licenses (${p}) out of the total licensed seats (${_}). Calculation: (${p} / ${_}) * 100 = ${b}%`});P(()=>{const _=G.value,p=q.value,b=L.value;return`Out of ${_} licensed seats, ${p} are defined as active. Therefore, ${b} licenses are categorized as dormant (Inactive).`}),P(()=>{const _=gs.value,p=Es.value;return _===0?"No data available":`Out of ${_.toLocaleString()} suggestions made, ${p.toLocaleString()} were accepted. That's a ${$t.value}% acceptance rate.`}),P(()=>{const _=Os.value,p=Zs.value,b=s.metrics.length;return b===0?"No data available":`During this ${b}-day period, out of ${_.toLocaleString()} lines suggested by Copilot, developers accepted ${p.toLocaleString()} lines of code.`}),P(()=>{const _=gs.value,p=s.metrics.length;return p===0?"No data available":`Over ${p} days, Copilot made ${_.toLocaleString()} code suggestions to developers in your organization.`}),P(()=>{const _=Es.value,p=gs.value,b=s.metrics.length;if(b===0)return"No data available";const $=p>0?Math.round(_/p*100):0;return`Out of ${p.toLocaleString()} suggestions made over ${b} days, developers accepted ${_.toLocaleString()} (${$}% acceptance rate).`}),P(()=>{const _=Os.value,p=Zs.value;return _===0?"No data available":`If ${_.toLocaleString()} lines were suggested and ${p.toLocaleString()} were accepted, the rate is ${go.value}%.`}),P(()=>Ti.value===0?"No languages recorded":`Developers used Copilot in ${Ti.value} different programming languages like Python, JavaScript, TypeScript, etc.`),P(()=>{const _=Os.value,p=s.metrics.length;return p===0?"No data available":`During this ${p}-day period, Copilot suggested a total of ${_.toLocaleString()} lines of code across all developers.`}),P(()=>Ai.value===0?"No editors recorded":`Developers used Copilot across ${Ai.value} different code editors/IDEs.`);const $t=P(()=>{if(s.metrics.length===0)return 0;let _=0,p=0;return s.metrics.forEach(b=>{b.total_acceptances_count&&(_+=b.total_acceptances_count),b.total_suggestions_count&&(p+=b.total_suggestions_count)}),p===0?0:Math.min(100,Math.round(_/p*100))});P(()=>Zs.value.toLocaleString());const U=P(()=>{const _=G.value;if(_===0)return{powerUsers:0,regularUsers:0,occasionalUsers:0,nonUsers:0,pendingInvites:0,revokedLicenses:0,powerUsersList:[],regularUsersList:[],occasionalUsersList:[],nonUsersList:[],pendingInvitesList:[],revokedLicensesList:[]};const p=new Date,b=new Date(p.getTime()-10080*60*1e3),$=new Date(p.getTime()-14400*60*1e3),X=new Date(p.getTime()-336*60*60*1e3),et=s.seats.filter(Ct=>{const ke=Ct.plan_type&&Ct.plan_type.includes("Access will be removed on"),bo=Ct.pending_cancellation_date&&Ct.pending_cancellation_date!==null;return ke||bo}),bt=s.seats.filter(Ct=>Ct.plan_type&&Ct.plan_type.includes("Pending invite")),xt=s.seats.filter(Ct=>{const ke=Ct.plan_type&&Ct.plan_type.includes("Pending invite"),bo=Ct.plan_type&&Ct.plan_type.includes("Access will be removed on")||Ct.pending_cancellation_date&&Ct.pending_cancellation_date!==null;return!ke&&!bo}),Ht=xt.filter(Ct=>Ct.last_activity_at?new Date(Ct.last_activity_at)>=b:!1),It=xt.filter(Ct=>{if(!Ct.last_activity_at)return!1;const ke=new Date(Ct.last_activity_at);return ke>=$&&ke<b}),pe=xt.filter(Ct=>Ct.last_activity_at?new Date(Ct.last_activity_at)<X:!0),ue=Ht.length,ms=It.length,Oe=pe.length,Is=bt.length,Te=et.length,On=_-ue-ms-Oe-Is-Te,Ut=xt.filter(Ct=>{if(!Ct.last_activity_at)return!1;const ke=new Date(Ct.last_activity_at);return ke>=X&&ke<$});return{powerUsers:ue,regularUsers:ms,occasionalUsers:On,nonUsers:Oe,pendingInvites:Is,revokedLicenses:Te,powerUsersList:Ht,regularUsersList:It,occasionalUsersList:Ut,nonUsersList:pe,pendingInvitesList:bt,revokedLicensesList:et}}),lt=P(()=>{const _=G.value;return _>0?Math.round(U.value.powerUsers/_*100):0}),Pt=P(()=>{const _=G.value;return _>0?Math.round(U.value.regularUsers/_*100):0}),kt=P(()=>{const _=G.value;return _>0?Math.round(U.value.occasionalUsers/_*100):0}),pt=P(()=>{const _=G.value;return _>0?Math.round(U.value.nonUsers/_*100):0}),yt=P(()=>{const _=G.value;return _>0?Math.round(U.value.pendingInvites/_*100):0}),j=P(()=>{const _={};console.log("Processing metrics for chat models. Total metrics:",s.metrics.length),s.metrics.forEach(($,X)=>{$.copilot_ide_chat?.editors&&(console.log(`Metric ${X}: Found ${$.copilot_ide_chat.editors.length} IDE chat editors`),$.copilot_ide_chat.editors.forEach(et=>{et.models&&et.models.forEach(bt=>{const xt=bt.name||"default",Ht=bt.total_chats||0;console.log(`  Editor ${et.name}, Model ${xt}: ${Ht} chats`),_[xt]=(_[xt]||0)+Ht})})),$.copilot_dotcom_chat?.models&&$.copilot_dotcom_chat.models.forEach(et=>{const bt=et.name||"default",xt=et.total_chats||0;console.log(`  Dotcom Model ${bt}: ${xt} chats`),_[bt]=(_[bt]||0)+xt})}),console.log("Final Chat Model Counts:",_);let p="",b=0;return Object.entries(_).forEach(([$,X])=>{X>b&&(b=X,p=$)}),console.log("Most Used Model:",p,"Count:",b),p||null}),dt=P(()=>{if(!j.value)return 0;let _=0;return s.metrics.forEach(p=>{p.copilot_ide_chat?.editors&&p.copilot_ide_chat.editors.forEach(b=>{b.models&&b.models.forEach($=>{($.name||"default")===j.value&&(_+=$.total_chats||0)})}),p.copilot_dotcom_chat?.models&&p.copilot_dotcom_chat.models.forEach(b=>{(b.name||"default")===j.value&&(_+=b.total_chats||0)})}),_}),ut=P(()=>{let _=0;return s.metrics.forEach(p=>{p.copilot_ide_chat?.editors&&p.copilot_ide_chat.editors.forEach(b=>{b.models&&b.models.forEach($=>{_+=$.total_chats||0})}),p.copilot_dotcom_chat?.models&&p.copilot_dotcom_chat.models.forEach(b=>{_+=b.total_chats||0})}),_}),nt=P(()=>{if(!j.value)return"No chat data available";const _=j.value,p=dt.value;return`
 MOST USED CHAT MODEL
 Model: ${_}
 Total Chats: ${p.toLocaleString()}
 This is the most frequently used chat model across all editors and platforms in the current period
  `}),vt=P(()=>{const _=ut.value,p=s.metrics.length,b=p>0?Math.round(_/p):0;let $=`
 TOTAL CHAT REQUESTS
 Total Requests: ${_.toLocaleString()}
 Time period: ${p} days
 Average per day: ${b.toLocaleString()}

 BREAKDOWN BY EDITOR:`;return Kt.value&&Kt.value.length>0&&Kt.value.forEach(X=>{const et=_>0?Math.round(X.count/_*100):0;$+=`
 ${X.name}: ${X.count.toLocaleString()} (${et}%)`}),$}),Kt=P(()=>{const _={};return s.metrics.forEach(b=>{b.copilot_ide_chat?.editors&&b.copilot_ide_chat.editors.forEach($=>{const X=$.name||"unknown";$.models&&$.models.forEach(et=>{_[X]=(_[X]||0)+(et.total_chats||0)})})}),Object.entries(_).map(([b,$])=>({name:b,count:$})).sort((b,$)=>$.count-b.count)});P(()=>{if(!Kt.value||Kt.value.length===0)return"No chat data available";let _=` CHAT REQUESTS BY EDITOR
`;return Kt.value.forEach(p=>{_+=` ${p.name}: ${p.count.toLocaleString()} chats
`}),_+=` Total: ${ut.value.toLocaleString()} requests`,_}),P(()=>({labels:[`A: Power Users (${lt.value}%)`,`B: Regular Users (${Pt.value}%)`,`C: Occasional (${kt.value}%)`,`D: Non-Users (${pt.value}%)`],datasets:[{data:[U.value.powerUsers,U.value.regularUsers,U.value.occasionalUsers,U.value.nonUsers],backgroundColor:["#20b2aa","#0284c7","#06b6d4","#ef4444"],borderColor:i.value?"#1a1a1a":"#ffffff",borderWidth:2}]})),P(()=>({responsive:!0,maintainAspectRatio:!1,onClick:(_,p)=>{if(p.length>0){const b=p[0].index;Qs(b)}},plugins:{legend:{position:"bottom",labels:{color:i.value?"#e2e8f0":"#1e293b",font:{size:11,weight:"500"},padding:15,usePointStyle:!0,cursor:"pointer"}},tooltip:{backgroundColor:i.value?"#374151":"#f3f4f6",titleColor:i.value?"#f3f4f6":"#1f2937",bodyColor:i.value?"#e5e7eb":"#374151",borderColor:i.value?"#4b5563":"#d1d5db",borderWidth:1,padding:12,displayColors:!0,callbacks:{label:function(_){const p=_.parsed,b=U.value.powerUsers+U.value.regularUsers+U.value.occasionalUsers+U.value.nonUsers,$=b>0?Math.round(p/b*100):0;return`${p} users (${$}%)`}}}}}));const hs=P(()=>$t.value);P(()=>$t.value),P(()=>go.value),P(()=>go.value),P(()=>Math.min(Ti.value/8*100,100)),P(()=>Math.min(Ai.value/4*100,100));const fs=P(()=>{const _=new Map;return s.metrics.forEach(p=>{p.breakdown.forEach(b=>{if(b.language){const $=_.get(b.language)||{count:0,accepted:0};$.count+=b.suggestions_count,$.accepted+=b.acceptances_count,_.set(b.language,$)}})}),Array.from(_.entries()).map(([p,b])=>({name:p,rate:b.count>0?Math.min(100,Math.round(b.accepted/b.count*100)):0})).sort((p,b)=>b.rate-p.rate).slice(0,5)}),ps=P(()=>{const _=new Map;s.metrics.forEach(b=>{b.breakdown.forEach($=>{$.editor&&_.set($.editor,(_.get($.editor)||0)+$.active_users)})});const p=Array.from(_.values()).reduce((b,$)=>b+$,0);return Array.from(_.entries()).map(([b,$])=>({name:b,count:$,percent:p>0?Math.round($/p*100):0})).sort((b,$)=>$.count-b.count)}),Qt=P(()=>{const _=G.value,p=s.metrics.length;return`
 FORMULA: Total seats assigned to organization
 Your data: ${_} licenses assigned
 Time period: ${p} days of data
 Source: Actual seat assignment data from GitHub
  `}),Dn=P(()=>{const _=U.value.powerUsers,p=U.value.regularUsers,b=U.value.occasionalUsers,$=_+p+b,X=G.value,et=X>0?Math.round($/X*100):0;return`
 FORMULA: Active Licenses = Power Users + Regular Users + Occasional
 Power Users: ${_}
 Regular Users: ${p}
 Occasional: ${b}
 Total Active Licenses: ${$}
 Utilization: ${et}% of ${X} licenses
  `}),Tn=P(()=>{let _=0,p=0;s.metrics.forEach($=>{_+=$.total_acceptances_count||0,p+=$.total_suggestions_count||0});const b=$t.value;return`
 FORMULA: (Total acceptances  Total suggestions)  100
 Calculation: ${_.toLocaleString()} accepted  ${p.toLocaleString()} suggested = ${b}%
 Accepted: ${_.toLocaleString()} suggestions
 Total: ${p.toLocaleString()} suggestions
  `}),An=P(()=>{const _=gs.value,p=s.metrics.length,b=p>0?Math.round(_/p):0;return`
 FORMULA: SUM(daily suggestions across all developers)
 Total suggestions: ${_.toLocaleString()}
 Time period: ${p} days
 Average per day: ${b.toLocaleString()}
 This includes all prompts Copilot suggested
  `}),Mn=P(()=>{const _=Es.value,p=s.metrics.length,b=p>0?Math.round(_/p):0;return`
 FORMULA: SUM(daily acceptances across all developers)
 Total accepted: ${_.toLocaleString()}
 Time period: ${p} days
 Average per day: ${b.toLocaleString()}
 How many suggestions were actually used by developers
  `});P(()=>{const _=Os.value,p=s.metrics.length,b=p>0?Math.round(_/p):0;return`
 FORMULA: SUM(daily lines suggested across all developers)
 Total lines: ${_.toLocaleString()}
 Time period: ${p} days
 Average per day: ${b.toLocaleString()} lines
 Cumulative lines of code that Copilot suggested
  `}),P(()=>{const _=Zs.value,p=Os.value,b=s.metrics.length,$=b>0?Math.round(_/b):0,X=p>0?Math.round(_/p*100):0;return`
 FORMULA: SUM(daily accepted lines) 
 Total accepted: ${_.toLocaleString()} lines
 Time period: ${b} days
 Average per day: ${$.toLocaleString()} lines
 Acceptance rate: ${X}% of suggested lines
  `});const Pn=P(()=>{const _=G.value,p=J.value,b=L.value,$=_>0?Math.round(b/_*100):0;return`
 FORMULA: Total licenses - Active licenses
 Calculation: ${_} total - ${p} active = ${b}
 Dormant licenses: ${b} (${$}%)
 These licenses are assigned but not being actively used
  `});P(()=>{const _=G.value,p=Tt.value,b=zt.value;return`
 FORMULA: Count of users with revoked_date OR pending_cancellation_date from API
 Total licensed: ${_}
 Users with revoked licenses: ${p}
 Revoked percentage: ${b}%
 These licenses have been revoked (either revoked_date or pending_cancellation_date is set)
  `}),P(()=>{const _=Ti.value;return`
 FORMULA: COUNT(unique programming languages used)
 Unique languages: ${_}
 Developers used Copilot in ${_} different languages
 Examples: Python, JavaScript, TypeScript, Java, Go, Rust, etc.
  `}),P(()=>{const _=Ai.value;return`
 FORMULA: COUNT(unique code editors/IDEs used)
 Unique editors: ${_}
 Developers used Copilot in ${_} different editors
 Examples: VS Code, JetBrains IDEs, Vim, Neovim, etc.
  `}),P(()=>`
 STATISTICS:
 Count: ${U.value.powerUsers} Developers
 Percentage: ${lt.value}% of total pool

 WHO ARE THEY?
These are your top performers who accept more than 30% of Copilot's suggestions. They are highly efficient and use AI for complex coding.
  `),P(()=>`
 STATISTICS:
 Count: ${U.value.regularUsers} Developers
 Percentage: ${Pt.value}% of total pool

 WHO ARE THEY?
These developers consistently use Copilot in their daily work, with an acceptance rate between 20% and 29%.
  `),P(()=>`
 STATISTICS:
 Count: ${U.value.occasionalUsers} Developers
 Percentage: ${kt.value}% of total pool

 WHO ARE THEY?
These users interact with Copilot sporadically. They accept between 10% and 19% of suggestions, mostly for simple code.
  `),P(()=>{const _=new Date(new Date().getTime()-12096e5).toLocaleDateString();return`
 STATISTICS:
 Count: ${U.value.nonUsers} Developers
 Percentage: ${pt.value}% of total pool

 WHO ARE THEY?
These users have not used GitHub Copilot since ${_} (last 2 weeks). They either have no activity history or their last activity was older than 2 weeks. These users need engagement and adoption efforts.
  `});const Ti=P(()=>{const _=new Set;return s.metrics.forEach(p=>{p.breakdown.forEach(b=>{b.language&&_.add(b.language)})}),_.size}),Ai=P(()=>{const _=new Set;return s.metrics.forEach(p=>{p.breakdown.forEach(b=>{b.editor&&_.add(b.editor)})}),_.size}),gs=P(()=>s.metrics.reduce((_,p)=>_+(p.total_suggestions_count||0),0)),Es=P(()=>s.metrics.reduce((_,p)=>_+(p.total_acceptances_count||0),0)),Os=P(()=>s.metrics.reduce((_,p)=>_+(p.total_lines_suggested||0),0)),go=P(()=>{const _=Os.value,p=Zs.value;return _===0?0:Math.round(p/_*100)});P(()=>s.metrics.reduce((_,p)=>_+(p.total_suggestions_count||0),0)),P(()=>s.metrics.reduce((_,p)=>_+(p.total_acceptances_count||0),0)),P(()=>s.metrics.reduce((_,p)=>_+(p.total_lines_suggested||0),0));const Zs=P(()=>s.metrics.reduce((_,p)=>_+(p.total_lines_accepted||0),0));P(()=>{const _=new Map,p=Math.floor(s.metrics.length/2);return s.metrics.forEach((b,$)=>{b.breakdown.forEach(X=>{if(X.language){const et=_.get(X.language)||{licensed:0,active:0,suggestions:0,acceptances:0,linesAccepted:0,firstHalfAcceptances:0,firstHalfSuggestions:0,secondHalfAcceptances:0,secondHalfSuggestions:0};et.active=Math.max(et.active,X.active_users),et.licensed=Math.max(et.licensed,Math.round(X.active_users/.7)),et.suggestions+=X.suggestions_count||0,et.acceptances+=X.acceptances_count||0,et.linesAccepted+=X.lines_accepted||0,$<p?(et.firstHalfSuggestions+=X.suggestions_count||0,et.firstHalfAcceptances+=X.acceptances_count||0):(et.secondHalfSuggestions+=X.suggestions_count||0,et.secondHalfAcceptances+=X.acceptances_count||0),_.set(X.language,et)}})}),Array.from(_.entries()).sort((b,$)=>$[1].active-b[1].active).slice(0,6).map(([b,$])=>{const X=$.suggestions>0?Math.round($.acceptances/$.suggestions*100):0,et=$.firstHalfSuggestions>0?$.firstHalfAcceptances/$.firstHalfSuggestions:0,bt=$.secondHalfSuggestions>0?$.secondHalfAcceptances/$.secondHalfSuggestions:0,xt=bt>0&&et>0?Math.round((bt-et)/et*100):0;return{name:b.charAt(0).toUpperCase()+b.slice(1)+" Team",licensed:$.licensed,active:$.active,activePercent:$.licensed>0?Math.round($.active/$.licensed*100):0,acceptanceRate:X,linesPerWeek:$.linesAccepted,trend:(xt>=0?"+":"")+xt+"%"}})});const Rn=P(()=>{if(s.metrics.length===0)return null;const _=s.metrics,p=_.map($=>new Date($.day).toLocaleDateString("en-US",{month:"short",day:"numeric"})),b=_.map($=>$.total_suggestions_count===0?0:Math.round($.total_acceptances_count/$.total_suggestions_count*100*100)/100);return{labels:p,datasets:[{label:"Acceptance Rate (%)",data:b,borderColor:"#20b2aa",backgroundColor:"rgba(32, 178, 170, 0.1)",tension:.4,fill:!0,pointRadius:6,pointBackgroundColor:"#20b2aa",pointBorderColor:"#fff",pointBorderWidth:2}]}}),_t=P(()=>{if(s.metrics.length===0)return{weeks:[],improvement:0,targetAchieved:!1};const _=s.metrics.length,p=Math.ceil(_/7),b=Math.max(1,Math.min(p,8)),$=[];for(let bt=0;bt<b;bt++){const xt=bt*7,Ht=Math.min((bt+1)*7,s.metrics.length);if(xt>=s.metrics.length)break;const It=s.metrics.slice(xt,Ht);let pe=0,ue=0;It.forEach(Te=>{pe+=Te.total_acceptances_count||0,ue+=Te.total_suggestions_count||0});const ms=ue>0?Math.round(pe/ue*100):0,Oe=It[0]?.day||"",Is=It[It.length-1]?.day||"";$.push({number:bt+1,rate:ms,prompts:ue,accepted:pe,startDate:Oe,endDate:Is})}const X=$.length>1?($[$.length-1]?.rate??0)-($[0]?.rate??0):0,et=$.length>0&&($[$.length-1]?.rate??0)>=30;return{weeks:$,improvement:X,targetAchieved:et}}),zs=_=>_?new Date(_).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"",Nr=P(()=>({labels:_t.value.weeks.map(_=>(zs(_.startDate),zs(_.endDate),`Week ${_.number}`)),datasets:[{label:"Acceptance Rate %",data:_t.value.weeks.map(_=>_.rate),borderColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",borderWidth:3,fill:!0,tension:.4,pointRadius:6,pointBackgroundColor:"#3b82f6",pointBorderColor:"#ffffff",pointBorderWidth:2,pointHoverRadius:8}]})),Wr=P(()=>({responsive:!0,maintainAspectRatio:!1,onClick:(_,p)=>{p.length>0&&Ln(_)},plugins:{legend:{display:!1},tooltip:{backgroundColor:i.value?"#1a1f2e":"#ffffff",borderColor:"#3b82f6",borderWidth:2,padding:12,titleFont:{size:13,weight:"bold"},bodyFont:{size:12},titleColor:i.value?"#60a5fa":"#1e40af",bodyColor:i.value?"#cbd5e1":"#334155",callbacks:{title:function(_){const p=_[0]?.dataIndex,b=_t.value.weeks[p];if(!b)return"Week";const $=zs(b.startDate),X=zs(b.endDate);return`Week ${b.number}: ${$} - ${X}`},label:function(_){const p=_.dataIndex,b=_t.value.weeks[p];return b?["Rate: "+_.parsed.y+"%","Accepted: "+b.accepted.toLocaleString(),"Total: "+b.prompts.toLocaleString()]:[]}}}},scales:{y:{beginAtZero:!0,max:100,grid:{color:i.value?"rgba(51, 65, 85, 0.2)":"rgba(0, 0, 0, 0.05)",drawBorder:!1},ticks:{color:i.value?"#94a3b8":"#64748b",callback:function(_){return _+"%"}}},x:{grid:{display:!1,drawBorder:!1},ticks:{color:i.value?"#94a3b8":"#64748b"}}}})),mo=P(()=>{if(_t.value.weeks.length===0)return 0;const _=_t.value.weeks.reduce((p,b)=>p+b.rate,0);return Math.round(_/_t.value.weeks.length)}),Mi=P(()=>{const _=_t.value.weeks.reduce((b,$)=>b+$.prompts,0),p=_t.value.weeks.reduce((b,$)=>b+$.accepted,0);return{totalPrompts:_,totalAccepted:p}}),vo=P(()=>{if(_t.value.weeks.length===0)return 0;const _=_t.value.weeks.reduce((p,b)=>p+b.prompts,0);return Math.round(_/_t.value.weeks.length)}),jr=P(()=>({labels:_t.value.weeks.map(_=>`Week ${_.number}`),datasets:[{label:"Prompts",data:_t.value.weeks.map(_=>_.prompts),borderColor:"#10b981",backgroundColor:"rgba(16, 185, 129, 0.1)",borderWidth:3,fill:!0,tension:.4,pointRadius:6,pointBackgroundColor:"#10b981",pointBorderColor:"#ffffff",pointBorderWidth:2,pointHoverRadius:8},{label:"Accepted",data:_t.value.weeks.map(_=>_.accepted),borderColor:"#f59e0b",backgroundColor:"rgba(245, 158, 11, 0.1)",borderWidth:3,fill:!0,tension:.4,pointRadius:6,pointBackgroundColor:"#f59e0b",pointBorderColor:"#ffffff",pointBorderWidth:2,pointHoverRadius:8}]})),Gr=P(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top",labels:{color:i.value?"#cbd5e1":"#334155",font:{size:12},padding:10,usePointStyle:!0}},tooltip:{backgroundColor:i.value?"#1a1f2e":"#ffffff",borderColor:"#10b981",borderWidth:2,padding:12,titleFont:{size:13,weight:"bold"},bodyFont:{size:12},titleColor:i.value?"#60a5fa":"#1e40af",bodyColor:i.value?"#cbd5e1":"#334155",callbacks:{title:function(_){const p=_[0]?.dataIndex,b=_t.value.weeks[p];if(!b)return"Week";const $=zs(b.startDate),X=zs(b.endDate);return`Week ${b.number}: ${$} - ${X}`},afterTitle:function(_){if(_.length>0){const p=_[0].dataIndex,b=_t.value.weeks[p];return b?"Acceptance Rate: "+b.rate+"%":""}return""},label:function(_){return _.dataset.label+": "+_.parsed.y.toLocaleString()}}}},scales:{y:{beginAtZero:!0,grid:{color:i.value?"rgba(51, 65, 85, 0.2)":"rgba(0, 0, 0, 0.05)",drawBorder:!1},ticks:{color:i.value?"#94a3b8":"#64748b",callback:function(_){return _.toLocaleString()}}},x:{grid:{display:!1,drawBorder:!1},ticks:{color:i.value?"#94a3b8":"#64748b"}}}})),Yr=P(()=>{const _=Mi.value.totalPrompts,p=Mi.value.totalAccepted,b=vo.value,$=_t.value.weeks.length;return`
 Weekly Prompts Breakdown
 Total Prompts: ${_.toLocaleString()}
 Total Accepted: ${p.toLocaleString()}
 Average per week: ${b.toLocaleString()} prompts
 Time period: ${$} weeks
  `}),qr=P(()=>{const _=mo.value,p=_t.value.improvement,b=_t.value.weeks.length;return`
 Weekly Acceptance Rate
 Average Rate: ${_}%
 Improvement: ${p>0?"+":""}${p}%
 Time period: ${b} weeks
 Shows acceptance trend across weeks
  `});P(()=>({responsive:!0,maintainAspectRatio:!0,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12,titleFont:{size:14},bodyFont:{size:12}}},scales:{y:{beginAtZero:!0,max:50,ticks:{callback:function(_){return _+"%"}}}}}));const Xr=P(()=>({responsive:!0,maintainAspectRatio:!0,plugins:{legend:{display:!1},tooltip:{backgroundColor:i.value?"#1a1f2e":"#ffffff",borderColor:"#20b2aa",borderWidth:2,padding:12,titleFont:{size:13,weight:"bold"},bodyFont:{size:12},titleColor:i.value?"#60a5fa":"#1e40af",bodyColor:i.value?"#cbd5e1":"#334155",callbacks:{label:function(_){const p=_.dataIndex,b=s.metrics[p];if(!b)return[];const $=b.total_acceptances_count||0,X=b.total_suggestions_count||0;return["Rate: "+_.parsed.y+"%","Accepted: "+$.toLocaleString(),"Total: "+X.toLocaleString()]}}}},scales:{y:{beginAtZero:!0,grid:{color:i.value?"rgba(51, 65, 85, 0.2)":"rgba(0, 0, 0, 0.05)",drawBorder:!1},ticks:{color:i.value?"#94a3b8":"#64748b",callback:function(_){return _+"%"}}},x:{grid:{display:!1,drawBorder:!1},ticks:{color:i.value?"#94a3b8":"#64748b"}}},onClick:(_,p)=>{if(p&&p.length>0){const b=p[0].index;b!=null&&Kr(b)}}})),Kr=_=>{if(console.log("Chart point clicked, index:",_),_<0||_>=s.metrics.length){console.warn("Index out of range:",_,"metrics length:",s.metrics.length);return}const p=s.metrics[_];if(!p){console.warn("Metric not found at index:",_);return}console.log("Selected metric:",p);const $=new Date(p.day).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),X=p.total_suggestions_count===0?0:Math.round(p.total_acceptances_count/p.total_suggestions_count*100*100)/100;n.value={date:$,rate:X,acceptances:p.total_acceptances_count||0,suggestions:p.total_suggestions_count||0,activeUsers:p.total_active_users||0},console.log("Modal should show now:",n.value),o.value=!0},Jr=()=>{},Zr=t,fe=(_,p,b,$)=>{Zr("navigate-to-prompts")},Qr=()=>{w.value=U.value.nonUsersList.map(_=>({..._,lastActivityFormatted:_.last_activity_at?new Date(_.last_activity_at).toLocaleDateString():"Never"})),x.value=!0},tc=()=>{M.value=U.value.powerUsersList.map(_=>({..._,lastActivityFormatted:_.last_activity_at?new Date(_.last_activity_at).toLocaleDateString():"Never",timeSinceActivity:Pi(_.last_activity_at)})),C.value=!0},ec=()=>{S.value=U.value.regularUsersList.map(_=>({..._,lastActivityFormatted:_.last_activity_at?new Date(_.last_activity_at).toLocaleDateString():"Never",timeSinceActivity:Pi(_.last_activity_at)})),T.value=!0},sc=()=>{z.value=U.value.occasionalUsersList.map(_=>({..._,lastActivityFormatted:_.last_activity_at?new Date(_.last_activity_at).toLocaleDateString():"Never",timeSinceActivity:Pi(_.last_activity_at)})),A.value=!0},ic=()=>{N.value=U.value.nonUsersList.map(_=>({..._,lastActivityFormatted:_.last_activity_at?new Date(_.last_activity_at).toLocaleDateString():"Never",timeSinceActivity:Pi(_.last_activity_at)})),F.value=!0},Pi=_=>{if(!_)return"Never used";const p=new Date;p.setHours(0,0,0,0);const b=new Date(_);b.setHours(0,0,0,0);const $=p.getTime()-b.getTime(),X=Math.floor($/(1e3*60*60*24)),et=Math.floor(X/30),bt=X%30,xt=Math.floor(bt/7),Ht=bt%7,It=[];return et>0&&It.push(et===1?"1 month":`${et} months`),xt>0&&It.push(xt===1?"1 week":`${xt} weeks`),(Ht>0||It.length===0)&&It.push(Ht===1?"1 day":`${Ht} days`),It.join(" ")},oc=()=>{B.value=U.value.pendingInvitesList.map(_=>({..._,activationDate:_.pending_invite_date||_.created_at,activationFormatted:_.pending_invite_date?new Date(_.pending_invite_date).toLocaleDateString():new Date(_.created_at).toLocaleDateString()})),I.value=!0},$n=()=>{K.value=U.value.revokedLicensesList.map(_=>({..._,revokeDate:_.revoked_date||_.pending_cancellation_date||"-",revokeDateFormatted:_.revoked_date||_.pending_cancellation_date?new Date(_.revoked_date||_.pending_cancellation_date||"").toLocaleDateString():"-"})),V.value=!0},Ln=_=>{const p=window.Chart?.instances?.[0];if(!p)return;const b=we.helpers.getRelativePosition(_,p),$=p.scales.x.getValueForPixel(b.x);p.scales.y.getValueForPixel(b.y);const X=Math.round($);if(X>=0&&X<_t.value.weeks.length){const et=_t.value.weeks[X];if(!et)return;const bt=Math.ceil(s.metrics.length/4),xt=X*bt,Ht=Math.min((X+1)*bt,s.metrics.length),It=s.metrics.slice(xt,Ht);let pe=0,ue=0;It.forEach(Oe=>{pe+=Oe.total_acceptances_count||0,ue+=Oe.total_suggestions_count||0});const ms=` FORMULA: Acceptance Rate = (Accepted / Total Suggestions)  100%

 Total Acceptances: ${pe.toLocaleString()}
 Total Suggestions: ${ue.toLocaleString()}
 Time period: ${Ht-xt} days

 Calculation: (${pe}  ${ue})  100 = ${et.rate}%

 This rate tells you what percentage of Copilot suggestions developers actually used in Week ${et.number}.`;d.value={title:`Week ${et.number} - ${et.rate}% Acceptance Rate`,value:et.rate,description:`Percentage of Copilot suggestions developers accepted during Week ${et.number}`,explanation:ms},r.value=!0}},Qs=_=>{const p=G.value,b=[{title:"A: Power Users",count:U.value.powerUsers,percentage:lt.value,color:"#20b2aa",users:U.value.powerUsersList,description:"Users actively using Copilot daily or within the last 7 days.",calculation:`Count = Users with last activity within 7 days
= ${U.value.powerUsers} Power Users`,explanation:"These are your most engaged developers using Copilot daily or almost daily (within the last 7 days). They actively rely on Copilot for their development work.",logicNote:"Power Users Definition: Users who have used Copilot within the last 7 days (0-7 days ago). This shows consistent daily or near-daily engagement with Copilot."},{title:"B: Regular Users",count:U.value.regularUsers,percentage:Pt.value,color:"#0284c7",users:U.value.regularUsersList,description:"Users with consistent activity between 1 week and 1 week 6 days ago.",calculation:`Count = Users with last activity between 7-13 days ago
= ${U.value.regularUsers} Regular Users`,explanation:"These developers actively use Copilot but with slightly less frequency than Power Users. Their last activity was within the past 2 weeks but more than 7 days ago.",logicNote:"Regular Users Definition: Users who have used Copilot within 7-13 days ago (1 week to 1 week 6 days). This shows consistent weekly engagement."},{title:"C: Occasional Users",count:U.value.occasionalUsers,percentage:kt.value,color:"#06b6d4",users:U.value.occasionalUsersList,description:"Users with sporadic activity within the last 2 weeks.",calculation:`Count = Active Users not in Power or Regular categories
= ${U.value.powerUsers} + ${U.value.regularUsers} + ${U.value.occasionalUsers} = Total Active
= ${U.value.occasionalUsers} Occasional Users`,explanation:"These users have some activity within the 2-week window but less frequently than regular or power users. They use Copilot sporadically.",logicNote:"Occasional Users Definition: Active users who don't fit the Power or Regular categories but have been active sometime in the last 2 weeks."},{title:"D: Non-Users",count:U.value.nonUsers,percentage:pt.value,color:"#ef4444",users:U.value.nonUsersList,description:"Licensed users with no activity for 2 weeks or more (14+ days).",calculation:`Count = Total Licensed - Active Users
= ${p} - (${U.value.powerUsers} + ${U.value.regularUsers} + ${U.value.occasionalUsers})
= ${U.value.nonUsers} users`,explanation:"These licensed users have not used Copilot for the last 2 weeks or longer, indicating they are currently inactive.",logicNote:"Inactive Users Definition: Users with no activity recorded in the last 14 days or never used Copilot. These licenses are assigned but not being actively utilized."}];_>=0&&_<b.length&&(g.value=b[_]||null,f.value=!0)},En=_=>_>=90?"#10b981":_>=75?"#06b6d4":_>=50?"#3b82f6":_>=30?"#f59e0b":_>=10?"#ef4444":"#6b7280",nc=async()=>{try{const _=(await uc(async()=>{const{default:Ut}=await import("./CEyUmAEz.js").then(Ct=>Ct.h);return{default:Ut}},__vite__mapDeps([0,1]),import.meta.url)).default,p=new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});if(!s.metrics||s.metrics.length===0){alert("No metric data available for export");return}const b=G.value||0,$=J.value||0,X=it.value||0,et=L.value||0,bt=ct.value||0,xt=gs.value||0,Ht=Es.value||0,It=$t.value||0,pe=fs.value||[],ue=ps.value||[],Oe=`
      <div style="font-family: sans-serif; padding: 40px; color: #1e293b; background: white;">
        <!-- Header -->
        <div style="border-bottom: 3px solid #7c3aed; padding-bottom: 20px; margin-bottom: 30px; display: flex; justify-content: space-between; align-items: center;">
          <div>
            <h1 style="margin:0; color:#1e293b; font-size: 28px; font-weight: 800; letter-spacing: -0.5px;">GITHUB COPILOT</h1>
            <h2 style="margin:4px 0 0 0; color:#7c3aed; font-size: 18px; font-weight: 600;">Automated Usage & Analytics Report</h2>
            <div style="margin-top: 8px; display: inline-block; background: #f1f5f9; padding: 4px 12px; border-radius: 20px; font-size: 12px; font-weight: 700; color: #475569;">
              Period: ${s.dateRangeDescription||"Custom Range"}
            </div>
          </div>
          <div style="text-align: right;">
            <p style="margin:0; font-size: 10px; color: #64748b; font-weight: 700; text-transform: uppercase;">Generated On</p>
            <p style="margin:2px 0 0 0; font-size: 14px; font-weight: bold; color: #1e293b;">${p}</p>
          </div>
        </div>

        <!-- Executive Summary Cards -->
        <h3 style="border-left: 5px solid #1e293b; padding-left: 12px; margin-bottom: 20px; color: #1e293b; font-size: 18px;">Executive Summary</h3>
        <table style="width: 100%; margin-bottom: 40px; border-spacing: 12px; border-collapse: separate;">
          <tr>
            <td style="background: #f8fafc; padding: 15px; border-radius: 12px; border: 1px solid #e2e8f0; width: 33%;">
              <div style="font-size: 10px; color: #64748b; font-weight: 800; text-transform: uppercase; margin-bottom: 8px;">Licensing Overview</div>
              <table style="width: 100%; font-size: 12px;">
                <tr><td style="padding: 2px 0; color: #475569;">Total Licensed:</td><td style="text-align: right; font-weight: 800;">${b}</td></tr>
                <tr><td style="padding: 2px 0; color: #475569;">Active Licenses:</td><td style="text-align: right; font-weight: 800; color: #10b981;">${$}</td></tr>
                <tr><td style="padding: 2px 0; color: #475569;">Active Rate:</td><td style="text-align: right; font-weight: 800; color: #10b981;">${X}%</td></tr>
              </table>
            </td>
            <td style="background: #f8fafc; padding: 15px; border-radius: 12px; border: 1px solid #e2e8f0; width: 33%;">
              <div style="font-size: 10px; color: #64748b; font-weight: 800; text-transform: uppercase; margin-bottom: 8px;">Inactive Profile</div>
              <table style="width: 100%; font-size: 12px;">
                <tr><td style="padding: 2px 0; color: #475569;">Inactive Users:</td><td style="text-align: right; font-weight: 800; color: #ef4444;">${et}</td></tr>
                <tr><td style="padding: 2px 0; color: #475569;">Inactive Rate:</td><td style="text-align: right; font-weight: 800; color: #ef4444;">${bt}%</td></tr>
                <tr><td style="padding: 2px 0; color: #475569;">Dormant Potential:</td><td style="text-align: right; font-weight: 800;">${et} seats</td></tr>
              </table>
            </td>
            <td style="background: #f8fafc; padding: 15px; border-radius: 12px; border: 1px solid #e2e8f0; width: 33%;">
              <div style="font-size: 10px; color: #64748b; font-weight: 800; text-transform: uppercase; margin-bottom: 8px;">Engagement Metrics</div>
              <table style="width: 100%; font-size: 12px;">
                <tr><td style="padding: 2px 0; color: #475569;">Total Prompts:</td><td style="text-align: right; font-weight: 800;">${xt.toLocaleString()}</td></tr>
                <tr><td style="padding: 2px 0; color: #475569;">Accepted Prompts:</td><td style="text-align: right; font-weight: 800; color: #3b82f6;">${Ht.toLocaleString()}</td></tr>
                <tr><td style="padding: 2px 0; color: #475569;">Acceptance Rate:</td><td style="text-align: right; font-weight: 800; color: #3b82f6;">${It}%</td></tr>
              </table>
            </td>
          </tr>
        </table>

        <!-- Licensing Table -->
        <h3 style="border-left: 5px solid #7c3aed; padding-left: 12px; margin-bottom: 20px; color: #1e293b; font-size: 18px;">Organization License Audit</h3>
        <table style="width: 100%; border-collapse: collapse; margin-bottom: 40px; background: white; border-radius: 8px; overflow: hidden; border: 1px solid #e2e8f0;">
          <tr style="background: #f1f5f9;">
            <th style="padding: 12px 15px; border-bottom: 2px solid #e2e8f0; text-align: left; font-size: 11px; text-transform: uppercase; color: #475569;">Category</th>
            <th style="padding: 12px 15px; border-bottom: 2px solid #e2e8f0; text-align: right; font-size: 11px; text-transform: uppercase; color: #475569;">Member Count</th>
            <th style="padding: 12px 15px; border-bottom: 2px solid #e2e8f0; text-align: right; font-size: 11px; text-transform: uppercase; color: #475569;">Percentage</th>
          </tr>
          <tr>
            <td style="padding: 12px 15px; border-bottom: 1px solid #f1f5f9; font-weight: 600;">Total Allocated Seats</td>
            <td style="padding: 12px 15px; border-bottom: 1px solid #f1f5f9; text-align: right; font-weight: bold;">${b}</td>
            <td style="padding: 12px 15px; border-bottom: 1px solid #f1f5f9; text-align: right; color: #64748b;">100%</td>
          </tr>
          <tr>
            <td style="padding: 12px 15px; border-bottom: 1px solid #f1f5f9; font-weight: 600;">Active Licenses (Confirmed)</td>
            <td style="padding: 12px 15px; border-bottom: 1px solid #f1f5f9; text-align: right; font-weight: bold; color: #10b981;">${$}</td>
            <td style="padding: 12px 15px; border-bottom: 1px solid #f1f5f9; text-align: right; color: #10b981; font-weight: bold;">${X}%</td>
          </tr>
          <tr>
            <td style="padding: 12px 15px; border-bottom: 1px solid #f1f5f9; font-weight: 600;">Dormant / Unused Licenses</td>
            <td style="padding: 12px 15px; border-bottom: 1px solid #f1f5f9; text-align: right; font-weight: bold; color: #ef4444;">${et}</td>
            <td style="padding: 12px 15px; border-bottom: 1px solid #f1f5f9; text-align: right; color: #ef4444; font-weight: bold;">${bt}%</td>
          </tr>
        </table>

        <!-- User Segments -->
        <h3 style="border-left: 5px solid #10b981; padding-left: 12px; margin-bottom: 20px; color: #1e293b; font-size: 18px;">Productivity Segment Breakdown</h3>
        <table style="width: 100%; border-collapse: collapse; margin-bottom: 40px; border: 1px solid #e2e8f0; border-radius: 8px; overflow: hidden;">
          <tr style="background: #ecfdf5;">
            <th style="padding: 12px 15px; border-bottom: 2px solid #d1fae5; text-align: left; font-size: 11px; text-transform: uppercase; color: #065f46;">Segment</th>
            <th style="padding: 12px 15px; border-bottom: 2px solid #d1fae5; text-align: right; font-size: 11px; text-transform: uppercase; color: #065f46;">User Count</th>
            <th style="padding: 12px 15px; border-bottom: 2px solid #d1fae5; text-align: left; font-size: 11px; text-transform: uppercase; color: #065f46;">Status Profile</th>
          </tr>
          <tr>
            <td style="padding: 12px 15px; border-bottom: 1px dotted #e2e8f0; font-weight: 700; color: #0d9488;">Power Users</td>
            <td style="padding: 12px 15px; border-bottom: 1px dotted #e2e8f0; text-align: right; font-weight: 800; color: #0d9488;">${U.value?.powerUsers||0}</td>
            <td style="padding: 12px 15px; border-bottom: 1px dotted #e2e8f0; font-size: 12px; color: #64748b;">Highly Active; >30% Acceptance</td>
          </tr>
          <tr>
            <td style="padding: 12px 15px; border-bottom: 1px dotted #e2e8f0; font-weight: 700; color: #0369a1;">Regular Users</td>
            <td style="padding: 12px 15px; border-bottom: 1px dotted #e2e8f0; text-align: right; font-weight: 800; color: #0369a1;">${U.value?.regularUsers||0}</td>
            <td style="padding: 12px 15px; border-bottom: 1px dotted #e2e8f0; font-size: 12px; color: #64748b;">Consistent usage; 20-29% Acceptance</td>
          </tr>
          <tr>
            <td style="padding: 12px 15px; border-bottom: 1px dotted #e2e8f0; font-weight: 700; color: #0e7490;">Occasional</td>
            <td style="padding: 12px 15px; border-bottom: 1px dotted #e2e8f0; text-align: right; font-weight: 800; color: #0e7490;">${U.value?.occasionalUsers||0}</td>
            <td style="padding: 12px 15px; border-bottom: 1px dotted #e2e8f0; font-size: 12px; color: #64748b;">Sporadic usage; 10-19% Acceptance</td>
          </tr>
          <tr>
            <td style="padding: 12px 15px; border-bottom: 1px dotted #e2e8f0; font-weight: 700; color: #ef4444;">Non-Users</td>
            <td style="padding: 12px 15px; border-bottom: 1px dotted #e2e8f0; text-align: right; font-weight: 800; color: #ef4444;">${U.value?.nonUsers||0}</td>
            <td style="padding: 12px 15px; border-bottom: 1px dotted #e2e8f0; font-size: 12px; color: #64748b;">No shared activity in this range</td>
          </tr>
        </table>

        <div style="page-break-before: always;"></div>

        <!-- Technology Breakdown -->
        <h3 style="border-left: 5px solid #3b82f6; padding-left: 12px; margin-bottom: 20px; color: #1e293b; font-size: 18px;">Technology & IDE Adoption</h3>
        <table style="width: 100%; border-collapse: collapse; margin-bottom: 40px; border-spacing: 20px; border-collapse: separate; margin-left: -20px;">
          <tr>
            <td style="width: 50%; vertical-align: top;">
              <div style="background: #f8fafc; padding: 15px; border-radius: 8px; border: 1px solid #e2e8f0;">
                <h4 style="margin: 0 0 10px 0; font-size: 12px; color: #3b82f6; text-transform: uppercase;">Top Languages</h4>
                <table style="width: 100%; font-size: 11px;">
                  ${pe.map(Ut=>`
                    <tr>
                      <td style="padding: 5px 0; font-weight: 600;">${Ut.name}</td>
                      <td style="padding: 5px 0; text-align: right; color: #3b82f6; font-weight: bold;">${Ut.rate}% Success</td>
                    </tr>
                  `).join("")}
                </table>
              </div>
            </td>
            <td style="width: 50%; vertical-align: top;">
               <div style="background: #f8fafc; padding: 15px; border-radius: 8px; border: 1px solid #e2e8f0;">
                <h4 style="margin: 0 0 10px 0; font-size: 12px; color: #06b6d4; text-transform: uppercase;">Editor Preferences</h4>
                <table style="width: 100%; font-size: 11px;">
                  ${ue.map(Ut=>`
                    <tr>
                      <td style="padding: 5px 0; font-weight: 600;">${Ut.name}</td>
                      <td style="padding: 5px 0; text-align: right; color: #06b6d4; font-weight: bold;">${Ut.percent}% Share</td>
                    </tr>
                  `).join("")}
                </table>
              </div>
            </td>
          </tr>
        </table>

        <div style="page-break-before: always;"></div>
        
        <!-- Timeline Section -->
        <h3 style="border-left: 5px solid #f59e0b; padding-left: 12px; margin-bottom: 20px; color: #1e293b; font-size: 18px;">Detailed Daily Utilization Timeline</h3>
        <table style="width: 100%; border-collapse: collapse; margin-bottom: 40px; border: 1px solid #e2e8f0;">
          <tr style="background: #fffbeb;">
            <th style="padding: 10px; border: 1px solid #e2e8f0; text-align: left; font-size: 11px; text-transform: uppercase;">Date</th>
            <th style="padding: 10px; border: 1px solid #e2e8f0; text-align: right; font-size: 11px; text-transform: uppercase;">Active Users</th>
            <th style="padding: 10px; border: 1px solid #e2e8f0; text-align: right; font-size: 11px; text-transform: uppercase;">Acceptance %</th>
          </tr>
          ${s.metrics.slice().reverse().map(Ut=>`
            <tr>
              <td style="padding: 8px 10px; border: 1px solid #f1f5f9; font-size: 11px;">${Ut.day}</td>
              <td style="padding: 8px 10px; border: 1px solid #f1f5f9; font-size: 11px; text-align: right; font-weight: 600;">${Ut.total_active_users}</td>
              <td style="padding: 8px 10px; border: 1px solid #f1f5f9; font-size: 11px; text-align: right; font-weight: 800; color: #f59e0b;">
                ${Ut.total_suggestions_count>0?Math.min(100,Ut.total_acceptances_count/Ut.total_suggestions_count*100).toFixed(1):"0"}%
              </td>
            </tr>
          `).join("")}
        </table>

        <div style="page-break-before: always;"></div>

        <!-- User Audit Section -->
        <h3 style="border-left: 5px solid #7c3aed; padding-left: 12px; margin-bottom: 20px; color: #1e293b; font-size: 18px;">Developer Seat Inventory (Complete List)</h3>
        <p style="font-size: 12px; color: #64748b; margin-bottom: 20px;">Full audit list of all developers assigned a Copilot license and their most recent verifiable activity.</p>
        <table style="width: 100%; border-collapse: collapse; border: 1px solid #e2e8f0;">
          <tr style="background: #f8fafc;">
            <th style="padding: 10px; border: 1px solid #e2e8f0; text-align: left; font-size: 11px; text-transform: uppercase;">GitHub Handle / Identity</th>
            <th style="padding: 10px; border: 1px solid #e2e8f0; text-align: right; font-size: 11px; text-transform: uppercase;">Status</th>
            <th style="padding: 10px; border: 1px solid #e2e8f0; text-align: right; font-size: 11px; text-transform: uppercase;">Last Confirm Activity</th>
          </tr>
          ${s.seats.map(Ut=>`
            <tr>
              <td style="padding: 8px 10px; border: 1px solid #f1f5f9; font-size: 11px; font-weight: bold; color: #1e293b;">${Ut.login}</td>
              <td style="padding: 8px 10px; border: 1px solid #f1f5f9; font-size: 11px; text-align: right; font-weight: 600; color: ${Ut.last_activity_at?"#10b981":"#ef4444"};">
                ${Ut.last_activity_at?"ASSIGNED & ACTIVE":"INACTIVE"}
              </td>
              <td style="padding: 8px 10px; border: 1px solid #f1f5f9; font-size: 11px; text-align: right; font-weight: bold;">
                ${Ut.last_activity_at?new Date(Ut.last_activity_at).toLocaleDateString():"NO HISTORY FOUND"}
              </td>
            </tr>
          `).join("")}
        </table>

        <div style="margin-top: 50px; border-top: 2px solid #e2e8f0; padding-top: 20px; text-align: center; color: #94a3b8; font-size: 10px;">
          This document is an automated export of verified GitHub Copilot organizational metrics.<br>
          GitHub Copilot Metrics Viewer | Enterprise Edition | v2.1.0
        </div>
      </div>
    `,Is={margin:10,filename:`Report-Copilot-${new Date().toISOString().split("T")[0]}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}},Te=document.createElement("div");Te.innerHTML=Oe,document.body.appendChild(Te),await _().from(Te).set(Is).save(),document.body.removeChild(Te)}catch(_){console.error("PDF Error:",_),alert("Failed to generate complete report. Error: "+_)}};return(_,p)=>(R(),H("div",{class:Ge(["dashboard-container",i.value?"dark-theme":"light-theme"])},[u(Vt,{fluid:"",class:"pa-6"},{default:h(()=>[u(Rt,null,{default:h(()=>[u(ot,{cols:"12",class:"d-flex justify-end gap-3"},{default:h(()=>[u(rt,{onClick:at,icon:i.value?"mdi-white-balance-sunny":"mdi-moon-waning-crescent",variant:"outlined",size:"large",class:"theme-toggle-btn",title:i.value?"Switch to Light Theme":"Switch to Dark Theme"},null,8,["icon","title"]),u(rt,{onClick:nc,color:"primary","prepend-icon":"mdi-download",variant:"flat",size:"large",class:"pdf-download-btn"},{default:h(()=>[...p[40]||(p[40]=[D(" Download PDF ",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),u(Vt,{fluid:"",class:"pa-6 pt-0"},{default:h(()=>[u(Rt,null,{default:h(()=>[u(ot,{cols:"12"},{default:h(()=>[p[41]||(p[41]=c("h1",{class:"dashboard-title"},"GitHub Copilot Metrics Dashboard",-1)),c("p",Bp,k(e.dateRangeDescription)+" Overview",1)]),_:1})]),_:1})]),_:1}),u(Vt,{fluid:"",class:"pa-6 pt-0"},{default:h(()=>[u(Rt,{class:"kpi-row no-gutters"},{default:h(()=>[u(ot,{cols:"12",sm:"4",class:"kpi-col"},{default:h(()=>[u(E,{class:"kpi-card-large mx-1",elevation:"3",onClick:p[0]||(p[0]=b=>fe("Total Licensed Seats",G.value,"Total Copilot licenses assigned to your organization",Qt.value)),style:{cursor:"pointer"}},{default:h(()=>[u(Y,{location:"top","open-delay":"200","close-delay":"100"},{activator:h(({props:b})=>[u(ht,W({class:"pa-4 text-center"},b),{default:h(()=>[p[42]||(p[42]=c("div",{class:"kpi-header justify-center d-flex align-center flex-column"},[c("div",{class:"kpi-label-lg"},"Total Licensed"),c("div",{class:"kpi-icon"},"")],-1)),c("div",Fp,k(G.value),1),p[43]||(p[43]=c("div",{class:"kpi-subtitle-lg"},"seats assigned",-1))]),_:1},16)]),default:h(()=>[c("div",Hp,[p[44]||(p[44]=c("div",{class:"tooltip-title"}," Total Licensed Seats",-1)),p[45]||(p[45]=c("div",{class:"tooltip-text"},"Total number of Copilot licenses assigned to your organization",-1)),c("div",Np,k(Qt.value),1)])]),_:1})]),_:1})]),_:1}),u(ot,{cols:"12",sm:"4",class:"kpi-col"},{default:h(()=>[u(E,{class:"kpi-card-large mx-1",elevation:"3",onClick:p[1]||(p[1]=b=>fe("Active Licenses",q.value,"Average number of people actively using Copilot each day",Dn.value)),style:{cursor:"pointer"}},{default:h(()=>[u(Y,{location:"top","content-class":"custom-tooltip"},{activator:h(({props:b})=>[u(ht,W({class:"pa-4 text-center"},b),{default:h(()=>[p[46]||(p[46]=c("div",{class:"kpi-header justify-center d-flex align-center flex-column"},[c("div",{class:"kpi-label-lg"},"Active Licenses"),c("div",{class:"kpi-icon"},"")],-1)),c("div",Wp,k(q.value),1),p[47]||(p[47]=c("div",{class:"kpi-subtitle-lg"},"actively using",-1))]),_:1},16)]),default:h(()=>[c("div",jp,[p[48]||(p[48]=c("div",{class:"tooltip-title"}," Active Licenses",-1)),p[49]||(p[49]=c("div",{class:"tooltip-text"},"Average number of people actively using Copilot each day",-1)),c("div",Gp,k(Dn.value),1)])]),_:1})]),_:1})]),_:1}),u(ot,{cols:"12",sm:"4",class:"kpi-col"},{default:h(()=>[u(E,{class:"kpi-card-large mx-1",elevation:"3",onClick:p[2]||(p[2]=b=>fe("Active Licenses %",it.value,"Percentage of assigned licenses that are actively being used",Ft.value)),style:{cursor:"pointer"}},{default:h(()=>[u(Y,{location:"top","content-class":"custom-tooltip"},{activator:h(({props:b})=>[u(ht,W({class:"pa-4 text-center"},b),{default:h(()=>[p[50]||(p[50]=c("div",{class:"kpi-header justify-center d-flex align-center flex-column"},[c("div",{class:"kpi-label-lg"},"Active Licenses %"),c("div",{class:"kpi-icon"},"")],-1)),c("div",Yp,k(it.value)+"%",1),p[51]||(p[51]=c("div",{class:"kpi-subtitle-lg"},"utilization rate",-1))]),_:1},16)]),default:h(()=>[c("div",qp,[p[52]||(p[52]=c("div",{class:"tooltip-title"}," Active Licenses %",-1)),p[53]||(p[53]=c("div",{class:"tooltip-text"},"Percentage of assigned licenses that are actively being used",-1)),c("div",Xp,k(Ft.value),1)])]),_:1})]),_:1})]),_:1}),u(ot,{cols:"12",sm:"4",class:"kpi-col"},{default:h(()=>[u(E,{class:"kpi-card-large mx-1",elevation:"3",onClick:p[3]||(p[3]=b=>fe("Inactive Users",L.value,"Number of assigned licenses that are NOT being used",Pn.value)),style:{cursor:"pointer"}},{default:h(()=>[u(Y,{location:"top","content-class":"custom-tooltip"},{activator:h(({props:b})=>[u(ht,W({class:"pa-4 text-center"},b),{default:h(()=>[p[54]||(p[54]=c("div",{class:"kpi-header justify-center d-flex align-center flex-column"},[c("div",{class:"kpi-label-lg"},"Inactive Users"),c("div",{class:"kpi-icon"},"")],-1)),c("div",Kp,k(L.value),1),p[55]||(p[55]=c("div",{class:"kpi-subtitle-lg"},"no activity",-1))]),_:1},16)]),default:h(()=>[c("div",Jp,[p[56]||(p[56]=c("div",{class:"tooltip-title"}," Inactive Users",-1)),p[57]||(p[57]=c("div",{class:"tooltip-text"},"Number of assigned licenses that are NOT being used",-1)),c("div",Zp,k(Pn.value),1)])]),_:1})]),_:1})]),_:1}),u(ot,{cols:"12",sm:"4",class:"kpi-col"},{default:h(()=>[u(E,{class:"kpi-card-large mx-1",elevation:"3",onClick:p[4]||(p[4]=b=>fe("Inactive Users %",ct.value,"Percentage of assigned licenses that are NOT being used",Wt.value)),style:{cursor:"pointer"}},{default:h(()=>[u(Y,{location:"top","content-class":"custom-tooltip"},{activator:h(({props:b})=>[u(ht,W({class:"pa-4 text-center"},b),{default:h(()=>[p[58]||(p[58]=c("div",{class:"kpi-header justify-center d-flex align-center flex-column"},[c("div",{class:"kpi-label-lg"},"Inactive Users %"),c("div",{class:"kpi-icon"},"")],-1)),c("div",Qp,k(ct.value)+"%",1),p[59]||(p[59]=c("div",{class:"kpi-subtitle-lg"},"dormant rate",-1))]),_:1},16)]),default:h(()=>[c("div",tg,[p[60]||(p[60]=c("div",{class:"tooltip-title"}," Inactive Users %",-1)),p[61]||(p[61]=c("div",{class:"tooltip-text"},"Percentage of assigned licenses that are NOT being used",-1)),c("div",eg,k(Wt.value),1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),u(Vt,{fluid:"",class:"pa-6 pt-0"},{default:h(()=>[u(Rt,{class:"kpi-row no-gutters"},{default:h(()=>[u(ot,{cols:"12",sm:"4",class:"kpi-col"},{default:h(()=>[u(Y,{location:"top","content-class":"custom-tooltip"},{activator:h(({props:b})=>[u(E,W({class:"kpi-card-large mx-1",elevation:"3"},b),{default:h(()=>[u(ht,{class:"pa-4 text-center"},{default:h(()=>[p[62]||(p[62]=c("div",{class:"kpi-header justify-center d-flex align-center flex-column"},[c("div",{class:"kpi-label-lg"},"Pending Invites"),c("div",{class:"kpi-icon"},"")],-1)),c("div",{class:"kpi-value-lg",style:{color:"#f59e0b",cursor:"pointer"},onClick:oc},k(U.value.pendingInvites),1),p[63]||(p[63]=c("div",{class:"kpi-subtitle-lg"},"awaiting setup",-1))]),_:1})]),_:1},16)]),default:h(()=>[p[64]||(p[64]=c("div",{class:"tooltip-content"},[c("div",{class:"tooltip-title"}," Pending Invites"),c("div",{class:"tooltip-text"},"Newly activated licenses awaiting user setup in their IDE"),c("div",{class:"tooltip-example",style:{"white-space":"pre-line","font-family":"monospace","font-size":"0.85rem"}},"These licenses have been activated but the user hasn't integrated Copilot into their editor yet.")],-1))]),_:1})]),_:1}),u(ot,{cols:"12",sm:"4",class:"kpi-col"},{default:h(()=>[u(Y,{location:"top","content-class":"custom-tooltip"},{activator:h(({props:b})=>[u(E,W({class:"kpi-card-large mx-1",elevation:"3"},b),{default:h(()=>[u(ht,{class:"pa-4 text-center"},{default:h(()=>[p[65]||(p[65]=c("div",{class:"kpi-header justify-center d-flex align-center flex-column"},[c("div",{class:"kpi-label-lg"},"Pending Invites %"),c("div",{class:"kpi-icon"},"")],-1)),c("div",sg,k(yt.value)+"%",1),p[66]||(p[66]=c("div",{class:"kpi-subtitle-lg"},"setup rate",-1))]),_:1})]),_:1},16)]),default:h(()=>[p[67]||(p[67]=c("div",{class:"tooltip-content"},[c("div",{class:"tooltip-title"}," Pending Invites %"),c("div",{class:"tooltip-text"},"Percentage of total licenses that are pending user setup"),c("div",{class:"tooltip-example",style:{"white-space":"pre-line","font-family":"monospace","font-size":"0.85rem"}},"These newly activated licenses are not yet integrated into the user's IDE, so they don't appear in active user categories yet.")],-1))]),_:1})]),_:1}),u(ot,{cols:"12",sm:"4",class:"kpi-col"},{default:h(()=>[u(Y,{location:"top","content-class":"custom-tooltip"},{activator:h(({props:b})=>[u(E,W({class:"kpi-card-large mx-1",elevation:"3"},b,{onClick:$n,style:{cursor:"pointer"}}),{default:h(()=>[u(ht,{class:"pa-4 text-center"},{default:h(()=>[p[68]||(p[68]=c("div",{class:"kpi-header justify-center d-flex align-center flex-column"},[c("div",{class:"kpi-label-lg"},"License Revoked Requests"),c("div",{class:"kpi-icon"},"")],-1)),c("div",ig,k(Tt.value),1),p[69]||(p[69]=c("div",{class:"kpi-subtitle-lg"},"removed licenses",-1))]),_:1})]),_:1},16)]),default:h(()=>[c("div",og,[p[70]||(p[70]=c("div",{class:"tooltip-title"}," License Revoked Requests",-1)),p[71]||(p[71]=c("div",{class:"tooltip-text"},"Users whose licenses have been revoked (have revoked_date or pending_cancellation_date)",-1)),c("div",ng,"Count of users with revoked licenses from API: "+k(Tt.value)+" out of "+k(G.value)+" total licenses. Click to view users.",1)])]),_:1})]),_:1}),u(ot,{cols:"12",sm:"4",class:"kpi-col"},{default:h(()=>[u(Y,{location:"top","content-class":"custom-tooltip"},{activator:h(({props:b})=>[u(E,W({class:"kpi-card-large mx-1",elevation:"3"},b),{default:h(()=>[u(ht,{class:"pa-4 text-center"},{default:h(()=>[p[72]||(p[72]=c("div",{class:"kpi-header justify-center d-flex align-center flex-column"},[c("div",{class:"kpi-label-lg"},"License Revoked Requests %"),c("div",{class:"kpi-icon"},"")],-1)),c("div",ag,k(zt.value)+"%",1),p[73]||(p[73]=c("div",{class:"kpi-subtitle-lg"},"revoked rate",-1))]),_:1})]),_:1},16)]),default:h(()=>[c("div",lg,[p[74]||(p[74]=c("div",{class:"tooltip-title"}," License Revoked Requests %",-1)),p[75]||(p[75]=c("div",{class:"tooltip-text"},"Percentage of total licenses that have been revoked",-1)),c("div",rg,"Calculation: ("+k(Tt.value)+" revoked  "+k(G.value)+" total)  100 = "+k(zt.value)+"%",1)])]),_:1})]),_:1})]),_:1})]),_:1}),u(Vt,{fluid:"",class:"pa-6 pt-0"},{default:h(()=>[u(Rt,{class:"kpi-row no-gutters"},{default:h(()=>[j.value&&dt.value>0?(R(),tt(ot,{key:0,cols:"12",sm:"4",class:"kpi-col"},{default:h(()=>[u(Y,{location:"top","content-class":"custom-tooltip"},{activator:h(({props:b})=>[u(E,W({class:"kpi-card-large mx-1",elevation:"3"},b),{default:h(()=>[u(ht,{class:"pa-4 text-center"},{default:h(()=>[p[76]||(p[76]=c("div",{class:"kpi-header justify-center d-flex align-center flex-column"},[c("div",{class:"kpi-label-lg"},"Most Used Chat Model"),c("div",{class:"kpi-icon"},"")],-1)),c("div",{class:"kpi-value-lg",style:{color:"#8b5cf6",cursor:"pointer","font-size":"1.3rem"},onClick:p[5]||(p[5]=$=>fe("Most Used Chat Model",j.value,"The most frequently used chat model in the current period",nt.value))},k(j.value),1),c("div",cg,k(dt.value.toLocaleString())+" chats",1)]),_:1})]),_:1},16)]),default:h(()=>[c("div",dg,[p[77]||(p[77]=c("div",{class:"tooltip-title"}," Most Used Chat Model",-1)),p[78]||(p[78]=c("div",{class:"tooltip-text"},"The most frequently used chat model in the current period",-1)),c("div",ug,k(nt.value),1)])]),_:1})]),_:1})):st("",!0),ut.value>0?(R(),tt(ot,{key:1,cols:"12",sm:"4",class:"kpi-col"},{default:h(()=>[u(Y,{location:"top","content-class":"custom-tooltip"},{activator:h(({props:b})=>[u(E,W({class:"kpi-card-large mx-1",elevation:"3"},b),{default:h(()=>[u(ht,{class:"pa-4 text-center"},{default:h(()=>[p[79]||(p[79]=c("div",{class:"kpi-header justify-center d-flex align-center flex-column"},[c("div",{class:"kpi-label-lg"},"Total Chat Requests"),c("div",{class:"kpi-icon"},"")],-1)),c("div",{class:"kpi-value-lg",style:{color:"#06b6d4",cursor:"pointer"},onClick:p[6]||(p[6]=$=>fe("Total Chat Requests",ut.value,"Total chat requests across all editors and modes",vt.value))},k(ut.value.toLocaleString()),1),p[80]||(p[80]=c("div",{class:"kpi-subtitle-lg"},"all requests",-1))]),_:1})]),_:1},16)]),default:h(()=>[c("div",hg,[p[81]||(p[81]=c("div",{class:"tooltip-title"}," Total Chat Requests",-1)),p[82]||(p[82]=c("div",{class:"tooltip-text"},"Total chat requests across all editors and modes",-1)),c("div",fg,k(vt.value),1)])]),_:1})]),_:1})):st("",!0)]),_:1})]),_:1}),u(Vt,{fluid:"",class:"pa-6 pt-0"},{default:h(()=>[u(Rt,{class:"metrics-row"},{default:h(()=>[u(ot,{cols:"12",sm:"6",md:"4"},{default:h(()=>[u(Y,{location:"top","content-class":"custom-tooltip"},{activator:h(({props:b})=>[u(E,W({class:"metric-card position-relative overflow-hidden",elevation:"2"},b),{default:h(()=>[u(ht,{class:"pa-5 text-center"},{default:h(()=>[p[83]||(p[83]=c("div",{class:"metric-label"},"Total Prompts",-1)),c("div",{class:"metric-value cursor-pointer",onClick:p[7]||(p[7]=$=>fe("Total Prompts",gs.value,"Total number of code suggestions Copilot made",An.value))},k(gs.value.toLocaleString()),1)]),_:1}),u(qi,{value:hs.value,height:"4",color:En(hs.value),max:"100",class:"position-absolute",style:{bottom:"0",left:"0"}},null,8,["value","color"])]),_:1},16)]),default:h(()=>[c("div",pg,[p[84]||(p[84]=c("div",{class:"tooltip-title"}," Total Prompts",-1)),p[85]||(p[85]=c("div",{class:"tooltip-text"},"Total number of code suggestions Copilot made",-1)),c("div",gg,k(An.value),1)])]),_:1})]),_:1}),u(ot,{cols:"12",sm:"6",md:"4"},{default:h(()=>[u(Y,{location:"top","content-class":"custom-tooltip"},{activator:h(({props:b})=>[u(E,W({class:"metric-card position-relative overflow-hidden",elevation:"2"},b),{default:h(()=>[u(ht,{class:"pa-5 text-center"},{default:h(()=>[p[86]||(p[86]=c("div",{class:"metric-label"},"Accepted Prompts",-1)),c("div",{class:"metric-value cursor-pointer",onClick:p[8]||(p[8]=$=>fe("Accepted Prompts",Es.value,"How many suggestions developers actually accepted and used",Mn.value))},k(Es.value.toLocaleString()),1)]),_:1}),u(qi,{value:$t.value,height:"4",color:En($t.value),max:"100",class:"position-absolute",style:{bottom:"0",left:"0"}},null,8,["value","color"])]),_:1},16)]),default:h(()=>[c("div",mg,[p[87]||(p[87]=c("div",{class:"tooltip-title"}," Accepted Prompts",-1)),p[88]||(p[88]=c("div",{class:"tooltip-text"},"How many suggestions developers actually accepted and used",-1)),c("div",vg,k(Mn.value),1)])]),_:1})]),_:1}),u(ot,{cols:"12",sm:"6",md:"4"},{default:h(()=>[u(Y,{location:"top","content-class":"custom-tooltip"},{activator:h(({props:b})=>[u(E,W({class:"metric-card position-relative overflow-hidden",elevation:"2"},b),{default:h(()=>[u(ht,{class:"pa-5 text-center"},{default:h(()=>[p[89]||(p[89]=c("div",{class:"metric-label"},"Acceptance Rate %",-1)),c("div",{class:"metric-value cursor-pointer text-indigo",onClick:p[9]||(p[9]=$=>fe("Acceptance Rate %",$t.value,"The percentage of suggestions that were successfully accepted",Tn.value))},k($t.value)+"%",1)]),_:1}),u(qi,{value:$t.value,height:"4",color:"indigo",max:"100",class:"position-absolute",style:{bottom:"0",left:"0"}},null,8,["value"])]),_:1},16)]),default:h(()=>[c("div",bg,[p[90]||(p[90]=c("div",{class:"tooltip-title"}," Acceptance Rate %",-1)),p[91]||(p[91]=c("div",{class:"tooltip-text"},"The percentage of suggestions that were successfully accepted",-1)),c("div",yg,k(Tn.value),1)])]),_:1})]),_:1})]),_:1})]),_:1}),u(Vt,{fluid:"",class:"pa-4"},{default:h(()=>[u(Rt,null,{default:h(()=>[u(ot,{cols:"12",md:"6"},{default:h(()=>[u(E,{elevation:"4",class:"dashboard-card weekly-card d-flex flex-column",style:{height:"100%",cursor:"pointer"},ripple:!1,onClick:p[10]||(p[10]=b=>fe("Weekly Acceptance Rate",mo.value,"Shows how your developers are accepting Copilot suggestions across 4 weeks",qr.value))},{default:h(()=>[u(Y,{location:"top","content-class":"custom-tooltip"},{activator:h(({props:b})=>[u(St,W(b,{class:"pa-4 pb-1 text-center",style:{color:i.value?"#cbd5e1":"#1e293b",cursor:"help"}}),{default:h(()=>[...p[92]||(p[92]=[D("Weekly Acceptance Rate",-1)])]),_:1},16,["style"])]),default:h(()=>[p[93]||(p[93]=c("div",{class:"tooltip-content"},[c("div",{class:"tooltip-title"}," Weekly Acceptance Rate"),c("div",{class:"tooltip-text"},"The percentage of Copilot suggestions that developers accepted over the past 4 weeks")],-1))]),_:1}),c("div",{class:"text-center text-caption",style:Q({color:i.value?"#94a3b8":"#64748b",fontSize:"0.75rem"})},k(e.dateRangeDescription),5),u(gt,{class:"pa-5 flex-grow-1"},{default:h(()=>[c("div",{style:{position:"relative",height:"280px","margin-bottom":"20px",cursor:"pointer"},onClick:dc(Ln,["stop"])},[u(Nt(es),{ref:"weeklyChartRef",data:Nr.value,options:Wr.value},null,8,["data","options"])]),c("div",_g,[c("div",{style:Q([{padding:"12px","border-radius":"8px"},{backgroundColor:i.value?"#0f172a":"#f0f9ff",borderLeft:"4px solid #20b2aa"}])},[c("div",{style:Q({fontSize:"0.8rem",fontWeight:"600",color:i.value?"#94a3b8":"#64748b",marginBottom:"4px"})},"Highest Week",4),c("div",xg,k(Math.max(..._t.value.weeks.map(b=>b.rate)))+"%",1)],4),c("div",{style:Q([{padding:"12px","border-radius":"8px"},{backgroundColor:i.value?"#0f172a":"#f0f9ff",borderLeft:"4px solid #3b82f6"}])},[c("div",{style:Q({fontSize:"0.8rem",fontWeight:"600",color:i.value?"#94a3b8":"#64748b",marginBottom:"4px"})},"Average Rate",4),c("div",wg,k(mo.value)+"%",1)],4)]),c("div",{style:Q([{"margin-top":"16px",padding:"12px","border-radius":"8px","text-align":"center"},{backgroundColor:i.value?"#0f172a":"#f0f9ff"}])},[c("span",{style:Q({color:_t.value.improvement>0?"#20b2aa":"#ef4444",fontWeight:"600",fontSize:"0.95rem"})},k(_t.value.improvement>0?"":"")+" "+k(Math.abs(_t.value.improvement))+"% "+k(_t.value.improvement>0?"improvement":"decline"),5)],4)]),_:1})]),_:1})]),_:1}),u(ot,{cols:"12",md:"6"},{default:h(()=>[u(E,{elevation:"4",class:"dashboard-card weekly-card d-flex flex-column",style:{height:"100%",cursor:"pointer"},ripple:!1,onClick:p[11]||(p[11]=b=>fe("Weekly Prompts Rate",vo.value,"Shows total prompts and acceptances across 4 weeks",Yr.value))},{default:h(()=>[u(Y,{location:"top","content-class":"custom-tooltip"},{activator:h(({props:b})=>[u(St,W(b,{class:"pa-4 pb-1 text-center",style:{color:i.value?"#cbd5e1":"#1e293b",cursor:"help"}}),{default:h(()=>[...p[94]||(p[94]=[D("Weekly Prompts Rate",-1)])]),_:1},16,["style"])]),default:h(()=>[p[95]||(p[95]=c("div",{class:"tooltip-content"},[c("div",{class:"tooltip-title"}," Weekly Prompts Rate"),c("div",{class:"tooltip-text"},"The number of code suggestions (prompts) Copilot generated and how many were accepted each week")],-1))]),_:1}),c("div",{class:"text-center text-caption",style:Q({color:i.value?"#94a3b8":"#64748b",fontSize:"0.75rem"})},k(e.dateRangeDescription),5),u(gt,{class:"pa-5 flex-grow-1"},{default:h(()=>[c("div",kg,[u(Nt(es),{ref:"weeklyPromptsChartRef",data:jr.value,options:Gr.value},null,8,["data","options"])]),c("div",Cg,[c("div",{style:Q([{padding:"12px","border-radius":"8px"},{backgroundColor:i.value?"#0f172a":"#f0f9ff",borderLeft:"4px solid #10b981"}])},[c("div",{style:Q({fontSize:"0.8rem",fontWeight:"600",color:i.value?"#94a3b8":"#64748b",marginBottom:"4px"})},"Total Prompts",4),c("div",Sg,k(Mi.value.totalPrompts.toLocaleString()),1)],4),c("div",{style:Q([{padding:"12px","border-radius":"8px"},{backgroundColor:i.value?"#0f172a":"#f0f9ff",borderLeft:"4px solid #f59e0b"}])},[c("div",{style:Q({fontSize:"0.8rem",fontWeight:"600",color:i.value?"#94a3b8":"#64748b",marginBottom:"4px"})},"Total Accepted",4),c("div",Dg,k(Mi.value.totalAccepted.toLocaleString()),1)],4)]),c("div",{style:Q([{"margin-top":"16px",padding:"12px","border-radius":"8px","text-align":"center"},{backgroundColor:i.value?"#0f172a":"#f0f9ff"}])},[c("span",Tg,"  Avg: "+k(vo.value.toLocaleString())+" prompts/week ",1)],4)]),_:1})]),_:1})]),_:1})]),_:1}),u(Rt,{class:"mt-2"})]),_:1}),u(Vt,{fluid:"",class:"pa-6 pt-0"},{default:h(()=>[u(Rt,{class:"chart-row"},{default:h(()=>[u(ot,{cols:"12",md:"7"},{default:h(()=>[u(E,{elevation:"3",class:"dashboard-chart d-flex flex-column",style:{height:"100%"}},{default:h(()=>[u(Y,{location:"top","content-class":"custom-tooltip"},{activator:h(({props:b})=>[u(St,W(b,{class:"pa-5 pb-2 text-center d-flex flex-column align-center",style:{cursor:"help"}}),{default:h(()=>[p[96]||(p[96]=c("span",null,"Acceptance Rate Trend",-1)),c("div",Ag,"Data points: "+k(s.metrics.length)+" days",1)]),_:1},16)]),default:h(()=>[p[97]||(p[97]=c("div",{class:"tooltip-content"},[c("div",{class:"tooltip-title"}," Acceptance Rate Trend"),c("div",{class:"tooltip-text"},"Daily trend showing what percentage of Copilot's code suggestions were accepted by developers")],-1))]),_:1}),u(gt,{class:"pa-5 flex-grow-1"},{default:h(()=>[c("div",{class:"chart-container",onClick:Jr},[Rn.value?(R(),tt(Nt(es),{key:0,data:Rn.value,options:Xr.value},null,8,["data","options"])):(R(),H("div",Mg,"Loading chart..."))]),c("div",Pg,[c("p",Rg,k(_t.value.improvement>0?" Upward trend":" Downward trend")+" - "+k(Math.abs(_t.value.improvement))+"% over period",1)])]),_:1})]),_:1})]),_:1}),u(ot,{cols:"12",md:"5"},{default:h(()=>[u(E,{elevation:"3",class:"dashboard-chart d-flex flex-column",style:{height:"100%"}},{default:h(()=>[u(Y,{location:"top","content-class":"custom-tooltip"},{activator:h(({props:b})=>[u(St,W(b,{class:"pa-5 pb-2 text-center d-flex flex-column align-center",style:{cursor:"help"}}),{default:h(()=>[p[98]||(p[98]=c("span",null,"Licensing Usage Distribution",-1)),c("div",$g,"Data points: "+k(s.metrics.length)+" days",1)]),_:1},16)]),default:h(()=>[p[99]||(p[99]=c("div",{class:"tooltip-content"},[c("div",{class:"tooltip-title"}," Licensing Usage Distribution"),c("div",{class:"tooltip-text"},"How Copilot licenses are being used: Active users vs. Inactive vs. Disabled over time")],-1))]),_:1}),u(gt,{class:"pa-5 flex-grow-1"},{default:h(()=>[c("div",Lg,[c("span",Eg,[c("span",Og,k(G.value),1),p[100]||(p[100]=D(" Licensed Users ",-1))])]),c("div",zg,[u(Y,{location:"top","content-class":"custom-tooltip"},{activator:h(({props:b})=>[c("div",W(b,{class:"segment-box power-users cursor-pointer",onClick:p[12]||(p[12]=$=>Qs(0))}),[p[101]||(p[101]=c("div",{class:"segment-box-label"},"Power Users",-1)),c("div",Ig,k(U.value.powerUsers),1),c("div",Ug,k(lt.value)+"%",1)],16)]),default:h(()=>[p[102]||(p[102]=c("div",{class:"tooltip-content"},[c("div",{class:"tooltip-title"}," Power Users"),c("div",{class:"tooltip-text"},"Users who actively use Copilot within 0-7 days, showing high engagement")],-1))]),_:1}),u(Y,{location:"top","content-class":"custom-tooltip"},{activator:h(({props:b})=>[c("div",W(b,{class:"segment-box regular-users cursor-pointer",onClick:p[13]||(p[13]=$=>Qs(1))}),[p[103]||(p[103]=c("div",{class:"segment-box-label"},"Regular Users",-1)),c("div",Vg,k(U.value.regularUsers),1),c("div",Bg,k(Pt.value)+"%",1)],16)]),default:h(()=>[p[104]||(p[104]=c("div",{class:"tooltip-content"},[c("div",{class:"tooltip-title"}," Regular Users"),c("div",{class:"tooltip-text"},"Users who consistently use Copilot with moderate engagement levels")],-1))]),_:1}),u(Y,{location:"top","content-class":"custom-tooltip"},{activator:h(({props:b})=>[c("div",W(b,{class:"segment-box occasional-users cursor-pointer",onClick:p[14]||(p[14]=$=>Qs(2))}),[p[105]||(p[105]=c("div",{class:"segment-box-label"},"Occasional",-1)),c("div",Fg,k(U.value.occasionalUsers),1),c("div",Hg,k(kt.value)+"%",1)],16)]),default:h(()=>[p[106]||(p[106]=c("div",{class:"tooltip-content"},[c("div",{class:"tooltip-title"}," Occasional Users"),c("div",{class:"tooltip-text"},"Users who use Copilot infrequently or sporadically")],-1))]),_:1}),u(Y,{location:"top","content-class":"custom-tooltip"},{activator:h(({props:b})=>[c("div",W(b,{class:"segment-box non-users cursor-pointer",onClick:p[15]||(p[15]=$=>Qs(3))}),[p[107]||(p[107]=c("div",{class:"segment-box-label"},"Non-Users",-1)),c("div",Ng,k(U.value.nonUsers),1),c("div",Wg,k(pt.value)+"%",1)],16)]),default:h(()=>[p[108]||(p[108]=c("div",{class:"tooltip-content"},[c("div",{class:"tooltip-title"}," Non-Users"),c("div",{class:"tooltip-text"},"Users with license but no active Copilot usage recorded")],-1))]),_:1})]),p[109]||(p[109]=c("div",{class:"mt-6 pa-4 rounded-lg",style:{background:"rgba(var(--v-theme-primary), 0.05)",border:"1px solid rgba(var(--v-theme-primary), 0.1)"}},[c("div",{class:"d-flex align-center mb-2"},[c("span",{class:"text-subtitle-2 font-weight-bold"}," Adoption Strategy Insight")]),c("div",{class:"text-caption text-grey-darken-1 lh-sm"},[D(" User segmentation is calculated based on active engagement rates. "),c("strong",null,"Power Users"),D(" demonstrate activity within 0-7 days. ")])],-1))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),u(ve,{modelValue:o.value,"onUpdate:modelValue":p[17]||(p[17]=b=>o.value=b),"max-width":"600px"},{default:h(()=>[u(E,{class:"chart-details-card",style:Q({backgroundColor:i.value?"#1a1f2e":"#ffffff",color:i.value?"#cbd5e1":"#334155"})},{default:h(()=>[u(St,{class:"pa-5",style:Q({color:i.value?"#60a5fa":"#7c3aed"})},{default:h(()=>[...p[110]||(p[110]=[D("  Daily Acceptance Rate Details ",-1)])]),_:1},8,["style"]),n.value?(R(),tt(gt,{key:0,class:"pa-5"},{default:h(()=>[c("div",jg,[c("div",Gg,[p[111]||(p[111]=c("span",{class:"detail-label"}," Date:",-1)),c("span",Yg,k(n.value.date),1)]),c("div",qg,[p[112]||(p[112]=c("span",{class:"detail-label"}," Acceptance Rate:",-1)),c("span",{class:"detail-value",style:Q({fontSize:"1.5rem",fontWeight:"bold",color:i.value?"#60a5fa":"#7c3aed"})},k(n.value.rate)+"%",5)]),c("div",{class:"formula-box",style:Q({backgroundColor:i.value?"#0f172a":"#f8fafc",borderColor:i.value?"#3b82f6":"#7c3aed",borderLeft:`4px solid ${i.value?"#3b82f6":"#7c3aed"}`})},[...p[113]||(p[113]=[c("div",{class:"formula-title"},"Formula:",-1),c("div",{class:"formula-content"}," (Total Acceptances  Total Suggestions)  100 ",-1)])],4),c("div",Xg,[p[118]||(p[118]=c("div",{class:"section-title"},"Calculation Breakdown:",-1)),c("div",Kg,[p[114]||(p[114]=c("span",{class:"item-label"}," Total Acceptances:",-1)),c("span",Jg,k(n.value.acceptances),1)]),c("div",Zg,[p[115]||(p[115]=c("span",{class:"item-label"}," Total Suggestions:",-1)),c("span",Qg,k(n.value.suggestions),1)]),c("div",tm,[p[116]||(p[116]=c("span",{class:"item-label"}," Calculation:",-1)),c("span",em,k(n.value.acceptances)+"  "+k(n.value.suggestions)+" = "+k((n.value.acceptances/n.value.suggestions).toFixed(4)),1)]),c("div",sm,[p[117]||(p[117]=c("span",{class:"item-label"}," Final Rate:",-1)),c("span",im,[D(k((n.value.acceptances/n.value.suggestions).toFixed(4))+"  100 = ",1),c("strong",null,k(n.value.rate)+"%",1)])])]),c("div",{class:"info-box",style:Q({backgroundColor:i.value?"rgba(96, 165, 250, 0.1)":"rgba(124, 58, 237, 0.05)",borderColor:i.value?"#3b82f6":"#7c3aed"})},[p[119]||(p[119]=c("span",{class:"info-label"}," Active Users This Day:",-1)),c("span",om,k(n.value.activeUsers),1)],4)])]),_:1})):st("",!0),u(ge,{class:"pa-5"},{default:h(()=>[u(re),u(rt,{variant:"elevated",color:"#7c3aed",onClick:p[16]||(p[16]=b=>o.value=!1)},{default:h(()=>[...p[120]||(p[120]=[D("Close",-1)])]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["modelValue"]),u(ve,{modelValue:a.value,"onUpdate:modelValue":p[19]||(p[19]=b=>a.value=b),"max-width":"600px"},{default:h(()=>[u(E,{class:"metric-details-card",style:Q({backgroundColor:i.value?"#1a1f2e":"#ffffff",color:i.value?"#cbd5e1":"#334155"})},{default:h(()=>[u(St,{class:"pa-5",style:Q({color:i.value?"#60a5fa":"#7c3aed"})},{default:h(()=>[D("  "+k(l.value?.title),1)]),_:1},8,["style"]),l.value?(R(),tt(gt,{key:0,class:"pa-5"},{default:h(()=>[c("div",nm,[c("div",am,[p[121]||(p[121]=c("span",{class:"detail-label",style:{"font-size":"1.1rem"}},"Result:",-1)),c("span",{class:"detail-value",style:Q({fontSize:"2.2rem",fontWeight:"bold",color:i.value?"#60a5fa":"#7c3aed"})},k(l.value.value.toLocaleString()),5)]),c("div",lm,[p[122]||(p[122]=c("div",{class:"section-label"},"What This Means:",-1)),c("div",rm,k(l.value.description),1)]),c("div",{class:"formula-box",style:Q({backgroundColor:i.value?"#0f172a":"#f8fafc",borderColor:i.value?"#3b82f6":"#7c3aed",borderLeft:`4px solid ${i.value?"#3b82f6":"#7c3aed"}`})},[p[123]||(p[123]=c("div",{class:"formula-title"},"Detailed Explanation:",-1)),c("div",cm,k(l.value.explanation),1)],4)])]),_:1})):st("",!0),u(ge,{class:"pa-5"},{default:h(()=>[l.value?.title==="Inactive Users"?(R(),tt(rt,{key:0,variant:"flat",color:"error",onClick:Qr,"prepend-icon":"mdi-account-slash",size:"small"},{default:h(()=>[...p[124]||(p[124]=[D(" View List ",-1)])]),_:1})):st("",!0),u(re),u(rt,{variant:"elevated",color:"#7c3aed",onClick:p[18]||(p[18]=b=>a.value=!1)},{default:h(()=>[...p[125]||(p[125]=[D("Close",-1)])]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["modelValue"]),u(ve,{modelValue:r.value,"onUpdate:modelValue":p[21]||(p[21]=b=>r.value=b),"max-width":"600px"},{default:h(()=>[u(E,{class:"metric-details-card",style:Q({backgroundColor:i.value?"#1a1f2e":"#ffffff",color:i.value?"#cbd5e1":"#334155"})},{default:h(()=>[u(St,{class:"pa-5",style:Q({color:i.value?"#60a5fa":"#7c3aed"})},{default:h(()=>[D("  "+k(d.value?.title),1)]),_:1},8,["style"]),d.value?(R(),tt(gt,{key:0,class:"pa-5"},{default:h(()=>[c("div",dm,[c("div",um,[p[126]||(p[126]=c("span",{class:"detail-label"},"Acceptance Rate:",-1)),c("span",{class:"detail-value",style:Q({fontSize:"1.8rem",fontWeight:"bold",color:i.value?"#60a5fa":"#7c3aed"})},k(d.value.value)+"%",5)]),c("div",hm,[p[127]||(p[127]=c("div",{class:"section-label"},"What This Means:",-1)),c("div",fm,k(d.value.description),1)]),c("div",{class:"formula-box",style:Q({backgroundColor:i.value?"#0f172a":"#f8fafc",borderColor:i.value?"#3b82f6":"#7c3aed",borderLeft:`4px solid ${i.value?"#3b82f6":"#7c3aed"}`})},[p[128]||(p[128]=c("div",{class:"formula-title"},"How It's Calculated:",-1)),c("div",pm,k(d.value.explanation),1)],4)])]),_:1})):st("",!0),u(ge,{class:"pa-5"},{default:h(()=>[u(re),u(rt,{variant:"elevated",color:"#7c3aed",onClick:p[20]||(p[20]=b=>r.value=!1)},{default:h(()=>[...p[129]||(p[129]=[D("Close",-1)])]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["modelValue"]),u(ve,{modelValue:f.value,"onUpdate:modelValue":p[23]||(p[23]=b=>f.value=b),"max-width":"600px"},{default:h(()=>[u(E,{class:"metric-details-card",style:Q({backgroundColor:i.value?"#1a1f2e":"#ffffff",color:i.value?"#cbd5e1":"#334155"})},{default:h(()=>[u(St,{class:"pa-5",style:Q({color:g.value?.color})},{default:h(()=>[D("  "+k(g.value?.title),1)]),_:1},8,["style"]),g.value?(R(),tt(gt,{key:0,class:"pa-5"},{default:h(()=>[c("div",gm,[c("div",mm,[p[130]||(p[130]=c("span",{class:"detail-label"},"Dynamic Result (Based on Data):",-1)),c("span",{class:"detail-value",style:Q({fontSize:"1.8rem",fontWeight:"bold",color:g.value?.color})},k(g.value.count),5)]),c("div",{class:"mb-4 pa-2 rounded text-caption font-italic",style:Q({border:`1px dashed ${g.value?.color}`,backgroundColor:g.value?.color+"05",color:i.value?"#cbd5e1":"#475569"})},"  This count is dynamically generated by analyzing individual performance and active engagement within your selected date range. ",4),c("div",vm,[p[131]||(p[131]=c("span",{class:"detail-label"},"Percentage:",-1)),c("span",{class:"detail-value",style:Q({fontSize:"1.6rem",fontWeight:"bold",color:g.value?.color})},k(g.value.percentage)+"%",5)]),c("div",bm,[p[132]||(p[132]=c("div",{class:"section-label"}," Segment Definition:",-1)),c("div",ym,k(g.value.description),1)]),c("div",{class:"formula-box",style:Q({backgroundColor:i.value?"#0f172a":"#f8fafc",borderColor:g.value?.color,borderLeft:`4px solid ${g.value?.color}`})},[p[133]||(p[133]=c("div",{class:"formula-title"}," How It's Calculated:",-1)),c("div",_m,k(g.value.calculation),1)],4),c("div",xm,[p[134]||(p[134]=c("div",{class:"section-label"}," What This Means:",-1)),c("div",wm,k(g.value.explanation),1)]),c("div",km,[p[135]||(p[135]=c("div",{class:"section-label",style:{color:"#7c3aed"}}," Logic Definition:",-1)),c("div",Cm,k(g.value.logicNote),1)])])]),_:1})):st("",!0),g.value?(R(),tt(ge,{key:1,class:"pa-5"},{default:h(()=>[g.value?.title?.includes("Power Users")?(R(),tt(rt,{key:0,variant:"flat",color:g.value.color,onClick:tc,"prepend-icon":"mdi-lightning-bolt",size:"small"},{default:h(()=>[...p[136]||(p[136]=[D(" View List ",-1)])]),_:1},8,["color"])):g.value?.title?.includes("Regular Users")?(R(),tt(rt,{key:1,variant:"flat",color:g.value.color,onClick:ec,"prepend-icon":"mdi-account-check",size:"small"},{default:h(()=>[...p[137]||(p[137]=[D(" View List ",-1)])]),_:1},8,["color"])):g.value?.title?.includes("Occasional")?(R(),tt(rt,{key:2,variant:"flat",color:g.value.color,onClick:sc,"prepend-icon":"mdi-account-clock",size:"small"},{default:h(()=>[...p[138]||(p[138]=[D(" View List ",-1)])]),_:1},8,["color"])):g.value?.title?.includes("Non-Users")?(R(),tt(rt,{key:3,variant:"flat",color:g.value.color,onClick:ic,"prepend-icon":"mdi-account-slash",size:"small"},{default:h(()=>[...p[139]||(p[139]=[D(" View List ",-1)])]),_:1},8,["color"])):st("",!0),u(re),u(rt,{variant:"elevated",color:g.value.color,onClick:p[22]||(p[22]=b=>f.value=!1)},{default:h(()=>[...p[140]||(p[140]=[D("Close",-1)])]),_:1},8,["color"])]),_:1})):st("",!0)]),_:1},8,["style"])]),_:1},8,["modelValue"]),u(ve,{modelValue:m.value,"onUpdate:modelValue":p[25]||(p[25]=b=>m.value=b),"max-width":"500px"},{default:h(()=>[u(E,{class:"metric-details-card",style:Q({backgroundColor:i.value?"#1a1f2e":"#ffffff",color:i.value?"#cbd5e1":"#334155"})},{default:h(()=>[u(St,{class:"pa-5 border-b",style:Q({color:g.value?.color})},{default:h(()=>[u(Z,{class:"mr-2"},{default:h(()=>[...p[141]||(p[141]=[D("mdi-shield-check",-1)])]),_:1}),D(" Verifiable User Stats: "+k(v.value?.login),1)]),_:1},8,["style"]),u(gt,{class:"pa-0"},{default:h(()=>[y.value.length>0?(R(),H("div",Sm,[c("div",{class:"pa-4 text-caption",style:Q({backgroundColor:i.value?"#16213e":"#f0f4f8",borderBottom:"1px solid #e2e8f0"})},[c("div",Dm,[u(Z,{size:"x-small",color:"primary",class:"mr-1"},{default:h(()=>[...p[142]||(p[142]=[D("mdi-information",-1)])]),_:1}),p[143]||(p[143]=c("strong",{class:"text-primary"},"GitHub API Transparency Note:",-1))]),p[144]||(p[144]=D(" GitHub only provides the ",-1)),p[145]||(p[145]=c("strong",null,"Last Activity",-1)),p[146]||(p[146]=D(" timestamp per user. Daily activity logs are aggregated and not available for specific usernames. ",-1))],4),c("div",Tm,[p[147]||(p[147]=c("div",{class:"text-subtitle-2 mb-3 font-weight-bold"},"Real Data Points Found:",-1)),u(co,{density:"compact",class:"bg-transparent pa-0"},{default:h(()=>[(R(!0),H(Lt,null,ne(y.value,(b,$)=>(R(),tt(Ze,{key:$,class:"px-0 py-2"},{prepend:h(()=>[u(ee,{color:b.color,size:"32",class:"mr-3"},{default:h(()=>[u(Z,{color:"white",size:"18"},{default:h(()=>[D(k(b.icon),1)]),_:2},1024)]),_:2},1032,["color"])]),default:h(()=>[u(Gi,{class:"font-weight-bold",style:{"font-size":"0.95rem"}},{default:h(()=>[D(k(b.status),1)]),_:2},1024),u(Pc,{class:"text-caption mt-1"},{default:h(()=>[c("div",Am,k(b.displayDate),1),b.details?(R(),H("div",Mm,k(b.details),1)):st("",!0)]),_:2},1024)]),_:2},1024))),128))]),_:1})])])):(R(),H("div",Pm," No real-time usage data returned for this seat ID. "))]),_:1}),u(ge,{class:"pa-4 border-t"},{default:h(()=>[u(re),u(rt,{variant:"elevated",color:g.value?.color,onClick:p[24]||(p[24]=b=>m.value=!1)},{default:h(()=>[...p[148]||(p[148]=[D("Close",-1)])]),_:1},8,["color"])]),_:1})]),_:1},8,["style"])]),_:1},8,["modelValue"]),u(ve,{modelValue:x.value,"onUpdate:modelValue":p[27]||(p[27]=b=>x.value=b),"max-width":"700px"},{default:h(()=>[u(E,{class:"metric-details-card",style:Q({backgroundColor:i.value?"#1a1f2e":"#ffffff",color:i.value?"#cbd5e1":"#334155"})},{default:h(()=>[u(St,{class:"pa-5 border-b",style:{color:"#ef4444"}},{default:h(()=>[u(Z,{class:"mr-2"},{default:h(()=>[...p[149]||(p[149]=[D("mdi-account-slash",-1)])]),_:1}),D(" Inactive Users List ("+k(w.value.length)+") ",1)]),_:1}),u(gt,{class:"pa-0"},{default:h(()=>[w.value.length>0?(R(),H("div",Rm,[c("div",{class:"pa-4 text-caption",style:Q({backgroundColor:i.value?"#16213e":"#f0f4f8",borderBottom:"1px solid #e2e8f0"})},[c("div",$m,[u(Z,{size:"x-small",color:"warning",class:"mr-1"},{default:h(()=>[...p[150]||(p[150]=[D("mdi-information",-1)])]),_:1}),p[151]||(p[151]=c("strong",{class:"text-warning"},"Inactive Users Definition:",-1))]),p[152]||(p[152]=D(" Users with no activity in the last 2 weeks (14 days) ",-1))],4),c("div",Lm,[u(vs,{density:"compact",theme:i.value?"dark":"light"},{default:h(()=>[p[153]||(p[153]=c("thead",null,[c("tr",null,[c("th",{style:{"text-align":"left","font-weight":"bold"}},"User"),c("th",{style:{"text-align":"left","font-weight":"bold"}},"Last Activity")])],-1)),c("tbody",null,[(R(!0),H(Lt,null,ne(w.value,b=>(R(),H("tr",{key:b.id,style:Q({borderBottom:"1px solid "+(i.value?"#2d3748":"#e2e8f0")})},[c("td",Em,[c("div",Om,[u(ee,{color:"#ef4444",size:"32",class:"mr-2"},{default:h(()=>[c("span",zm,k(b.login?.charAt(0).toUpperCase()||"?"),1)]),_:2},1024),c("div",null,[c("div",Im,k(b.login||"Unknown User"),1),c("div",Um,k(b.id),1)])])]),c("td",Vm,[c("div",Bm,k(b.lastActivityFormatted),1),b.last_activity_at?(R(),H("div",Fm,k(new Date(b.last_activity_at).toLocaleString()),1)):(R(),H("div",Hm,"No activity recorded"))])],4))),128))])]),_:1},8,["theme"])])])):(R(),H("div",Nm," No inactive users found. All users have activity within the last 2 weeks! "))]),_:1}),u(ge,{class:"pa-4 border-t"},{default:h(()=>[u(re),u(rt,{variant:"elevated",color:"error",onClick:p[26]||(p[26]=b=>x.value=!1)},{default:h(()=>[...p[154]||(p[154]=[D("Close",-1)])]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["modelValue"]),u(ve,{modelValue:C.value,"onUpdate:modelValue":p[29]||(p[29]=b=>C.value=b),"max-width":"700px"},{default:h(()=>[u(E,{class:"metric-details-card",style:Q({backgroundColor:i.value?"#1a1f2e":"#ffffff",color:i.value?"#cbd5e1":"#334155"})},{default:h(()=>[u(St,{class:"pa-5 border-b",style:{color:"#20b2aa"}},{default:h(()=>[u(Z,{class:"mr-2"},{default:h(()=>[...p[155]||(p[155]=[D("mdi-lightning-bolt",-1)])]),_:1}),D(" Power Users List ("+k(M.value.length)+") ",1)]),_:1}),u(gt,{class:"pa-0"},{default:h(()=>[M.value.length>0?(R(),H("div",Wm,[c("div",{class:"pa-4 text-caption",style:Q({backgroundColor:i.value?"#16213e":"#f0f4f8",borderBottom:"1px solid #e2e8f0"})},[c("div",jm,[u(Z,{size:"x-small",color:"success",class:"mr-1"},{default:h(()=>[...p[156]||(p[156]=[D("mdi-information",-1)])]),_:1}),p[157]||(p[157]=c("strong",{class:"text-success"},"Power Users Definition:",-1))]),p[158]||(p[158]=D(" Users actively using Copilot daily or within the last 7 days ",-1))],4),c("div",Gm,[u(vs,{density:"compact",theme:i.value?"dark":"light"},{default:h(()=>[p[159]||(p[159]=c("thead",null,[c("tr",null,[c("th",{style:{"text-align":"left","font-weight":"bold"}},"User"),c("th",{style:{"text-align":"left","font-weight":"bold"}},"Last Activity"),c("th",{style:{"text-align":"left","font-weight":"bold"}},"Months / Weeks / Days")])],-1)),c("tbody",null,[(R(!0),H(Lt,null,ne(M.value,b=>(R(),H("tr",{key:b.id,style:Q({borderBottom:"1px solid "+(i.value?"#2d3748":"#e2e8f0")})},[c("td",Ym,[c("div",qm,[u(ee,{color:"#20b2aa",size:"32",class:"mr-2"},{default:h(()=>[c("span",Xm,k(b.login?.charAt(0).toUpperCase()||"?"),1)]),_:2},1024),c("div",null,[c("div",Km,k(b.login||"Unknown User"),1),c("div",Jm,k(b.id),1)])])]),c("td",Zm,[c("div",Qm,k(b.lastActivityFormatted),1),b.last_activity_at?(R(),H("div",tv,k(new Date(b.last_activity_at).toLocaleString()),1)):(R(),H("div",ev,"Recently active"))]),c("td",sv,[b.timeSinceActivity?(R(),H("div",iv,k(b.timeSinceActivity),1)):st("",!0),b.timeSinceActivity?(R(),H("div",ov,"since last use")):(R(),H("div",nv,"N/A"))])],4))),128))])]),_:1},8,["theme"])])])):(R(),H("div",av," No power users found. Users need activity within the last 7 days to be classified as Power Users. "))]),_:1}),u(ge,{class:"pa-4 border-t"},{default:h(()=>[u(re),u(rt,{variant:"elevated",color:"success",onClick:p[28]||(p[28]=b=>C.value=!1)},{default:h(()=>[...p[160]||(p[160]=[D("Close",-1)])]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["modelValue"]),u(ve,{modelValue:T.value,"onUpdate:modelValue":p[31]||(p[31]=b=>T.value=b),"max-width":"700px"},{default:h(()=>[u(E,{class:"metric-details-card",style:Q({backgroundColor:i.value?"#1a1f2e":"#ffffff",color:i.value?"#cbd5e1":"#334155"})},{default:h(()=>[u(St,{class:"pa-5 border-b",style:{color:"#0284c7"}},{default:h(()=>[u(Z,{class:"mr-2"},{default:h(()=>[...p[161]||(p[161]=[D("mdi-account-check",-1)])]),_:1}),D(" Regular Users List ("+k(S.value.length)+") ",1)]),_:1}),u(gt,{class:"pa-0"},{default:h(()=>[S.value.length>0?(R(),H("div",lv,[c("div",{class:"pa-4 text-caption",style:Q({backgroundColor:i.value?"#16213e":"#f0f4f8",borderBottom:"1px solid #e2e8f0"})},[c("div",rv,[u(Z,{size:"x-small",color:"info",class:"mr-1"},{default:h(()=>[...p[162]||(p[162]=[D("mdi-information",-1)])]),_:1}),p[163]||(p[163]=c("strong",{class:"text-info"},"Regular Users Definition:",-1))]),p[164]||(p[164]=D(" Users with activity between 7-13 days ago (1 week to 1 week 6 days) ",-1))],4),c("div",cv,[u(vs,{density:"compact",theme:i.value?"dark":"light"},{default:h(()=>[p[165]||(p[165]=c("thead",null,[c("tr",null,[c("th",{style:{"text-align":"left","font-weight":"bold"}},"User"),c("th",{style:{"text-align":"left","font-weight":"bold"}},"Last Activity"),c("th",{style:{"text-align":"left","font-weight":"bold"}},"Months / Weeks / Days")])],-1)),c("tbody",null,[(R(!0),H(Lt,null,ne(S.value,b=>(R(),H("tr",{key:b.id,style:Q({borderBottom:"1px solid "+(i.value?"#2d3748":"#e2e8f0")})},[c("td",dv,[c("div",uv,[u(ee,{color:"#0284c7",size:"32",class:"mr-2"},{default:h(()=>[c("span",hv,k(b.login?.charAt(0).toUpperCase()||"?"),1)]),_:2},1024),c("div",null,[c("div",fv,k(b.login||"Unknown User"),1),c("div",pv,k(b.id),1)])])]),c("td",gv,[c("div",mv,k(b.lastActivityFormatted),1),b.last_activity_at?(R(),H("div",vv,k(new Date(b.last_activity_at).toLocaleString()),1)):st("",!0)]),c("td",bv,[b.timeSinceActivity?(R(),H("div",yv,k(b.timeSinceActivity),1)):st("",!0),b.timeSinceActivity?(R(),H("div",_v,"since last use")):(R(),H("div",xv,"N/A"))])],4))),128))])]),_:1},8,["theme"])])])):(R(),H("div",wv," No regular users found. Users need activity within 7-13 days to be classified as Regular Users. "))]),_:1}),u(ge,{class:"pa-4 border-t"},{default:h(()=>[u(re),u(rt,{variant:"elevated",color:"info",onClick:p[30]||(p[30]=b=>T.value=!1)},{default:h(()=>[...p[166]||(p[166]=[D("Close",-1)])]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["modelValue"]),u(ve,{modelValue:A.value,"onUpdate:modelValue":p[33]||(p[33]=b=>A.value=b),"max-width":"700px"},{default:h(()=>[u(E,{class:"metric-details-card",style:Q({backgroundColor:i.value?"#1a1f2e":"#ffffff",color:i.value?"#cbd5e1":"#334155"})},{default:h(()=>[u(St,{class:"pa-5 border-b",style:{color:"#06b6d4"}},{default:h(()=>[u(Z,{class:"mr-2"},{default:h(()=>[...p[167]||(p[167]=[D("mdi-account-clock",-1)])]),_:1}),D(" Occasional Users List ("+k(z.value.length)+") ",1)]),_:1}),u(gt,{class:"pa-0"},{default:h(()=>[z.value.length>0?(R(),H("div",kv,[c("div",{class:"pa-4 text-caption",style:Q({backgroundColor:i.value?"#16213e":"#f0f4f8",borderBottom:"1px solid #e2e8f0"})},[c("div",Cv,[u(Z,{size:"x-small",color:"cyan",class:"mr-1"},{default:h(()=>[...p[168]||(p[168]=[D("mdi-information",-1)])]),_:1}),p[169]||(p[169]=c("strong",{style:{color:"#06b6d4"}},"Occasional Users Definition:",-1))]),p[170]||(p[170]=D(" Users with sporadic activity within the last 2 weeks ",-1))],4),c("div",Sv,[u(vs,{density:"compact",theme:i.value?"dark":"light"},{default:h(()=>[p[171]||(p[171]=c("thead",null,[c("tr",null,[c("th",{style:{"text-align":"left","font-weight":"bold"}},"User"),c("th",{style:{"text-align":"left","font-weight":"bold"}},"Last Activity"),c("th",{style:{"text-align":"left","font-weight":"bold"}},"Months / Weeks / Days")])],-1)),c("tbody",null,[(R(!0),H(Lt,null,ne(z.value,b=>(R(),H("tr",{key:b.id,style:Q({borderBottom:"1px solid "+(i.value?"#2d3748":"#e2e8f0")})},[c("td",Dv,[c("div",Tv,[u(ee,{color:"#06b6d4",size:"32",class:"mr-2"},{default:h(()=>[c("span",Av,k(b.login?.charAt(0).toUpperCase()||"?"),1)]),_:2},1024),c("div",null,[c("div",Mv,k(b.login||"Unknown User"),1),c("div",Pv,k(b.id),1)])])]),c("td",Rv,[c("div",$v,k(b.lastActivityFormatted),1),b.last_activity_at?(R(),H("div",Lv,k(new Date(b.last_activity_at).toLocaleString()),1)):st("",!0)]),c("td",Ev,[b.timeSinceActivity?(R(),H("div",Ov,k(b.timeSinceActivity),1)):st("",!0),b.timeSinceActivity?(R(),H("div",zv,"since last use")):(R(),H("div",Iv,"N/A"))])],4))),128))])]),_:1},8,["theme"])])])):(R(),H("div",Uv," No occasional users found. Users need activity within the last 2 weeks to be classified as Occasional Users. "))]),_:1}),u(ge,{class:"pa-4 border-t"},{default:h(()=>[u(re),u(rt,{variant:"elevated",color:"cyan",onClick:p[32]||(p[32]=b=>A.value=!1)},{default:h(()=>[...p[172]||(p[172]=[D("Close",-1)])]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["modelValue"]),u(ve,{modelValue:F.value,"onUpdate:modelValue":p[35]||(p[35]=b=>F.value=b),"max-width":"700px"},{default:h(()=>[u(E,{class:"metric-details-card",style:Q({backgroundColor:i.value?"#1a1f2e":"#ffffff",color:i.value?"#cbd5e1":"#334155"})},{default:h(()=>[u(St,{class:"pa-5 border-b",style:{color:"#ef4444"}},{default:h(()=>[u(Z,{class:"mr-2"},{default:h(()=>[...p[173]||(p[173]=[D("mdi-account-slash",-1)])]),_:1}),D(" Non-Users List ("+k(N.value.length)+") ",1)]),_:1}),u(gt,{class:"pa-0"},{default:h(()=>[N.value.length>0?(R(),H("div",Vv,[c("div",{class:"pa-4 text-caption",style:Q({backgroundColor:i.value?"#16213e":"#f0f4f8",borderBottom:"1px solid #e2e8f0"})},[c("div",Bv,[u(Z,{size:"x-small",color:"error",class:"mr-1"},{default:h(()=>[...p[174]||(p[174]=[D("mdi-information",-1)])]),_:1}),p[175]||(p[175]=c("strong",{class:"text-error"},"Non-Users Definition:",-1))]),p[176]||(p[176]=D(" Licensed users with no activity for 2 weeks or more (14+ days) ",-1))],4),c("div",Fv,[u(vs,{density:"compact",theme:i.value?"dark":"light"},{default:h(()=>[p[177]||(p[177]=c("thead",null,[c("tr",null,[c("th",{style:{"text-align":"left","font-weight":"bold"}},"User"),c("th",{style:{"text-align":"left","font-weight":"bold"}},"Last Activity"),c("th",{style:{"text-align":"left","font-weight":"bold"}},"Months / Weeks / Days")])],-1)),c("tbody",null,[(R(!0),H(Lt,null,ne(N.value,b=>(R(),H("tr",{key:b.id,style:Q({borderBottom:"1px solid "+(i.value?"#2d3748":"#e2e8f0")})},[c("td",Hv,[c("div",Nv,[u(ee,{color:"#ef4444",size:"32",class:"mr-2"},{default:h(()=>[c("span",Wv,k(b.login?.charAt(0).toUpperCase()||"?"),1)]),_:2},1024),c("div",null,[c("div",jv,k(b.login||"Unknown User"),1),c("div",Gv,k(b.id),1)])])]),c("td",Yv,[c("div",qv,k(b.lastActivityFormatted),1),b.last_activity_at?(R(),H("div",Xv,k(new Date(b.last_activity_at).toLocaleString()),1)):(R(),H("div",Kv,"No activity recorded"))]),c("td",Jv,[b.timeSinceActivity?(R(),H("div",Zv,k(b.timeSinceActivity),1)):st("",!0),b.timeSinceActivity?(R(),H("div",Qv,"since last use")):(R(),H("div",t1,"N/A"))])],4))),128))])]),_:1},8,["theme"])])])):(R(),H("div",e1," No non-users found. All users have activity within the last 2 weeks! "))]),_:1}),u(ge,{class:"pa-4 border-t"},{default:h(()=>[u(re),u(rt,{variant:"elevated",color:"error",onClick:p[34]||(p[34]=b=>F.value=!1)},{default:h(()=>[...p[178]||(p[178]=[D("Close",-1)])]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["modelValue"]),u(ve,{modelValue:I.value,"onUpdate:modelValue":p[37]||(p[37]=b=>I.value=b),"max-width":"700px"},{default:h(()=>[u(E,{class:"metric-details-card",style:Q({backgroundColor:i.value?"#1a1f2e":"#ffffff",color:i.value?"#cbd5e1":"#334155"})},{default:h(()=>[u(St,{class:"pa-5 border-b",style:{color:"#f59e0b"}},{default:h(()=>[u(Z,{class:"mr-2"},{default:h(()=>[...p[179]||(p[179]=[D("mdi-clock-outline",-1)])]),_:1}),D(" Pending Invites List ("+k(B.value.length)+") ",1)]),_:1}),u(gt,{class:"pa-0"},{default:h(()=>[B.value.length>0?(R(),H("div",s1,[c("div",{class:"pa-4 text-caption",style:Q({backgroundColor:i.value?"#16213e":"#f0f4f8",borderBottom:"1px solid #e2e8f0"})},[c("div",i1,[u(Z,{size:"x-small",color:"warning",class:"mr-1"},{default:h(()=>[...p[180]||(p[180]=[D("mdi-information",-1)])]),_:1}),p[181]||(p[181]=c("strong",{class:"text-warning"},"Pending Invites Definition:",-1))]),p[182]||(p[182]=D(" Newly activated licenses awaiting user setup in their IDE. License is active but not yet integrated. ",-1))],4),c("div",o1,[u(vs,{density:"compact",theme:i.value?"dark":"light"},{default:h(()=>[p[184]||(p[184]=c("thead",null,[c("tr",null,[c("th",{style:{"text-align":"left","font-weight":"bold"}},"User"),c("th",{style:{"text-align":"left","font-weight":"bold"}},"Activation Date")])],-1)),c("tbody",null,[(R(!0),H(Lt,null,ne(B.value,b=>(R(),H("tr",{key:b.id,style:Q({borderBottom:"1px solid "+(i.value?"#2d3748":"#e2e8f0")})},[c("td",n1,[c("div",a1,[u(ee,{color:"#f59e0b",size:"32",class:"mr-2"},{default:h(()=>[c("span",l1,k(b.login?.charAt(0).toUpperCase()||"?"),1)]),_:2},1024),c("div",null,[c("div",r1,k(b.login||"Unknown User"),1),c("div",c1,k(b.id),1)])])]),c("td",d1,[c("div",u1,k(b.activationFormatted),1),b.activationDate?(R(),H("div",h1,"License activated")):st("",!0),p[183]||(p[183]=c("div",{style:{"font-size":"0.85rem",color:"#f59e0b","margin-top":"4px","font-style":"italic"}}," Awaiting setup",-1))])],4))),128))])]),_:1},8,["theme"])])])):(R(),H("div",f1," No pending invites found. All users have either completed setup or been activated previously. "))]),_:1}),u(ge,{class:"pa-4 border-t"},{default:h(()=>[u(re),u(rt,{variant:"elevated",color:"warning",onClick:p[36]||(p[36]=b=>I.value=!1)},{default:h(()=>[...p[185]||(p[185]=[D("Close",-1)])]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["modelValue"]),u(ve,{modelValue:V.value,"onUpdate:modelValue":p[39]||(p[39]=b=>V.value=b),"max-width":"700px"},{default:h(()=>[u(E,{class:"metric-details-card",style:Q({backgroundColor:i.value?"#1a1f2e":"#ffffff",color:i.value?"#cbd5e1":"#334155"})},{default:h(()=>[u(St,{class:"pa-5 border-b",style:{color:"#ef4444"}},{default:h(()=>[u(Z,{class:"mr-2"},{default:h(()=>[...p[186]||(p[186]=[D("mdi-close-circle-outline",-1)])]),_:1}),D(" Revoked Licenses List ("+k(K.value.length)+") ",1)]),_:1}),u(gt,{class:"pa-0"},{default:h(()=>[K.value.length>0?(R(),H("div",p1,[c("div",{class:"pa-4 text-caption",style:Q({backgroundColor:i.value?"#1e1b1b":"#fef2f2",borderBottom:"1px solid #fee2e2"})},[c("div",g1,[u(Z,{size:"x-small",color:"error",class:"mr-1"},{default:h(()=>[...p[187]||(p[187]=[D("mdi-information",-1)])]),_:1}),p[188]||(p[188]=c("strong",{style:{color:"#ef4444"}},"Revoked Licenses Definition:",-1))]),p[189]||(p[189]=D(" Users whose licenses have been revoked. ",-1))],4),c("div",m1,[u(vs,{density:"compact",theme:i.value?"dark":"light"},{default:h(()=>[p[191]||(p[191]=c("thead",null,[c("tr",null,[c("th",{style:{"text-align":"left","font-weight":"bold"}},"User"),c("th",{style:{"text-align":"left","font-weight":"bold"}},"Removal Date")])],-1)),c("tbody",null,[(R(!0),H(Lt,null,ne(K.value,b=>(R(),H("tr",{key:b.id,style:Q({borderBottom:"1px solid "+(i.value?"#2d3748":"#e2e8f0")})},[c("td",v1,[c("div",b1,[u(ee,{color:"#ef4444",size:"32",class:"mr-2"},{default:h(()=>[c("span",y1,k(b.login?.charAt(0).toUpperCase()||"?"),1)]),_:2},1024),c("div",null,[c("div",_1,k(b.login||"Unknown User"),1),c("div",x1,k(b.id),1)])])]),c("td",w1,[c("div",k1,k(b.revokeDateFormatted),1),p[190]||(p[190]=c("div",{style:{"font-size":"0.85rem",color:"#94a3b8","margin-top":"2px"}},"Removal scheduled",-1)),c("div",C1," Access will be removed on "+k(b.revokeDate),1)])],4))),128))])]),_:1},8,["theme"])])])):(R(),H("div",S1," No revoked licenses found. All licenses are active. "))]),_:1}),u(ge,{class:"pa-4 border-t"},{default:h(()=>[u(rt,{variant:"outlined",color:"error","prepend-icon":"mdi-account-alert",onClick:$n},{default:h(()=>[...p[192]||(p[192]=[D(" View Users ",-1)])]),_:1}),u(re),u(rt,{variant:"elevated",color:"error",onClick:p[38]||(p[38]=b=>V.value=!1)},{default:h(()=>[...p[193]||(p[193]=[D("Close",-1)])]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["modelValue"])],2))}}),_r=Object.assign(De(D1,[["__scopeId","data-v-dae59572"]]),{__name:"CopilotMetricsDashboard"});we.register(Js,ds,us,Ls,as,ns,rs,cs,ls);const T1=ae({name:"MetricsViewer",components:{Line:es,Bar:Di},props:{metrics:{type:Array,required:!0},dateRangeDescription:{type:String,default:"Over the last 28 days"}},setup(e){const t=O(0),s=O(0),i=O(0),o=O(0),n=O(0),a=O(0),l=O({labels:[],datasets:[]}),r=O({labels:[],datasets:[]}),d=O({labels:[],datasets:[]}),f=O({labels:[],datasets:[]}),g=O({labels:[],datasets:[]}),m={responsive:!0,maintainAspectRatio:!0,height:300,width:300,layout:{padding:{left:150,right:150,top:20,bottom:40}}},v={responsive:!0,maintainAspectRatio:!0,scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}},layout:{padding:{left:50,right:50,top:50,bottom:50}}};return rl(()=>{const y=Dt(e,"metrics").value;if(!y||y.length===0)return;i.value=0;const x=y.map(S=>(i.value+=S.total_suggestions_count,S.total_suggestions_count));o.value=0;const w=y.map(S=>(o.value+=S.total_acceptances_count,S.total_acceptances_count));d.value={labels:y.map(S=>S.day),datasets:[{label:"Total Suggestions",data:x,backgroundColor:"rgba(75, 192, 192, 0.2)",borderColor:"rgba(75, 192, 192, 1)"},{label:"Total Acceptance",data:w,backgroundColor:"rgba(153, 102, 255, 0.2)",borderColor:"rgba(153, 102, 255, 1)"}]},n.value=0;const C=y.map(S=>{const A=S.total_lines_accepted;return n.value+=A,A});f.value={labels:y.map(S=>S.day),datasets:[{label:"Total Lines Suggested",data:y.map(S=>S.total_lines_suggested),backgroundColor:"rgba(75, 192, 192, 0.2)",borderColor:"rgba(75, 192, 192, 1)"},{label:"Total Lines Accepted",data:C,backgroundColor:"rgba(153, 102, 255, 0.2)",borderColor:"rgba(153, 102, 255, 1)"}]};const M=y.map(S=>S.total_lines_suggested!==0?S.total_lines_accepted/S.total_lines_suggested*100:0),T=y.map(S=>S.total_suggestions_count!==0?S.total_acceptances_count/S.total_suggestions_count*100:0);l.value={labels:y.map(S=>S.day),datasets:[{type:"line",label:"Acceptance Rate by Lines",data:M,backgroundColor:"rgba(173, 216, 230, 0.2)",borderColor:"rgba(173, 216, 230, 1)",fill:!1}]},r.value={labels:y.map(S=>S.day),datasets:[{type:"line",label:"Acceptance Rate by Count",data:T,backgroundColor:"rgba(173, 216, 230, 0.2)",borderColor:"rgba(173, 216, 230, 1)",fill:!1}]},a.value=y.reduce((S,A)=>S+A.total_lines_suggested,0),a.value===0?t.value=0:t.value=n.value/a.value*100,i.value===0?s.value=0:s.value=o.value/i.value*100,g.value={labels:y.map(S=>S.day),datasets:[{label:"Total Active Users",data:y.map(S=>S.total_active_users),backgroundColor:"rgba(0, 0, 139, 0.2)",borderColor:"rgba(255, 99, 132, 1)"}]}}),{totalSuggestionsAndAcceptanceChartData:d,chartData:f,chartOptions:m,totalActiveUsersChartData:g,totalActiveUsersChartOptions:v,acceptanceRateByLinesChartData:l,acceptanceRateByCountChartData:r,acceptanceRateAverageByLines:t,acceptanceRateAverageByCount:s,cumulativeNumberSuggestions:i,cumulativeNumberAcceptances:o,cumulativeNumberLOCAccepted:n,totalLinesSuggested:a}},data(){return{data:{labels:["VueJs","EmberJs","ReactJs","AngularJs"],datasets:[{backgroundColor:["#41B883","#E46651","#00D8FF","#DD1B16"],data:[40,20,80,10]}]},options:{responsive:!0,maintainAspectRatio:!1}}}}),A1={class:"tiles-container"},M1={class:"tiles-text"},P1={class:"text-caption"},R1={class:"text-h4"},$1={class:"tiles-text"},L1={class:"text-caption"},E1={class:"text-h4"},O1={class:"tiles-text"},z1={class:"text-caption"},I1={class:"text-h4"},U1={class:"tiles-text"},V1={class:"text-caption"},B1={class:"text-h4"};function F1(e,t,s,i,o,n){const a=Se("Bar"),l=Se("Line");return R(),H("div",null,[c("div",A1,[u(E,{elevation:"4",color:"white",variant:"elevated",class:"mx-auto my-3",style:{width:"300px",height:"175px"}},{default:h(()=>[u(ht,null,{default:h(()=>[c("div",M1,[t[1]||(t[1]=c("div",{class:"spacing-25"},null,-1)),u(Y,{location:"bottom start","open-on-hover":"","open-delay":"200","close-delay":"200"},{activator:h(({props:r})=>[c("div",W(r,{class:"text-h6 mb-1"}),"Acceptance Rate (by count)",16)]),default:h(()=>[u(E,{class:"pa-2",style:{"background-color":"#f0f0f0","max-width":"350px"}},{default:h(()=>[...t[0]||(t[0]=[c("span",{class:"text-caption",style:{"font-size":"10px !important"}},`This metric represents the ratio of accepted suggestions to the total suggestions made by GitHub Copilot. This rate indicates the relevance and usefulness of Copilot's suggestions based on the number of prompts, but should be used with caution as developers use Copilot in various ways (research, confirm, verify, etc., not always "inject").`,-1)])]),_:1})]),_:1}),c("div",P1,k(e.dateRangeDescription),1),c("p",R1,k(e.acceptanceRateAverageByCount.toFixed(2))+"%",1)])]),_:1})]),_:1}),u(E,{elevation:"4",color:"white",variant:"elevated",class:"mx-auto my-3",style:{width:"300px",height:"175px"}},{default:h(()=>[u(ht,null,{default:h(()=>[c("div",$1,[t[3]||(t[3]=c("div",{class:"spacing-10"},null,-1)),u(Y,{location:"bottom start","open-on-hover":"","open-delay":"200","close-delay":"200"},{activator:h(({props:r})=>[c("div",W(r,{class:"text-h6 mb-1"}),"Total count of Suggestions (Prompts)",16)]),default:h(()=>[u(E,{class:"pa-2",style:{"background-color":"#f0f0f0","max-width":"350px"}},{default:h(()=>[...t[2]||(t[2]=[c("span",{class:"text-caption",style:{"font-size":"10px !important"}},"This chart illustrates the total number of code suggestions made by GitHub Copilot. It offers a view of the tool's activity and its engagement with users over time.",-1)])]),_:1})]),_:1}),c("div",L1,k(e.dateRangeDescription),1),c("p",E1,k(e.cumulativeNumberSuggestions),1)])]),_:1})]),_:1}),u(E,{elevation:"4",color:"white",variant:"elevated",class:"mx-auto my-3",style:{width:"300px",height:"175px"}},{default:h(()=>[u(ht,null,{default:h(()=>[t[5]||(t[5]=c("div",{class:"spacing-25"},null,-1)),c("div",O1,[u(Y,{location:"bottom start","open-on-hover":"","open-delay":"200","close-delay":"200"},{activator:h(({props:r})=>[c("div",W(r,{class:"text-h6 mb-1"}),"Acceptance Rate (by lines)",16)]),default:h(()=>[u(E,{class:"pa-2",style:{"background-color":"#f0f0f0","max-width":"350px"}},{default:h(()=>[...t[4]||(t[4]=[c("span",{class:"text-caption",style:{"font-size":"10px !important"}},`This metric represents the ratio of accepted lines of code to the total lines suggested by GitHub Copilot. This rate indicates the relevance and usefulness of Copilot's suggestions based on the volume of code, but should be used with caution as developers use Copilot in various ways (research, confirm, verify, etc., not always "inject").`,-1)])]),_:1})]),_:1}),c("div",z1,k(e.dateRangeDescription),1),c("p",I1,k(e.acceptanceRateAverageByLines.toFixed(2))+"%",1)])]),_:1})]),_:1}),u(E,{elevation:"4",color:"white",variant:"elevated",class:"mx-auto my-3",style:{width:"300px",height:"175px"}},{default:h(()=>[u(ht,null,{default:h(()=>[c("div",U1,[t[7]||(t[7]=c("div",{class:"spacing-10"},null,-1)),u(Y,{location:"bottom start","open-on-hover":"","open-delay":"200","close-delay":"200"},{activator:h(({props:r})=>[c("div",W(r,{class:"text-h6 mb-1"}),"Total Lines of code Suggested",16)]),default:h(()=>[u(E,{class:"pa-2",style:{"background-color":"#f0f0f0","max-width":"350px"}},{default:h(()=>[...t[6]||(t[6]=[c("span",{class:"text-caption",style:{"font-size":"10px !important"}},"Showcases the total number of lines of code suggested by GitHub Copilot. This gives an idea of the volume of code generation and assistance provided.",-1)])]),_:1})]),_:1}),c("div",V1,k(e.dateRangeDescription),1),c("p",B1,k(e.totalLinesSuggested),1)])]),_:1})]),_:1})]),u(ss,{class:"p-1",style:{"min-height":"300px"}},{default:h(()=>[u(Vt,{style:{"min-height":"300px"},class:"px-4 elevation-2"},{default:h(()=>[u(Y,{location:"bottom start","open-on-hover":"","open-delay":"200","close-delay":"200"},{activator:h(({props:r})=>[c("h2",Ss(Fs(r)),"Acceptance rate by count (%)",16)]),default:h(()=>[u(E,{class:"pa-2",style:{"background-color":"#f0f0f0","max-width":"350px"}},{default:h(()=>[...t[8]||(t[8]=[c("span",{class:"text-caption",style:{"font-size":"10px !important"}},`This metric represents the ratio of accepted suggestions to the total suggestions made by GitHub Copilot. This rate indicates the relevance and usefulness of Copilot's suggestions based on the number of prompts, but should be used with caution as developers use Copilot in various ways (research, confirm, verify, etc., not always "inject").`,-1)])]),_:1})]),_:1}),u(a,{data:e.acceptanceRateByCountChartData,options:e.chartOptions},null,8,["data","options"]),u(Y,{location:"bottom start","open-on-hover":"","open-delay":"200","close-delay":"200"},{activator:h(({props:r})=>[c("h2",W(r,{class:"mb-1"}),"Total Suggestions Count | Total Acceptances Count",16)]),default:h(()=>[u(E,{class:"pa-2",style:{"background-color":"#f0f0f0","max-width":"350px"}},{default:h(()=>[...t[9]||(t[9]=[c("span",{class:"text-caption",style:{"font-size":"10px !important"}},"This visualization focuses on the total number of suggestions accepted by users.",-1)])]),_:1})]),_:1}),u(l,{data:e.totalSuggestionsAndAcceptanceChartData,options:e.chartOptions},null,8,["data","options"]),u(Y,{location:"bottom start","open-on-hover":"","open-delay":"200","close-delay":"200"},{activator:h(({props:r})=>[c("h2",Ss(Fs(r)),"Acceptance rate by lines (%)",16)]),default:h(()=>[u(E,{class:"pa-2",style:{"background-color":"#f0f0f0","max-width":"350px"}},{default:h(()=>[...t[10]||(t[10]=[c("span",{class:"text-caption",style:{"font-size":"10px !important"}},`This metric represents the ratio of accepted lines of code to the total lines suggested by GitHub Copilot. This rate indicates the relevance and usefulness of Copilot's suggestions based on the volume of code, but should be used with caution as developers use Copilot in various ways (research, confirm, verify, etc., not always "inject").`,-1)])]),_:1})]),_:1}),u(a,{data:e.acceptanceRateByLinesChartData,options:e.chartOptions},null,8,["data","options"]),u(Y,{location:"bottom start","open-on-hover":"","open-delay":"200","close-delay":"200"},{activator:h(({props:r})=>[c("h2",W(r,{class:"mb-1"}),"Total Lines Suggested | Total Lines Accepted",16)]),default:h(()=>[u(E,{class:"pa-2",style:{"background-color":"#f0f0f0","max-width":"350px"}},{default:h(()=>[...t[11]||(t[11]=[c("span",{class:"text-caption",style:{"font-size":"10px !important"}},"As the name suggests, the total lines of code accepted by users (full acceptances) offering insights into how much of the suggested code is actually being utilized and incorporated into the codebase.",-1)])]),_:1})]),_:1}),u(l,{data:e.chartData,options:e.chartOptions},null,8,["data","options"]),u(Y,{location:"bottom start","open-on-hover":"","open-delay":"200","close-delay":"200"},{activator:h(({props:r})=>[c("h2",W(r,{class:"mb-1"}),"Total Active Users",16)]),default:h(()=>[u(E,{class:"pa-2",style:{"background-color":"#f0f0f0","max-width":"350px"}},{default:h(()=>[...t[12]||(t[12]=[c("span",{class:"text-caption",style:{"font-size":"10px !important"}},"Represents the number of active users engaging with GitHub Copilot. This helps in understanding the user base growth and adoption rate.",-1)])]),_:1})]),_:1}),u(a,{data:e.totalActiveUsersChartData,options:e.totalActiveUsersChartOptions},null,8,["data","options"])]),_:1})]),_:1})])}const xr=Object.assign(De(T1,[["render",F1]]),{__name:"MetricsViewer"});class Ce{since;until;isDataMocked;githubOrg;githubEnt;githubTeam;scope;excludeHolidays;locale;constructor(t={}){this.since=t.since,this.until=t.until,this.isDataMocked=t.isDataMocked,this.githubOrg=t.githubOrg,this.githubEnt=t.githubEnt,this.githubTeam=t.githubTeam,this.scope=t.scope,this.excludeHolidays=t.excludeHolidays,this.locale=t.locale}static fromRoute(t,s=void 0,i=void 0){const o=new Ce,n=Je();return s&&(o.since=s),i&&(o.until=i),(t.query.mock||n.public.isDataMocked)&&(o.isDataMocked=!0),t.params.org?(o.githubOrg=t.params.org,t.params.team?(o.githubTeam=t.params.team,o.scope="team-organization"):o.scope="organization"):t.params.ent?(o.githubEnt=t.params.ent,t.params.team?(o.githubTeam=t.params.team,o.scope="team-enterprise"):o.scope="enterprise"):(o.scope=n.public.scope||"organization",n.public.githubOrg&&(o.githubOrg=n.public.githubOrg),n.public.githubEnt&&(o.githubEnt=n.public.githubEnt),n.public.githubTeam&&(o.githubTeam=n.public.githubTeam)),o}static fromURLSearchParams(t){const s=new Ce({since:t.get("since")||void 0,until:t.get("until")||void 0,githubOrg:t.get("githubOrg")||void 0,githubEnt:t.get("githubEnt")||void 0,githubTeam:t.get("githubTeam")||void 0,scope:t.get("scope")||void 0,locale:t.get("locale")||void 0});return t.has("isDataMocked")&&(s.isDataMocked=t.get("isDataMocked")==="true"),t.has("excludeHolidays")&&(s.excludeHolidays=t.get("excludeHolidays")==="true"),s}static fromQuery(t){const s=new Ce({since:t.since,until:t.until,githubOrg:t.githubOrg,githubEnt:t.githubEnt,githubTeam:t.githubTeam,scope:t.scope||void 0,locale:t.locale});return t.isDataMocked!==void 0&&(s.isDataMocked=t.isDataMocked==="true"),t.excludeHolidays!==void 0&&(s.excludeHolidays=t.excludeHolidays==="true"),s}toQueryString(){return this.toURLSearchParams().toString()}toURLSearchParams(){const t=new URLSearchParams;return this.since&&t.set("since",this.since),this.until&&t.set("until",this.until),this.isDataMocked&&t.set("isDataMocked","true"),this.githubOrg&&t.set("githubOrg",this.githubOrg),this.githubEnt&&t.set("githubEnt",this.githubEnt),this.githubTeam&&t.set("githubTeam",this.githubTeam),this.scope&&t.set("scope",this.scope),this.excludeHolidays&&t.set("excludeHolidays","true"),this.locale&&t.set("locale",this.locale),t}toParams(){const t={};return this.since&&(t.since=this.since),this.until&&(t.until=this.until),this.isDataMocked&&(t.isDataMocked=String(this.isDataMocked)),this.githubOrg&&(t.githubOrg=this.githubOrg),this.githubEnt&&(t.githubEnt=this.githubEnt),this.githubTeam&&(t.githubTeam=this.githubTeam),this.scope&&(t.scope=this.scope),this.excludeHolidays&&(t.excludeHolidays=String(this.excludeHolidays)),this.locale&&(t.locale=this.locale),t}toObject(){const t={};return this.since!==void 0&&(t.since=this.since),this.until!==void 0&&(t.until=this.until),this.isDataMocked!==void 0&&(t.isDataMocked=this.isDataMocked),this.githubOrg!==void 0&&(t.githubOrg=this.githubOrg),this.githubEnt!==void 0&&(t.githubEnt=this.githubEnt),this.githubTeam!==void 0&&(t.githubTeam=this.githubTeam),this.scope!==void 0&&(t.scope=this.scope),this.excludeHolidays!==void 0&&(t.excludeHolidays=this.excludeHolidays),this.locale!==void 0&&(t.locale=this.locale),t}clone(){return new Ce(this.toObject())}merge(t){return new Ce({since:t.since??this.since,until:t.until??this.until,isDataMocked:t.isDataMocked??this.isDataMocked,githubOrg:t.githubOrg??this.githubOrg,githubEnt:t.githubEnt??this.githubEnt,githubTeam:t.githubTeam??this.githubTeam,scope:t.scope??this.scope,excludeHolidays:t.excludeHolidays??this.excludeHolidays,locale:t.locale??this.locale})}hasDateRange(){return!!(this.since||this.until)}hasGitHubConfig(){return!!(this.githubOrg||this.githubEnt)}getApiUrl(){const t="https://api.github.com";let s="";switch(this.scope){case"team-organization":if(!this.githubOrg||!this.githubTeam)throw new Error("GitHub organization and team must be set for team-organization scope");s=`${t}/orgs/${this.githubOrg}/team/${this.githubTeam}/copilot/metrics`;break;case"organization":if(!this.githubOrg)throw new Error("GitHub organization must be set for organization scope");s=`${t}/orgs/${this.githubOrg}/copilot/metrics`;break;case"team-enterprise":if(!this.githubEnt||!this.githubTeam)throw new Error("GitHub enterprise and team must be set for team-enterprise scope");s=`${t}/enterprises/${this.githubEnt}/team/${this.githubTeam}/copilot/metrics`;break;case"enterprise":if(!this.githubEnt)throw new Error("GitHub enterprise must be set for enterprise scope");s=`${t}/enterprises/${this.githubEnt}/copilot/metrics`;break;default:throw new Error(`Invalid scope: ${this.scope}`)}if(this.since||this.until){const i=[];this.since&&i.push(`since=${encodeURIComponent(this.since)}`),this.until&&i.push(`until=${encodeURIComponent(this.until)}`),s+=i.length>0?`?${i.join("&")}`:""}return s}getSeatsApiUrl(){const t="https://api.github.com";switch(this.scope){case"team-organization":case"organization":if(!this.githubOrg)throw new Error("GitHub organization must be set for organization scope");return`${t}/orgs/${this.githubOrg}/copilot/billing/seats`;case"team-enterprise":case"enterprise":if(!this.githubEnt)throw new Error("GitHub enterprise must be set for enterprise scope");return`${t}/enterprises/${this.githubEnt}/copilot/billing/seats`;default:throw new Error(`Invalid scope: ${this.scope}`)}}getTeamsApiUrl(){const t="https://api.github.com";switch(this.scope){case"team-organization":case"organization":if(!this.githubOrg)throw new Error("GitHub organization must be set for organization scope");return`${t}/orgs/${this.githubOrg}/teams`;case"team-enterprise":case"enterprise":if(!this.githubEnt)throw new Error("GitHub enterprise must be set for enterprise scope");return`${t}/enterprises/${this.githubEnt}/teams`;default:throw new Error(`Invalid scope: ${this.scope}`)}}getTeamMembersApiUrl(){const t="https://api.github.com";switch(this.scope){case"team-organization":case"organization":if(!this.githubOrg||!this.githubTeam)throw new Error("GitHub organization and team must be set for organization scope");return`${t}/orgs/${this.githubOrg}/teams/${this.githubTeam}/members`;case"team-enterprise":case"enterprise":if(!this.githubEnt||!this.githubTeam)throw new Error("GitHub enterprise and team must be set for enterprise scope");return`${t}/enterprises/${this.githubEnt}/teams/${this.githubTeam}/members`;default:throw new Error(`Invalid scope: ${this.scope}`)}}getMockDataPath(){switch(this.scope){case"team-organization":case"organization":return"public/mock-data/organization_metrics_response_sample.json";case"team-enterprise":case"enterprise":return"public/mock-data/enterprise_metrics_response_sample.json";default:return"public/mock-data/organization_metrics_response_sample.json"}}getSeatsMockDataPath(){switch(this.scope){case"team-organization":case"organization":return"public/mock-data/organization_seats_response_sample.json";case"team-enterprise":case"enterprise":return"public/mock-data/enterprise_seats_response_sample.json";default:return"public/mock-data/organization_seats_response_sample.json"}}validate(){const t=[];if((this.scope==="team-organization"||this.scope==="team-enterprise")&&(this.githubTeam||t.push("GitHub team must be set for team scopes")),(this.scope==="organization"||this.scope==="team-organization")&&(this.githubOrg||t.push("GitHub organization must be set for organization scopes")),(this.scope==="enterprise"||this.scope==="team-enterprise")&&(this.githubEnt||t.push("GitHub enterprise must be set for enterprise scopes")),this.since&&this.until){const s=new Date(this.since),i=new Date(this.until);s>i&&t.push("Since date must be before until date")}return{isValid:t.length===0,errors:t}}toString(){return`Options(${this.toQueryString()})`}}we.register(ds,us,as,ns,Ls,rs,cs,ls);const H1=ae({name:"TeamsComponent",components:{LineChart:es,BarChart:Di},props:{dateRange:{type:Object,required:!1,default:()=>({})},dateRangeDescription:{type:String,default:""}},setup(e){const t=O([]),s=O([]),i=O({labels:[],datasets:[]}),o=O({labels:[],datasets:[]}),n=O({labels:[],datasets:[]}),a=O({labels:[],datasets:[]}),l=O({labels:[],datasets:[]}),r=O({labels:[],datasets:[]}),d=O({labels:[],datasets:[]}),f=O({labels:[],datasets:[]}),g=O({labels:[],datasets:[]}),m=O([]),v=O([]),y=O({labels:[],datasets:[]}),x=O({labels:[],datasets:[]}),w={responsive:!0,maintainAspectRatio:!0,scales:{y:{beginAtZero:!0}},layout:{padding:{left:50,right:50,top:50,bottom:50}}},C={responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,ticks:{precision:0}},x:{ticks:{maxRotation:0,autoSkip:!0}}},plugins:{legend:{position:"top"}},layout:{padding:{left:12,right:12,top:8,bottom:8}},elements:{bar:{borderWidth:1}}},M=P(()=>t.value.filter(at=>s.value.includes(at.slug))),T=P(()=>Je().public.scope==="enterprise"?"enterprise":"organization"),S=O(0),A=P(()=>S.value),z=()=>{s.value=[]},F=at=>{const G=Je();return G.public.scope==="enterprise"?`/enterprises/${G.public.githubEnt}/teams/${at}`:`/orgs/${G.public.githubOrg}/teams/${at}`},N=async()=>{const at=Eo(),J=Ce.fromRoute(at,e.dateRange.since,e.dateRange.until).toParams(),L=await $fetch("/api/teams",{params:J});t.value=L},I=async at=>{const G=Eo(),J=Ce.fromRoute(G,e.dateRange.since,e.dateRange.until);J.scope==="enterprise"?J.scope="team-enterprise":J.scope==="organization"&&(J.scope="team-organization"),J.githubTeam=at;const L=J.toParams();return await $fetch("/api/metrics",{params:L})},B=()=>{const at=[...new Set(m.value.map(it=>it.language))],G=[...new Set(m.value.map(it=>it.team))],J=G.map((it,ct)=>{const Tt=ct%V.length;return{label:it,data:at.map(zt=>{const Ft=m.value.find(Wt=>Wt.language===zt&&Wt.team===it);return Ft?Ft.acceptance_rate:0}),backgroundColor:V[Tt].border,borderColor:V[Tt].border,borderWidth:1}});y.value={labels:at,datasets:J};const L=[...new Set(v.value.map(it=>it.editor))],q=G.map((it,ct)=>{const Tt=ct%V.length;return{label:it,data:L.map(zt=>{const Ft=v.value.find(Wt=>Wt.editor===zt&&Wt.team===it);return Ft?Ft.active_users:0}),backgroundColor:V[Tt].border,borderColor:V[Tt].border,borderWidth:1}});x.value={labels:L,datasets:q}},V=[{bg:"rgba(75, 192, 192, 0.2)",border:"rgba(75, 192, 192, 1)"},{bg:"rgba(153, 102, 255, 0.2)",border:"rgba(153, 102, 255, 1)"},{bg:"rgba(255, 159, 64, 0.2)",border:"rgba(255, 159, 64, 1)"},{bg:"rgba(255, 99, 132, 0.2)",border:"rgba(255, 99, 132, 1)"},{bg:"rgba(54, 162, 235, 0.2)",border:"rgba(54, 162, 235, 1)"}],K=async()=>{if(s.value.length===0){i.value={labels:[],datasets:[]},o.value={labels:[],datasets:[]},n.value={labels:[],datasets:[]},a.value={labels:[],datasets:[]},l.value={labels:[],datasets:[]},r.value={labels:[],datasets:[]},d.value={labels:[],datasets:[]},f.value={labels:[],datasets:[]},g.value={labels:[],datasets:[]},m.value=[],v.value=[],y.value={labels:[],datasets:[]},x.value={labels:[],datasets:[]};return}const G=(await Promise.all(s.value.map(U=>I(U)))).map((U,lt)=>({slug:s.value[lt],metrics:U.metrics||[],usage:U.usage||[]})),J=new Set;G.forEach(U=>U.metrics.forEach(lt=>{lt.day&&J.add(lt.day)})),G.forEach(U=>U.usage.forEach(lt=>{lt.date&&J.add(lt.date)}));const L=Array.from(J).sort(),q=U=>t.value.find(lt=>lt.slug===U)?.name||U,it=(U,lt)=>G.map((Pt,kt)=>{const pt=q(Pt.slug),yt=kt%V.length;return{label:`${pt} - ${lt}`,data:L.map(j=>{const dt=Pt.metrics.find(ut=>ut.day===j);return dt&&dt[U]||0}),backgroundColor:V[yt].bg,borderColor:V[yt].border,tension:.1}});i.value={labels:L,datasets:it("acceptance_rate_by_count","Acceptance Rate (%)")};const ct=[];G.forEach((U,lt)=>{const Pt=q(U.slug),kt=lt%V.length,pt={label:`${Pt} - Suggestions`,data:L.map(j=>{const dt=U.metrics.find(ut=>ut.day===j);return dt&&dt.total_suggestions_count||0}),backgroundColor:V[kt].bg,borderColor:V[kt].border,tension:.1},yt={label:`${Pt} - Acceptances`,data:L.map(j=>{const dt=U.metrics.find(ut=>ut.day===j);return dt&&dt.total_acceptances_count||0}),backgroundColor:V[kt].bg,borderColor:V[kt].border,borderDash:[5,5],tension:.1};ct.push(pt,yt)}),o.value={labels:L,datasets:ct},n.value={labels:L,datasets:it("acceptance_rate_by_lines","Acceptance Rate Lines (%)")};const Tt=[];G.forEach((U,lt)=>{const Pt=q(U.slug),kt=lt%V.length;Tt.push({label:`${Pt} - Lines Suggested`,data:L.map(pt=>{const yt=U.metrics.find(j=>j.day===pt);return yt&&yt.total_lines_suggested||0}),backgroundColor:V[kt].bg,borderColor:V[kt].border,tension:.1},{label:`${Pt} - Lines Accepted`,data:L.map(pt=>{const yt=U.metrics.find(j=>j.day===pt);return yt&&yt.total_lines_accepted||0}),backgroundColor:V[kt].bg,borderColor:V[kt].border,borderDash:[5,5],tension:.1})}),a.value={labels:L,datasets:Tt},l.value={labels:L,datasets:it("total_active_users","Active Users")};const zt=(U,lt)=>G.map((Pt,kt)=>{const pt=q(Pt.slug),yt=kt%V.length;return{label:`${pt} - ${lt}`,data:L.map(j=>{const dt=Pt.usage.find(nt=>nt.date===j);if(!dt)return 0;let ut=dt;for(const nt of U)if(ut=ut?.[nt],ut==null)break;return typeof ut=="number"?ut:0}),backgroundColor:V[yt].bg,borderColor:V[yt].border,tension:.1}});r.value={labels:L,datasets:zt(["copilot_ide_code_completions","total_engaged_users"],"IDE Completions Users")},d.value={labels:L,datasets:zt(["copilot_ide_chat","total_engaged_users"],"IDE Chat Users")},f.value={labels:L,datasets:zt(["copilot_dotcom_chat","total_engaged_users"],"GitHub Chat Users")},g.value={labels:L,datasets:zt(["copilot_dotcom_pull_requests","total_engaged_users"],"GitHub PR Users")};const Ft=[],Wt=[];G.forEach(U=>{const lt={},Pt={};U.metrics.forEach(kt=>{(kt.breakdown||[]).forEach(pt=>{if(pt.language){lt[pt.language]||(lt[pt.language]={suggestions:0,acceptances:0});const yt=lt[pt.language];yt&&(yt.suggestions+=pt.suggestions_count||0,yt.acceptances+=pt.acceptances_count||0)}pt.editor&&(Pt[pt.editor]=(Pt[pt.editor]||0)+(pt.active_users||0))})}),Object.entries(lt).forEach(([kt,pt])=>{const yt=pt.suggestions?pt.acceptances/pt.suggestions*100:0;Ft.push({team:U.slug,language:kt,acceptance_rate:yt})}),Object.entries(Pt).forEach(([kt,pt])=>{Wt.push({team:U.slug,editor:kt,active_users:pt})})}),m.value=Ft,v.value=Wt,B();let $t=0;G.forEach(U=>{if(U.metrics.length){const lt=[...U.metrics].sort((Pt,kt)=>Pt.day.localeCompare(kt.day)).at(-1);$t+=lt?.total_active_users||0}}),S.value=$t};return Ms(async()=>{await N()}),he(s,async()=>{await K()}),he(()=>e.dateRange,async()=>{await K()},{deep:!0}),{dateRangeDesc:e.dateRangeDescription,availableTeams:t,selectedTeams:s,acceptanceRateCountChartData:i,suggestionsAcceptancesChartData:o,acceptanceRateLinesChartData:n,linesSuggestedAcceptedChartData:a,activeUsersChartData:l,ideCompletionsChartData:r,ideChatChartData:d,githubChatChartData:f,githubPrChartData:g,languageComparison:m,editorComparison:v,languageBarChartData:y,editorBarChartData:x,chartOptions:w,barChartOptions:C,selectedTeamObjects:M,scopeType:T,totalActiveUsers:A,clearSelection:z,getTeamDetailUrl:F,generateBarChartData:B,loadTeams:N}}});function N1(e,t,s){if(t==null)return e;if(Array.isArray(t))throw new Error("Multiple matches is not implemented");return typeof t=="number"&&~t?u(Lt,null,[u("span",{class:"v-autocomplete__unmask"},[e.substr(0,t)]),u("span",{class:"v-autocomplete__mask"},[e.substr(t,s)]),u("span",{class:"v-autocomplete__unmask"},[e.substr(t+s)])]):e}const W1=qt({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...zc({filterKeys:["title"]}),...Oc(),...xi(Ic({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Nc({transition:!1})},"VAutocomplete"),j1=Yt()({name:"VAutocomplete",props:W1(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:s}=t;const{t:i}=cl(),o=O(),n=ce(!1),a=ce(!0),l=ce(!1),r=O(),d=O(),f=Ke(e,"menu"),g=P({get:()=>f.value,set:j=>{f.value&&!j&&r.value?.openChildren.size||(f.value=j)}}),m=ce(-1),v=P(()=>o.value?.color),y=P(()=>g.value?e.closeText:e.openText),{items:x,transformIn:w,transformOut:C}=Rc(e),{textColorClasses:M,textColorStyles:T}=Tl(v),S=Ke(e,"search",""),A=Ke(e,"modelValue",[],j=>w(j===null?[null]:hc(j)),j=>{const dt=C(j);return e.multiple?dt:dt[0]??null}),z=P(()=>typeof e.counterValue=="function"?e.counterValue(A.value):typeof e.counterValue=="number"?e.counterValue:A.value.length),F=$c(e),{filteredItems:N,getMatches:I}=Lc(e,x,()=>a.value?"":S.value),B=P(()=>e.hideSelected?N.value.filter(j=>!A.value.some(dt=>dt.value===j.value)):N.value),V=P(()=>!!(e.chips||s.chip)),K=P(()=>V.value||!!s.selection),at=P(()=>A.value.map(j=>j.props.value)),G=P(()=>(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&S.value===B.value[0]?.title)&&B.value.length>0&&!a.value&&!l.value),J=P(()=>e.hideNoData&&!B.value.length||F.isReadonly.value||F.isDisabled.value),L=O(),q=Ec(L,o);function it(j){e.openOnClear&&(g.value=!0),S.value=""}function ct(){J.value||(g.value=!0)}function Tt(j){J.value||(n.value&&(j.preventDefault(),j.stopPropagation()),g.value=!g.value)}function zt(j){gc(j)&&o.value?.focus()}function Ft(j){if(F.isReadonly.value)return;const dt=o.value.selectionStart,ut=A.value.length;if((m.value>-1||["Enter","ArrowDown","ArrowUp"].includes(j.key))&&j.preventDefault(),["Enter","ArrowDown"].includes(j.key)&&(g.value=!0),["Escape"].includes(j.key)&&(g.value=!1),G.value&&["Enter","Tab"].includes(j.key)&&!A.value.some(nt=>{let{value:vt}=nt;return vt===B.value[0].value})&&yt(B.value[0]),j.key==="ArrowDown"&&G.value&&L.value?.focus("next"),["Backspace","Delete"].includes(j.key)){if(!e.multiple&&K.value&&A.value.length>0&&!S.value)return yt(A.value[0],!1);if(~m.value){const nt=m.value;yt(A.value[m.value],!1),m.value=nt>=ut-1?ut-2:nt}else j.key==="Backspace"&&!S.value&&(m.value=ut-1)}if(e.multiple){if(j.key==="ArrowLeft"){if(m.value<0&&dt>0)return;const nt=m.value>-1?m.value-1:ut-1;A.value[nt]?m.value=nt:(m.value=-1,o.value.setSelectionRange(S.value?.length,S.value?.length))}if(j.key==="ArrowRight"){if(m.value<0)return;const nt=m.value+1;A.value[nt]?m.value=nt:(m.value=-1,o.value.setSelectionRange(0,0))}}}function Wt(j){if(In(o.value,":autofill")||In(o.value,":-webkit-autofill")){const dt=x.value.find(ut=>ut.title===j.target.value);dt&&yt(dt)}}function $t(){e.eager&&d.value?.calculateVisibleItems()}function U(){n.value&&(a.value=!0,o.value?.focus())}function lt(j){n.value=!0,setTimeout(()=>{l.value=!0})}function Pt(j){l.value=!1}function kt(j){(j==null||j===""&&!e.multiple&&!K.value)&&(A.value=[])}const pt=ce(!1);function yt(j){let dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!j||j.props.disabled))if(e.multiple){const ut=A.value.findIndex(vt=>e.valueComparator(vt.value,j.value)),nt=dt??!~ut;if(~ut){const vt=nt?[...A.value,j]:[...A.value];vt.splice(ut,1),A.value=vt}else nt&&(A.value=[...A.value,j]);e.clearOnSelect&&(S.value="")}else{const ut=dt!==!1;A.value=ut?[j]:[],S.value=ut&&!K.value?j.title:"",Ys(()=>{g.value=!1,a.value=!0})}}return he(n,(j,dt)=>{j!==dt&&(j?(pt.value=!0,S.value=e.multiple||K.value?"":String(A.value.at(-1)?.props.title??""),a.value=!0,Ys(()=>pt.value=!1)):(!e.multiple&&S.value==null&&(A.value=[]),g.value=!1,A.value.some(ut=>{let{title:nt}=ut;return nt===S.value})||(S.value=""),m.value=-1))}),he(S,j=>{!n.value||pt.value||(j&&(g.value=!0),a.value=!j)}),he(g,()=>{if(!e.hideSelected&&g.value&&A.value.length){const j=B.value.findIndex(dt=>A.value.some(ut=>dt.value===ut.value));ll&&window.requestAnimationFrame(()=>{j>=0&&d.value?.scrollToIndex(j)})}}),he(()=>e.items,(j,dt)=>{g.value||n.value&&!dt.length&&j.length&&(g.value=!0)}),Xt(()=>{const j=!!(!e.hideNoData||B.value.length||s["prepend-item"]||s["append-item"]||s["no-data"]),dt=A.value.length>0,ut=Ji.filterProps(e);return u(Ji,W({ref:o},ut,{modelValue:S.value,"onUpdate:modelValue":[nt=>S.value=nt,kt],focused:n.value,"onUpdate:focused":nt=>n.value=nt,validationValue:A.externalValue,counterValue:z.value,dirty:dt,onChange:Wt,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":g.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!K.value,"v-autocomplete--selecting-index":m.value>-1},e.class],style:e.style,readonly:F.isReadonly.value,placeholder:dt?void 0:e.placeholder,"onClick:clear":it,"onMousedown:control":ct,onKeydown:Ft}),{...s,default:()=>u(Lt,null,[u(ml,W({ref:r,modelValue:g.value,"onUpdate:modelValue":nt=>g.value=nt,activator:"parent",contentClass:"v-autocomplete__content",disabled:J.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:$t,onAfterLeave:U},e.menuProps),{default:()=>[j&&u(co,W({ref:L,selected:at.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:nt=>nt.preventDefault(),onKeydown:zt,onFocusin:lt,onFocusout:Pt,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},q,e.listProps),{default:()=>[s["prepend-item"]?.(),!B.value.length&&!e.hideNoData&&(s["no-data"]?.()??u(Ze,{key:"no-data",title:i(e.noDataText)},null)),u(Uc,{ref:d,renderless:!0,items:B.value},{default:nt=>{let{item:vt,index:Kt,itemRef:hs}=nt;const fs=W(vt.props,{ref:hs,key:vt.value,active:G.value&&Kt===0?!0:void 0,onClick:()=>yt(vt,null)});return s.item?.({item:vt,index:Kt,props:fs})??u(Ze,W(fs,{role:"option"}),{prepend:ps=>{let{isSelected:Qt}=ps;return u(Lt,null,[e.multiple&&!e.hideSelected?u(zo,{key:vt.value,modelValue:Qt,ripple:!1,tabindex:"-1"},null):void 0,vt.props.prependAvatar&&u(ee,{image:vt.props.prependAvatar},null),vt.props.prependIcon&&u(Z,{icon:vt.props.prependIcon},null)])},title:()=>a.value?vt.title:N1(vt.title,I(vt)?.title,S.value?.length??0)})}}),s["append-item"]?.()]})]}),A.value.map((nt,vt)=>{function Kt(Qt){Qt.stopPropagation(),Qt.preventDefault(),yt(nt,!1)}const hs={"onClick:close":Kt,onKeydown(Qt){Qt.key!=="Enter"&&Qt.key!==" "||(Qt.preventDefault(),Qt.stopPropagation(),Kt(Qt))},onMousedown(Qt){Qt.preventDefault(),Qt.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},fs=V.value?!!s.chip:!!s.selection,ps=fs?pc(V.value?s.chip({item:nt,index:vt,props:hs}):s.selection({item:nt,index:vt})):void 0;if(!(fs&&!ps))return u("div",{key:nt.value,class:["v-autocomplete__selection",vt===m.value&&["v-autocomplete__selection--selected",M.value]],style:vt===m.value?T.value:{}},[V.value?s.chip?u(Qe,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:nt.title}}},{default:()=>[ps]}):u(Be,W({key:"chip",closable:e.closableChips,size:"small",text:nt.title,disabled:nt.props.disabled},hs),null):ps??u("span",{class:"v-autocomplete__selection-text"},[nt.title,e.multiple&&vt<A.value.length-1&&u("span",{class:"v-autocomplete__selection-comma"},[D(",")])])])})]),"append-inner":function(){for(var nt=arguments.length,vt=new Array(nt),Kt=0;Kt<nt;Kt++)vt[Kt]=arguments[Kt];return u(Lt,null,[s["append-inner"]?.(...vt),e.menuIcon?u(Z,{class:"v-autocomplete__menu-icon",icon:e.menuIcon,onMousedown:Tt,onClick:fc,"aria-label":i(y.value),title:i(y.value),tabindex:"-1"},null):void 0])}})}),ro({isFocused:n,isPristine:a,menu:g,search:S,filteredItems:N,select:yt},o)}}),G1={key:1},Y1={class:"tiles-container"},q1={class:"tiles-text"},X1={class:"text-caption"},K1={class:"text-h4"},J1={class:"tiles-text"},Z1={class:"text-caption"},Q1={class:"text-h4"},tb={key:0,class:"bar-chart-container"},eb={key:1,class:"text-center text-medium-emphasis py-8"},sb={key:0,class:"bar-chart-container"},ib={key:1,class:"text-center text-medium-emphasis py-8"};function ob(e,t,s,i,o,n){const a=Se("LineChart"),l=Se("BarChart");return R(),H("div",null,[u(Vt,null,{default:h(()=>[u(Rt,null,{default:h(()=>[u(ot,{cols:"12"},{default:h(()=>[u(E,{class:"mb-4"},{default:h(()=>[u(St,{class:"text-h5"},{default:h(()=>[...t[1]||(t[1]=[D(" Teams Comparison ",-1)])]),_:1}),u(Wc,null,{default:h(()=>[D(" Select teams to compare metrics across your "+k(e.scopeType),1)]),_:1}),u(gt,null,{default:h(()=>[u(Rt,null,{default:h(()=>[u(ot,{cols:"12",md:"8"},{default:h(()=>[u(j1,{modelValue:e.selectedTeams,"onUpdate:modelValue":t[0]||(t[0]=r=>e.selectedTeams=r),items:e.availableTeams,"item-value":"slug","item-title":"name",label:"Search and select teams to compare",multiple:"",chips:"",clearable:"",variant:"outlined","menu-props":{contentClass:"teams-select-menu",maxHeight:360,scrim:!1,closeOnContentClick:!1,offset:8},hint:`Type to filter and select multiple teams from your ${e.scopeType} to compare their metrics`,"persistent-hint":""},{item:h(({props:r,item:d})=>[u(Ze,W(r,{title:d.raw.name,subtitle:d.raw.description}),null,16,["title","subtitle"])]),chip:h(({props:r,item:d})=>[u(Be,W(r,{class:"select-chip",text:d.raw.name,closable:""}),null,16,["text"])]),_:1},8,["modelValue","items","hint"])]),_:1}),u(ot,{cols:"12",md:"4",class:"d-flex align-center"},{default:h(()=>[e.selectedTeams.length>0?(R(),tt(rt,{key:0,color:"primary",variant:"outlined",size:"small",onClick:e.clearSelection},{default:h(()=>[...t[2]||(t[2]=[D(" Clear All ",-1)])]),_:1},8,["onClick"])):st("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e.selectedTeamObjects.length>0?(R(),tt(Vt,{key:0},{default:h(()=>[u(Rt,null,{default:h(()=>[u(ot,{cols:"12"},{default:h(()=>[u(E,{class:"mb-4"},{default:h(()=>[u(St,{class:"text-h6"},{default:h(()=>[...t[3]||(t[3]=[D("Selected Teams",-1)])]),_:1}),u(gt,null,{default:h(()=>[u(jc,null,{default:h(()=>[(R(!0),H(Lt,null,ne(e.selectedTeamObjects,r=>(R(),tt(Be,{key:r.slug,href:e.getTeamDetailUrl(r.slug),class:"selected-team-chip",target:"_blank",link:""},{default:h(()=>[D(k(r.name)+" - View Details ",1),u(Z,{end:""},{default:h(()=>[...t[4]||(t[4]=[D("mdi-open-in-new",-1)])]),_:1})]),_:2},1032,["href"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):st("",!0),e.selectedTeams.length>0?(R(),H("div",G1,[c("div",Y1,[u(E,{elevation:"4",color:"white",variant:"elevated",class:"mx-auto my-3",style:{width:"300px",height:"175px"}},{default:h(()=>[u(ht,null,{default:h(()=>[c("div",q1,[t[6]||(t[6]=c("div",{class:"spacing-25"},null,-1)),u(Y,{location:"bottom start","open-on-hover":"","open-delay":"200","close-delay":"200"},{activator:h(({props:r})=>[c("div",W(r,{class:"text-h6 mb-1"}),"Teams Selected",16)]),default:h(()=>[u(E,{class:"pa-2",style:{"background-color":"#f0f0f0","max-width":"350px"}},{default:h(()=>[...t[5]||(t[5]=[c("span",{class:"text-caption",style:{"font-size":"10px !important"}},"Number of teams currently selected for comparison",-1)])]),_:1})]),_:1}),c("div",X1,k(e.dateRangeDesc),1),c("p",K1,k(e.selectedTeams.length),1)])]),_:1})]),_:1}),u(E,{elevation:"4",color:"white",variant:"elevated",class:"mx-auto my-3",style:{width:"300px",height:"175px"}},{default:h(()=>[u(ht,null,{default:h(()=>[c("div",J1,[t[8]||(t[8]=c("div",{class:"spacing-10"},null,-1)),u(Y,{location:"bottom start","open-on-hover":"","open-delay":"200","close-delay":"200"},{activator:h(({props:r})=>[c("div",W(r,{class:"text-h6 mb-1"}),"Total Active Users",16)]),default:h(()=>[u(E,{class:"pa-2",style:{"background-color":"#f0f0f0","max-width":"350px"}},{default:h(()=>[...t[7]||(t[7]=[c("span",{class:"text-caption",style:{"font-size":"10px !important"}},"Combined total active users across all selected teams",-1)])]),_:1})]),_:1}),c("div",Z1,k(e.dateRangeDesc),1),c("p",Q1,k(e.totalActiveUsers),1)])]),_:1})]),_:1})]),u(ss,{class:"p-1",style:{"min-height":"300px"}},{default:h(()=>[u(Vt,{style:{"min-height":"300px"},class:"px-4 elevation-2"},{default:h(()=>[u(Y,{location:"bottom start","open-on-hover":"","open-delay":"200","close-delay":"200"},{activator:h(({props:r})=>[c("h2",W(r,{class:"mb-1"}),"Acceptance Rate by Count (%)",16)]),default:h(()=>[u(E,{class:"pa-2",style:{"background-color":"#f0f0f0","max-width":"350px"}},{default:h(()=>[...t[9]||(t[9]=[c("span",{class:"text-caption",style:{"font-size":"10px !important"}},"Comparison of acceptance rates across selected teams over time",-1)])]),_:1})]),_:1}),u(a,{data:e.acceptanceRateCountChartData,options:e.chartOptions},null,8,["data","options"]),u(Y,{location:"bottom start","open-on-hover":"","open-delay":"200","close-delay":"200"},{activator:h(({props:r})=>[c("h2",W(r,{class:"mb-1"}),"Total Suggestions Count | Total Acceptances Count",16)]),default:h(()=>[u(E,{class:"pa-2",style:{"background-color":"#f0f0f0","max-width":"350px"}},{default:h(()=>[...t[10]||(t[10]=[c("span",{class:"text-caption",style:{"font-size":"10px !important"}},"Total suggestions and acceptances count over time for selected teams",-1)])]),_:1})]),_:1}),u(a,{data:e.suggestionsAcceptancesChartData,options:e.chartOptions},null,8,["data","options"]),u(Y,{location:"bottom start","open-on-hover":"","open-delay":"200","close-delay":"200"},{activator:h(({props:r})=>[c("h2",W(r,{class:"mb-1"}),"Acceptance Rate by Lines (%)",16)]),default:h(()=>[u(E,{class:"pa-2",style:{"background-color":"#f0f0f0","max-width":"350px"}},{default:h(()=>[...t[11]||(t[11]=[c("span",{class:"text-caption",style:{"font-size":"10px !important"}},"Comparison of line-based acceptance rates across selected teams",-1)])]),_:1})]),_:1}),u(a,{data:e.acceptanceRateLinesChartData,options:e.chartOptions},null,8,["data","options"]),u(Y,{location:"bottom start","open-on-hover":"","open-delay":"200","close-delay":"200"},{activator:h(({props:r})=>[c("h2",W(r,{class:"mb-1"}),"Total Lines Suggested | Total Lines Accepted",16)]),default:h(()=>[u(E,{class:"pa-2",style:{"background-color":"#f0f0f0","max-width":"350px"}},{default:h(()=>[...t[12]||(t[12]=[c("span",{class:"text-caption",style:{"font-size":"10px !important"}},"Total lines of code suggested and accepted over time for selected teams",-1)])]),_:1})]),_:1}),u(a,{data:e.linesSuggestedAcceptedChartData,options:e.chartOptions},null,8,["data","options"]),u(Y,{location:"bottom start","open-on-hover":"","open-delay":"200","close-delay":"200"},{activator:h(({props:r})=>[c("h2",W(r,{class:"mb-1"}),"Total Active Users",16)]),default:h(()=>[u(E,{class:"pa-2",style:{"background-color":"#f0f0f0","max-width":"350px"}},{default:h(()=>[...t[13]||(t[13]=[c("span",{class:"text-caption",style:{"font-size":"10px !important"}},"Number of active users over time for selected teams",-1)])]),_:1})]),_:1}),u(a,{data:e.activeUsersChartData,options:e.chartOptions},null,8,["data","options"]),u(Y,{location:"bottom start","open-on-hover":"","open-delay":"200","close-delay":"200"},{activator:h(({props:r})=>[c("h2",W(r,{class:"mb-1"}),"IDE Code Completions Usage",16)]),default:h(()=>[u(E,{class:"pa-2",style:{"background-color":"#f0f0f0","max-width":"350px"}},{default:h(()=>[...t[14]||(t[14]=[c("span",{class:"text-caption",style:{"font-size":"10px !important"}},"Users with IDE code completions activity across selected teams",-1)])]),_:1})]),_:1}),u(a,{data:e.ideCompletionsChartData,options:e.chartOptions},null,8,["data","options"]),u(Y,{location:"bottom start","open-on-hover":"","open-delay":"200","close-delay":"200"},{activator:h(({props:r})=>[c("h2",W(r,{class:"mb-1"}),"IDE Chat Usage",16)]),default:h(()=>[u(E,{class:"pa-2",style:{"background-color":"#f0f0f0","max-width":"350px"}},{default:h(()=>[...t[15]||(t[15]=[c("span",{class:"text-caption",style:{"font-size":"10px !important"}},"Users with IDE chat activity across selected teams",-1)])]),_:1})]),_:1}),u(a,{data:e.ideChatChartData,options:e.chartOptions},null,8,["data","options"]),u(Y,{location:"bottom start","open-on-hover":"","open-delay":"200","close-delay":"200"},{activator:h(({props:r})=>[c("h2",W(r,{class:"mb-1"}),"GitHub.com Chat Usage",16)]),default:h(()=>[u(E,{class:"pa-2",style:{"background-color":"#f0f0f0","max-width":"350px"}},{default:h(()=>[...t[16]||(t[16]=[c("span",{class:"text-caption",style:{"font-size":"10px !important"}},"Users with GitHub.com chat activity across selected teams",-1)])]),_:1})]),_:1}),u(a,{data:e.githubChatChartData,options:e.chartOptions},null,8,["data","options"]),u(Y,{location:"bottom start","open-on-hover":"","open-delay":"200","close-delay":"200"},{activator:h(({props:r})=>[c("h2",W(r,{class:"mb-1"}),"GitHub.com PR Usage",16)]),default:h(()=>[u(E,{class:"pa-2",style:{"background-color":"#f0f0f0","max-width":"350px"}},{default:h(()=>[...t[17]||(t[17]=[c("span",{class:"text-caption",style:{"font-size":"10px !important"}},"Users with GitHub.com PR activity across selected teams",-1)])]),_:1})]),_:1}),u(a,{data:e.githubPrChartData,options:e.chartOptions},null,8,["data","options"])]),_:1})]),_:1}),u(Vt,null,{default:h(()=>[u(Rt,null,{default:h(()=>[u(ot,{cols:"12",md:"6"},{default:h(()=>[u(E,{class:"pa-4"},{default:h(()=>[u(St,{class:"text-h6"},{default:h(()=>[...t[18]||(t[18]=[D("Language Usage by Team",-1)])]),_:1}),u(gt,null,{default:h(()=>[e.languageBarChartData.datasets.length>0?(R(),H("div",tb,[u(l,{data:e.languageBarChartData,options:e.barChartOptions},null,8,["data","options"])])):(R(),H("div",eb,[u(Z,{size:"48",color:"grey-lighten-1"},{default:h(()=>[...t[19]||(t[19]=[D("mdi-chart-bar",-1)])]),_:1}),t[20]||(t[20]=c("p",{class:"mt-2"},"No language data available for selected teams",-1))]))]),_:1})]),_:1})]),_:1}),u(ot,{cols:"12",md:"6"},{default:h(()=>[u(E,{class:"pa-4"},{default:h(()=>[u(St,{class:"text-h6"},{default:h(()=>[...t[21]||(t[21]=[D("Editor Usage by Team",-1)])]),_:1}),u(gt,null,{default:h(()=>[e.editorBarChartData.datasets.length>0?(R(),H("div",sb,[u(l,{data:e.editorBarChartData,options:e.barChartOptions},null,8,["data","options"])])):(R(),H("div",ib,[u(Z,{size:"48",color:"grey-lighten-1"},{default:h(()=>[...t[22]||(t[22]=[D("mdi-chart-bar",-1)])]),_:1}),t[23]||(t[23]=c("p",{class:"mt-2"},"No editor data available for selected teams",-1))]))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])):(R(),tt(Vt,{key:2},{default:h(()=>[u(Rt,null,{default:h(()=>[u(ot,{cols:"12"},{default:h(()=>[u(E,{class:"text-center pa-8"},{default:h(()=>[u(gt,null,{default:h(()=>[u(Z,{size:"64",color:"grey-lighten-1"},{default:h(()=>[...t[24]||(t[24]=[D("mdi-account-group-outline",-1)])]),_:1}),t[25]||(t[25]=c("h3",{class:"text-h5 mt-4 mb-2"},"No Teams Selected",-1)),t[26]||(t[26]=c("p",{class:"text-body-1 text-medium-emphasis"}," Select one or more teams from the dropdown above to view and compare their metrics. ",-1))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))])}const wr=Object.assign(De(H1,[["render",ob],["__scopeId","data-v-c99c3b9d"]]),{__name:"TeamsComponent"});class nb{name;acceptedPrompts;suggestedPrompts;suggestedLinesOfCode;acceptedLinesOfCode;acceptanceRateByCount;acceptanceRateByLines;constructor(t){this.name=t.name,this.acceptedPrompts=t.acceptedPrompts,this.suggestedPrompts=t.suggestedPrompts,this.suggestedLinesOfCode=t.suggestedLinesOfCode,this.acceptedLinesOfCode=t.acceptedLinesOfCode,this.acceptanceRateByCount=t.acceptanceRateByCount,this.acceptanceRateByLines=t.acceptanceRateByLines}}we.register(Js,ds,us,Ls,as,ns,rs,cs,ls);const ab=ae({name:"BreakdownComponent",components:{Pie:Ip},props:{metrics:{type:Object,required:!0},breakdownKey:{type:String,required:!0},dateRangeDescription:{type:String,default:"Over the last 28 days"}},setup(e){const t=O([]),s=O(0),i=O(0),o=O({labels:[],datasets:[]}),n=O({labels:[],datasets:[]}),a=O({labels:[],datasets:[]}),l=O({labels:[],datasets:[]}),r={responsive:!0,maintainAspectRatio:!0},d=O(["#4B0082","#41B883","#6495ED","#87CEFA","#7CFC00"]),f=g=>{t.value=[],g.forEach(v=>v.breakdown.forEach(y=>{const x=y[e.breakdownKey];let w=t.value.find(C=>C.name===x);w?(w.acceptedPrompts+=y.acceptances_count,w.suggestedPrompts+=y.suggestions_count,w.suggestedLinesOfCode+=y.lines_suggested,w.acceptedLinesOfCode+=y.lines_accepted):(w=new nb({name:x,acceptedPrompts:y.acceptances_count,suggestedPrompts:y.suggestions_count,suggestedLinesOfCode:y.lines_suggested,acceptedLinesOfCode:y.lines_accepted}),t.value.push(w)),w.acceptanceRateByCount=w.suggestedPrompts!==0?w.acceptedPrompts/w.suggestedPrompts*100:0,w.acceptanceRateByLines=w.suggestedLinesOfCode!==0?w.acceptedLinesOfCode/w.suggestedLinesOfCode*100:0})),t.value.sort((v,y)=>y.acceptedPrompts-v.acceptedPrompts);const m=t.value.slice(0,5);i.value=m.length,n.value={labels:m.map(v=>v.name),datasets:[{data:m.map(v=>v.acceptedPrompts),backgroundColor:d.value}]},a.value={labels:m.map(v=>v.name),datasets:[{data:m.map(v=>v.acceptanceRateByLines.toFixed(2)),backgroundColor:d.value}]},l.value={labels:m.map(v=>v.name),datasets:[{data:m.map(v=>v.acceptanceRateByCount.toFixed(2)),backgroundColor:d.value}]},s.value=t.value.length};return he(()=>e.metrics,g=>{g&&Array.isArray(g)&&f(g)},{immediate:!0,deep:!0}),{chartOptions:r,breakdownList:t,numberOfBreakdowns:s,topBreakdownsCount:i,breakdownsChartData:o,breakdownsChartDataTop5AcceptedPrompts:n,breakdownsChartDataTop5AcceptedPromptsByLines:a,breakdownsChartDataTop5AcceptedPromptsByCounts:l}},computed:{breakdownDisplayName(){return this.breakdownKey.charAt(0).toUpperCase()+this.breakdownKey.slice(1)},breakdownDisplayNamePlural(){return`${this.breakdownDisplayName}s`},headers(){return[{title:`${this.breakdownDisplayName} Name`,key:"name"},{title:"Accepted Prompts",key:"acceptedPrompts"},{title:"Suggested Prompts",key:"suggestedPrompts"},{title:"Accepted Lines of Code",key:"acceptedLinesOfCode"},{title:"Suggested Lines of Code",key:"suggestedLinesOfCode"},{title:"Acceptance Rate by Count (%)",key:"acceptanceRateByCount"},{title:"Acceptance Rate by Lines (%)",key:"acceptanceRateByLines"}]}}}),lb={class:"tiles-container"},rb={class:"tiles-text"},cb={class:"text-h6 mb-1"},db={class:"text-caption"},ub={class:"text-h4"},hb={class:"text-h6 mb-1"},fb={style:{width:"300px",height:"300px"}},pb={class:"text-h6 mb-1"},gb={style:{width:"300px",height:"300px"}},mb={class:"text-h6 mb-1"},vb={style:{width:"300px",height:"300px"}},bb={key:0},yb={key:1};function _b(e,t,s,i,o,n){const a=Se("Pie");return R(),H("div",null,[c("div",lb,[u(E,{elevation:"4",color:"white",variant:"elevated",class:"mx-auto my-3",style:{width:"300px",height:"175px"}},{default:h(()=>[u(ht,null,{default:h(()=>[c("div",rb,[t[0]||(t[0]=c("div",{class:"spacing-25"},null,-1)),c("div",cb,"Number of "+k(e.breakdownDisplayNamePlural),1),c("div",db,k(e.dateRangeDescription),1),c("p",ub,k(e.numberOfBreakdowns),1)])]),_:1})]),_:1})]),u(ss,{class:"p-1",style:{"min-height":"300px"}},{default:h(()=>[u(Vt,{style:{"min-height":"300px"},class:"px-4 elevation-2"},{default:h(()=>[u(Rt,null,{default:h(()=>[u(ot,{cols:"4"},{default:h(()=>[u(E,null,{default:h(()=>[u(ht,{class:"d-flex justify-center align-center"},{default:h(()=>[t[1]||(t[1]=c("div",{class:"spacing-25"},null,-1)),c("div",hb,"Top "+k(e.topBreakdownsCount)+" "+k(e.breakdownDisplayNamePlural)+" by accepted suggestions (prompts)",1),c("div",fb,[u(a,{data:e.breakdownsChartDataTop5AcceptedPrompts,options:e.chartOptions},null,8,["data","options"])])]),_:1})]),_:1})]),_:1}),u(ot,{cols:"4"},{default:h(()=>[u(E,null,{default:h(()=>[u(ht,{class:"d-flex justify-center align-center"},{default:h(()=>[t[2]||(t[2]=c("div",{class:"spacing-25"},null,-1)),c("div",pb,"Acceptance Rate (by count) for Top "+k(e.topBreakdownsCount)+" "+k(e.breakdownDisplayNamePlural),1),c("div",gb,[u(a,{data:e.breakdownsChartDataTop5AcceptedPromptsByCounts,options:e.chartOptions},null,8,["data","options"])])]),_:1})]),_:1})]),_:1}),u(ot,{cols:"4"},{default:h(()=>[u(E,null,{default:h(()=>[u(ht,{class:"d-flex justify-center align-center"},{default:h(()=>[t[3]||(t[3]=c("div",{class:"spacing-25"},null,-1)),c("div",mb,"Acceptance Rate (by code lines) for Top "+k(e.topBreakdownsCount)+" "+k(e.breakdownDisplayNamePlural),1),c("div",vb,[u(a,{data:e.breakdownsChartDataTop5AcceptedPromptsByLines,options:e.chartOptions},null,8,["data","options"])])]),_:1})]),_:1})]),_:1})]),_:1}),t[4]||(t[4]=c("br",null,null,-1)),c("h2",null,k(e.breakdownDisplayNamePlural)+" Breakdown ",1),t[5]||(t[5]=c("br",null,null,-1)),u(Hs,{headers:e.headers,items:e.breakdownList,class:"elevation-2",style:{"padding-left":"100px","padding-right":"100px"}},{item:h(({item:l})=>[c("tr",null,[c("td",null,k(l.name),1),c("td",null,k(l.acceptedPrompts),1),c("td",null,k(l.suggestedPrompts),1),c("td",null,k(l.acceptedLinesOfCode),1),c("td",null,k(l.suggestedLinesOfCode),1),l.acceptanceRateByCount!==void 0?(R(),H("td",bb,k(l.acceptanceRateByCount.toFixed(2))+"%",1)):st("",!0),l.acceptanceRateByLines!==void 0?(R(),H("td",yb,k(l.acceptanceRateByLines.toFixed(2))+"%",1)):st("",!0)])]),_:1},8,["headers","items"])]),_:1})]),_:1})])}const kr=Object.assign(De(ab,[["render",_b]]),{__name:"BreakdownComponent"});we.register(Js,ds,us,Ls,as,ns,rs,cs,ls);const xb=ae({name:"CopilotChatViewer",components:{Bar:Di,Line:es},props:{metrics:{type:Object,required:!0},dateRangeDescription:{type:String,default:"Over the last 28 days"}},setup(e){const t=O(0),s=O(0),i=O({labels:[],datasets:[]}),o={responsive:!0,maintainAspectRatio:!0,scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}},layout:{padding:{left:50,right:50,top:50,bottom:50}}},n={responsive:!0,maintainAspectRatio:!0,height:300,width:300,layout:{padding:{left:150,right:150,top:20,bottom:40}}},a=O({labels:[],datasets:[]}),l=Dt(e,"metrics").value;s.value=0;const r=l.map(f=>(s.value+=f.total_chat_turns,f.total_chat_turns));t.value=0;const d=l.map(f=>(t.value+=f.total_chat_acceptances,f.total_chat_acceptances));return a.value={labels:l.map(f=>f.day),datasets:[{label:"Total Acceptances",data:d,backgroundColor:"rgba(75, 192, 192, 0.2)",borderColor:"rgba(75, 192, 192, 1)"},{label:"Total Turns",data:r,backgroundColor:"rgba(153, 102, 255, 0.2)",borderColor:"rgba(153, 102, 255, 1)"}]},i.value={labels:l.map(f=>f.day),datasets:[{label:"Total Active Copilot Chat Users",data:l.map(f=>f.total_active_chat_users),backgroundColor:"rgba(0, 0, 139, 0.2)",borderColor:"rgba(255, 99, 132, 1)"}]},{totalActiveCopilotChatUsersChartData:i,totalActiveChatUsersChartOptions:o,cumulativeNumberAcceptances:t,cumulativeNumberTurns:s,totalNumberAcceptancesAndTurnsChartData:a,chartOptions:n}}}),wb={class:"tiles-container"},kb={class:"tiles-text"},Cb={class:"text-caption"},Sb={class:"text-h4"},Db={class:"tiles-text"},Tb={class:"text-caption"},Ab={class:"text-h4"};function Mb(e,t,s,i,o,n){const a=Se("Line"),l=Se("Bar");return R(),H(Lt,null,[c("div",wb,[u(E,{elevation:"4",color:"white",variant:"elevated",class:"mx-auto my-3",style:{width:"300px",height:"175px"}},{default:h(()=>[u(ht,null,{default:h(()=>[c("div",kb,[t[1]||(t[1]=c("div",{class:"spacing-25"},null,-1)),u(Y,{location:"bottom start","open-on-hover":"","open-delay":"200","close-delay":"200"},{activator:h(({props:r})=>[c("div",W(r,{class:"text-h6 mb-1"}),"Cumulative Number of Turns",16)]),default:h(()=>[u(E,{class:"pa-2",style:{"background-color":"#f0f0f0","max-width":"350px"}},{default:h(()=>[...t[0]||(t[0]=[c("span",{class:"text-caption",style:{"font-size":"10px !important"}},"This metric represents the total number of turns (interactions) with the Copilot over the past 28 days. A 'turn' includes both user inputs and Copilot's responses.",-1)])]),_:1})]),_:1}),c("div",Cb,k(e.dateRangeDescription),1),c("p",Sb,k(e.cumulativeNumberTurns),1)])]),_:1})]),_:1}),u(E,{elevation:"4",color:"white",variant:"elevated",class:"mx-auto my-3",style:{width:"300px",height:"175px"}},{default:h(()=>[u(ht,null,{default:h(()=>[c("div",Db,[t[3]||(t[3]=c("div",{class:"spacing-10"},null,-1)),u(Y,{location:"bottom start","open-on-hover":"","open-delay":"200","close-delay":"200"},{activator:h(({props:r})=>[c("div",W(r,{class:"text-h6 mb-1"}),"Cumulative Number of Acceptances",16)]),default:h(()=>[u(E,{class:"pa-2",style:{"background-color":"#f0f0f0","max-width":"350px"}},{default:h(()=>[...t[2]||(t[2]=[c("span",{class:"text-caption",style:{"font-size":"10px !important"}},"This metric shows the total number of lines of code suggested by Copilot that have been accepted by users over the past 28 days.",-1)])]),_:1})]),_:1}),c("div",Tb,k(e.dateRangeDescription),1),c("p",Ab,k(e.cumulativeNumberAcceptances),1)])]),_:1})]),_:1})]),u(ss,{class:"p-1",style:{"min-height":"300px"}},{default:h(()=>[u(Vt,{style:{"min-height":"300px"},class:"px-4 elevation-2"},{default:h(()=>[u(Y,{location:"bottom start","open-on-hover":"","open-delay":"200","close-delay":"200"},{activator:h(({props:r})=>[c("h2",W(r,{class:"mb-1"}),"Total Acceptances | Total Turns Count",16)]),default:h(()=>[u(E,{class:"pa-2",style:{"background-color":"#f0f0f0","max-width":"350px"}},{default:h(()=>[...t[4]||(t[4]=[c("span",{class:"text-caption",style:{"font-size":"10px !important"}},"This is a chart that displays the total number of turns and acceptances.",-1)])]),_:1})]),_:1}),u(a,{data:e.totalNumberAcceptancesAndTurnsChartData,options:e.chartOptions},null,8,["data","options"]),u(Y,{location:"bottom start","open-on-hover":"","open-delay":"200","close-delay":"200"},{activator:h(({props:r})=>[c("h2",W(r,{class:"mb-1"}),"Total Active Copilot Chat Users",16)]),default:h(()=>[u(E,{class:"pa-2",style:{"background-color":"#f0f0f0","max-width":"350px"}},{default:h(()=>[...t[5]||(t[5]=[c("span",{class:"text-caption",style:{"font-size":"10px !important"}},"A bar chart that illustrates the total number of users who have actively interacted with Copilot over the past 28 days.",-1)])]),_:1})]),_:1}),u(l,{data:e.totalActiveCopilotChatUsersChartData,options:e.totalActiveChatUsersChartOptions},null,8,["data","options"])]),_:1})]),_:1})],64)}const Cr=Object.assign(De(xb,[["render",Mb]]),{__name:"CopilotChatViewer"});we.register(Js,ds,us,Ls,as,ns,rs,cs,ls);const Pb=ae({name:"UserPromptsViewer",components:{Bar:Di,Line:es},props:{metrics:{type:Object,required:!0},dateRangeDescription:{type:String,default:"Over the last 28 days"},localUsername:{type:String,default:"Unknown"}},setup(e){const t=Dt(e,"metrics").value,s=Dt(e,"localUsername"),i=O(1),o=O(null),n=O("Loading..."),a=O([]),l=O(null),r=O("mdi-microsoft-visual-studio-code"),d=O("#007ACC"),f=O([]),g=O(!1),m=O({totalPrompts:0,totalResponses:0,totalIDEs:0}),v=P(()=>s.value&&s.value!=="Unknown");Ms(()=>{v.value&&(o.value=s.value,n.value=s.value,i.value=2)});const y=L=>{o.value=L,i.value=2},x=L=>{i.value=L,L===1?(o.value=null,l.value=null):L===2&&(l.value=null)},w=async()=>{try{const L=await $fetch("/api/copilot-data-extractor?action=extract-all");L.success&&L.summary&&(m.value={totalPrompts:L.summary.totalPrompts||0,totalResponses:L.summary.totalResponses||L.summary.totalPrompts||0,totalIDEs:L.summary.totalIDEs||0})}catch(L){console.error("Error fetching local user stats:",L)}},C=async()=>{try{const L=await $fetch("/api/github-user-info");L.success&&(n.value=L.githubUsername,a.value=L.installedIDEs)}catch(L){console.error("Error fetching GitHub user info:",L),n.value="Unknown User"}},M=L=>{l.value=L.name,r.value=L.icon,d.value=L.color,i.value=3,T()},T=async()=>{g.value=!0;try{const L=new URLSearchParams;n.value&&n.value!=="Unknown User"&&n.value!=="Loading..."&&L.append("username",n.value),l.value&&L.append("ide",l.value);const q=`/api/local-chat-sessions${L.toString()?"?"+L.toString():""}`,it=await $fetch(q);if(f.value=it.sessions||[],f.value.length===0){const ct=await $fetch("/api/chat-history?mock=true");f.value=ct.sessions||[]}}catch(L){console.error("Error fetching chat sessions:",L);try{const q=await $fetch("/api/chat-history?mock=true");f.value=q.sessions||[]}catch(q){console.error("Error fetching mock data:",q),f.value=[]}}finally{g.value=!1}},S=(L,q)=>{const it=new Date(L),ct=new Date(q),Tt=zt=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(zt);return`${Tt(it)} - ${Tt(ct)}`},A=L=>{if(!L)return"";const q=new Date(L);return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}).format(q)},z=P(()=>f.value.length),F=P(()=>{const L=f.value.reduce((it,ct)=>it+ct.prompt_count,0),q=t.reduce((it,ct)=>it+(ct.total_chat_turns||0),0);return Math.max(L,q)}),N=P(()=>{if(m.value.totalPrompts>0)return m.value.totalPrompts;let L=0;return f.value.forEach(q=>{q.prompts&&(L+=q.prompts.filter(it=>it.type==="user").length)}),L===0&&(L=f.value.reduce((q,it)=>q+Math.ceil(it.prompt_count/2),0)),L}),I=P(()=>{if(m.value.totalResponses>0)return m.value.totalResponses;let L=0;return f.value.forEach(q=>{q.prompts&&(L+=q.prompts.filter(it=>it.type==="assistant").length)}),L===0&&(L=f.value.reduce((q,it)=>q+Math.ceil(it.prompt_count/2),0)),L}),B=P(()=>z.value===0?0:(f.value.reduce((q,it)=>q+it.prompt_count,0)/z.value).toFixed(1)),V=O({labels:t.map(L=>L.day),datasets:[{label:"Daily User Prompts",data:t.map(L=>L.total_chat_turns||0),backgroundColor:"rgba(54, 162, 235, 0.2)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:2,tension:.4}]}),K=O({labels:t.map(L=>L.day),datasets:[{label:"Active Users Prompting",data:t.map(L=>L.total_active_chat_users||0),backgroundColor:"rgba(75, 192, 192, 0.2)",borderColor:"rgba(75, 192, 192, 1)"}]}),at=O({labels:t.map(L=>L.day),datasets:[{label:"User Prompts (Turns)",data:t.map(L=>L.total_chat_turns||0),backgroundColor:"rgba(153, 102, 255, 0.2)",borderColor:"rgba(153, 102, 255, 1)",borderWidth:2,tension:.4},{label:"Code Acceptances",data:t.map(L=>L.total_chat_acceptances||0),backgroundColor:"rgba(255, 159, 64, 0.2)",borderColor:"rgba(255, 159, 64, 1)",borderWidth:2,tension:.4}]}),G={responsive:!0,maintainAspectRatio:!0,height:300,width:300,scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}},layout:{padding:{left:150,right:150,top:20,bottom:40}}},J={responsive:!0,maintainAspectRatio:!0,scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}},layout:{padding:{left:50,right:50,top:50,bottom:50}}};return Ms(()=>{C(),w()}),{currentStep:i,selectedUser:o,selectUser:y,goBackToStep:x,githubUsername:n,installedIDEs:a,selectedIDE:l,currentIDEIcon:r,currentIDEColor:d,selectIDE:M,totalSessions:z,totalPrompts:F,userTotalPrompts:N,userTotalResponses:I,averagePromptsPerSession:B,chatSessions:f,isLoading:g,formatDateRange:S,formatMessageTime:A,dailyPromptsChartData:V,activeUsersChartData:K,promptsVsAcceptancesChartData:at,chartOptions:G,activeUsersChartOptions:J,isLocalMode:v}}}),_i=Symbol.for("vuetify:v-expansion-panel"),Sr=qt({...Ee(),...bl()},"VExpansionPanelText"),Jt=Yt()({name:"VExpansionPanelText",props:Sr(),setup(e,t){let{slots:s}=t;const i=wi(_i);if(!i)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:o,onAfterLeave:n}=vl(e,i.isSelected);return Xt(()=>u(yl,{onAfterLeave:n},{default:()=>[be(u("div",{class:["v-expansion-panel-text",e.class],style:e.style},[s.default&&o.value&&u("div",{class:"v-expansion-panel-text__wrapper"},[s.default?.()])]),[[Pe,i.isSelected.value]])]})),{}}}),Dr=qt({color:String,expandIcon:{type:Oo,default:"$expand"},collapseIcon:{type:Oo,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...Ee(),...tn()},"VExpansionPanelTitle"),Zt=Yt()({name:"VExpansionPanelTitle",directives:{Ripple:Gc},props:Dr(),setup(e,t){let{slots:s}=t;const i=wi(_i);if(!i)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:o,backgroundColorStyles:n}=Ci(e,"color"),{dimensionStyles:a}=Qo(e),l=P(()=>({collapseIcon:e.collapseIcon,disabled:i.disabled.value,expanded:i.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly})),r=P(()=>i.isSelected.value?e.collapseIcon:e.expandIcon);return Xt(()=>be(u("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":i.isSelected.value,"v-expansion-panel-title--focusable":e.focusable,"v-expansion-panel-title--static":e.static},o.value,e.class],style:[n.value,a.value,e.style],type:"button",tabindex:i.disabled.value?-1:void 0,disabled:i.disabled.value,"aria-expanded":i.isSelected.value,onClick:e.readonly?void 0:i.toggle},[u("span",{class:"v-expansion-panel-title__overlay"},null),s.default?.(l.value),!e.hideActions&&u(Qe,{defaults:{VIcon:{icon:r.value}}},{default:()=>[u("span",{class:"v-expansion-panel-title__icon"},[s.actions?.(l.value)??u(Z,null,null)])]})]),[[dl("ripple"),e.ripple]])),{}}}),Tr=qt({title:String,text:String,bgColor:String,...nn(),...xl(),...on(),...os(),...Dr(),...Sr()},"VExpansionPanel"),oe=Yt()({name:"VExpansionPanel",props:Tr(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:s}=t;const i=_l(e,_i),{backgroundColorClasses:o,backgroundColorStyles:n}=Ci(e,"bgColor"),{elevationClasses:a}=en(e),{roundedClasses:l}=sn(e),r=P(()=>i?.disabled.value||e.disabled),d=P(()=>i.group.items.value.reduce((m,v,y)=>(i.group.selected.value.includes(v.id)&&m.push(y),m),[])),f=P(()=>{const m=i.group.items.value.findIndex(v=>v.id===i.id);return!i.isSelected.value&&d.value.some(v=>v-m===1)}),g=P(()=>{const m=i.group.items.value.findIndex(v=>v.id===i.id);return!i.isSelected.value&&d.value.some(v=>v-m===-1)});return ul(_i,i),Xt(()=>{const m=!!(s.text||e.text),v=!!(s.title||e.title),y=Zt.filterProps(e),x=Jt.filterProps(e);return u(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":i.isSelected.value,"v-expansion-panel--before-active":f.value,"v-expansion-panel--after-active":g.value,"v-expansion-panel--disabled":r.value},l.value,o.value,e.class],style:[n.value,e.style]},{default:()=>[u("div",{class:["v-expansion-panel__shadow",...a.value]},null),u(Qe,{defaults:{VExpansionPanelTitle:{...y},VExpansionPanelText:{...x}}},{default:()=>[v&&u(Zt,{key:"title"},{default:()=>[s.title?s.title():e.title]}),m&&u(Jt,{key:"text"},{default:()=>[s.text?s.text():e.text]}),s.default?.()]})]})}),{groupItem:i}}}),Rb=["default","accordion","inset","popout"],$b=qt({flat:Boolean,...Yc(),...mc(Tr(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...lo(),...Ee(),...os(),variant:{type:String,default:"default",validator:e=>Rb.includes(e)}},"VExpansionPanels"),Cn=Yt()({name:"VExpansionPanels",props:$b(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:s}=t;const{next:i,prev:o}=wl(e,_i),{themeClasses:n}=ao(e),a=P(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return ki({VExpansionPanel:{bgColor:Dt(e,"bgColor"),collapseIcon:Dt(e,"collapseIcon"),color:Dt(e,"color"),eager:Dt(e,"eager"),elevation:Dt(e,"elevation"),expandIcon:Dt(e,"expandIcon"),focusable:Dt(e,"focusable"),hideActions:Dt(e,"hideActions"),readonly:Dt(e,"readonly"),ripple:Dt(e,"ripple"),rounded:Dt(e,"rounded"),static:Dt(e,"static")}}),Xt(()=>u(e.tag,{class:["v-expansion-panels",{"v-expansion-panels--flat":e.flat,"v-expansion-panels--tile":e.tile},n.value,a.value,e.class],style:e.style},{default:()=>[s.default?.({prev:o,next:i})]})),{next:i,prev:o}}}),Lb={key:0,class:"selection-container"},Eb={class:"text-center py-6"},Ob={class:"text-h5 mb-2"},zb={class:"text-h5 font-weight-bold text-primary"},Ib={class:"text-h5 font-weight-bold text-success"},Ub={key:1,class:"selection-container"},Vb={class:"text-center py-3"},Bb={class:"text-h5 mb-1"},Fb={class:"text-center py-6"},Hb={class:"text-h6 mb-2"},Nb={key:2},Wb={class:"d-flex justify-space-between align-center"},jb={class:"d-flex align-center"},Gb={class:"text-h6"},Yb={class:"text-caption text-grey"},qb={class:"tiles-container"},Xb={class:"tiles-text"},Kb={class:"text-caption"},Jb={class:"text-h4"},Zb={class:"tiles-text"},Qb={class:"text-caption"},t0={class:"text-h4"},e0={class:"tiles-text"},s0={class:"text-caption"},i0={class:"text-h4"},o0={class:"d-flex justify-space-between align-center mb-4"},n0={key:0,class:"text-center pa-8"},a0={key:1,class:"text-center pa-8"},l0={key:2,class:"sessions-container"},r0={class:"d-flex justify-space-between align-center w-100"},c0={class:"flex-grow-1"},d0={class:"d-flex align-center mb-1"},u0={class:"session-title"},h0={class:"text-caption text-grey"},f0={class:"mr-4"},p0={class:"source-text"},g0={class:"pa-4"},m0={class:"mb-3"},v0={class:"session-description text-grey-darken-1 mb-4"},b0={class:"prompts-list"},y0={class:"message-content"},_0={class:"message-header mb-1 d-flex justify-space-between align-center"},x0={key:0,class:"text-caption text-grey"},w0={class:"message-text"};function k0(e,t,s,i,o,n){const a=Se("Line"),l=Se("Bar");return R(),H("div",null,[e.currentStep===1?(R(),H("div",Lb,[t[9]||(t[9]=c("div",{class:"text-center mb-6"},[c("h3",{class:"text-h4 mb-2"},"Select GitHub User"),c("p",{class:"text-subtitle-1 text-grey"},"Choose a user to view their Copilot activity")],-1)),u(Rt,{justify:"center"},{default:h(()=>[u(ot,{cols:"12",sm:"6",md:"4"},{default:h(()=>[u(E,{elevation:"6",hover:"",class:"user-card mx-auto",onClick:t[0]||(t[0]=r=>e.selectUser(e.githubUsername)),style:{cursor:"pointer"}},{default:h(()=>[u(ht,null,{default:h(()=>[c("div",Eb,[u(ee,{size:"80",color:"primary",class:"mb-4"},{default:h(()=>[u(Z,{size:"50",color:"white"},{default:h(()=>[...t[3]||(t[3]=[D("mdi-github",-1)])]),_:1})]),_:1}),c("h2",Ob,k(e.githubUsername),1),t[8]||(t[8]=c("p",{class:"text-subtitle-2 text-grey mb-3"},"GitHub Account",-1)),u(Be,{color:"success",size:"small",variant:"outlined",class:"mb-4"},{default:h(()=>[u(Z,{start:"",size:"small"},{default:h(()=>[...t[4]||(t[4]=[D("mdi-check-circle",-1)])]),_:1}),t[5]||(t[5]=D(" Logged In ",-1))]),_:1}),u(Vc,{class:"my-4"}),u(Rt,{justify:"center",class:"mt-2"},{default:h(()=>[u(ot,{cols:"6",class:"text-center"},{default:h(()=>[c("div",zb,k(e.userTotalPrompts),1),t[6]||(t[6]=c("div",{class:"text-caption text-grey"},"Total Prompts",-1))]),_:1}),u(ot,{cols:"6",class:"text-center"},{default:h(()=>[c("div",Ib,k(e.userTotalResponses),1),t[7]||(t[7]=c("div",{class:"text-caption text-grey"},"Total Responses",-1))]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1})])):e.currentStep===2?(R(),H("div",Ub,[u(rt,{"prepend-icon":"mdi-arrow-left",variant:"text",color:"primary",class:"mb-4",onClick:t[1]||(t[1]=r=>e.goBackToStep(1))},{default:h(()=>[...t[10]||(t[10]=[D(" Back to Users ",-1)])]),_:1}),u(E,{elevation:"4",class:"mx-auto mb-6","max-width":"500",color:"primary",dark:""},{default:h(()=>[u(ht,null,{default:h(()=>[c("div",Vb,[u(ee,{size:"60",color:"white",class:"mb-2"},{default:h(()=>[u(Z,{size:"35",color:"primary"},{default:h(()=>[...t[11]||(t[11]=[D("mdi-github",-1)])]),_:1})]),_:1}),c("h3",Bb,k(e.selectedUser),1),t[12]||(t[12]=c("p",{class:"text-caption",style:{opacity:"0.8"}},"GitHub Account",-1))])]),_:1})]),_:1}),t[16]||(t[16]=c("div",{class:"text-center mb-4"},[c("h3",{class:"text-h5 mb-4"},"Select Your IDE"),c("p",{class:"text-subtitle-2 text-grey mb-6"},"Choose which IDE's Copilot prompts you want to view")],-1)),u(Rt,{justify:"center"},{default:h(()=>[(R(!0),H(Lt,null,ne(e.installedIDEs,r=>(R(),tt(ot,{key:r.name,cols:"12",sm:"6",md:"4"},{default:h(()=>[u(E,{elevation:"4",hover:"",class:"ide-card",onClick:d=>e.selectIDE(r),color:r.hasGitHubCopilot?"white":"grey-lighten-3",disabled:!r.hasGitHubCopilot},{default:h(()=>[u(ht,null,{default:h(()=>[c("div",Fb,[u(ee,{color:r.color,size:"60",class:"mb-3"},{default:h(()=>[u(Z,{size:"35",color:"white"},{default:h(()=>[D(k(r.icon),1)]),_:2},1024)]),_:2},1032,["color"]),c("h4",Hb,k(r.name),1),r.hasGitHubCopilot?(R(),tt(Be,{key:0,color:"success",size:"x-small",variant:"outlined"},{default:h(()=>[u(Z,{start:"",size:"x-small"},{default:h(()=>[...t[13]||(t[13]=[D("mdi-robot",-1)])]),_:1}),t[14]||(t[14]=D(" Copilot Enabled ",-1))]),_:1})):(R(),tt(Be,{key:1,color:"grey",size:"x-small",variant:"outlined"},{default:h(()=>[...t[15]||(t[15]=[D(" Not Available ",-1)])]),_:1}))])]),_:2},1024)]),_:2},1032,["onClick","color","disabled"])]),_:2},1024))),128))]),_:1})])):e.currentStep===3?(R(),H("div",Nb,[u(E,{elevation:"2",class:"mb-4",color:"grey-lighten-5"},{default:h(()=>[u(ht,null,{default:h(()=>[c("div",Wb,[u(rt,{"prepend-icon":"mdi-arrow-left",variant:"text",color:"primary",onClick:t[2]||(t[2]=r=>e.goBackToStep(2))},{default:h(()=>[...t[17]||(t[17]=[D(" Back to IDE Selection ",-1)])]),_:1}),c("div",jb,[u(ee,{color:e.currentIDEColor,size:"40",class:"mr-3"},{default:h(()=>[u(Z,{color:"white"},{default:h(()=>[D(k(e.currentIDEIcon),1)]),_:1})]),_:1},8,["color"]),c("div",null,[c("div",Gb,k(e.selectedIDE),1),c("div",Yb,k(e.selectedUser),1)])])])]),_:1})]),_:1}),c("div",qb,[u(E,{elevation:"4",color:"white",variant:"elevated",class:"mx-auto my-3",style:{width:"300px",height:"175px"}},{default:h(()=>[u(ht,null,{default:h(()=>[c("div",Xb,[t[19]||(t[19]=c("div",{class:"spacing-25"},null,-1)),u(Y,{location:"bottom start","open-on-hover":"","open-delay":"200","close-delay":"200"},{activator:h(({props:r})=>[c("div",W(r,{class:"text-h6 mb-1"}),"Total Chat Sessions",16)]),default:h(()=>[u(E,{class:"pa-2",style:{"background-color":"#f0f0f0","max-width":"350px"}},{default:h(()=>[...t[18]||(t[18]=[c("span",{class:"text-caption",style:{"font-size":"10px !important"}},"Total number of GitHub Copilot chat sessions from your local system.",-1)])]),_:1})]),_:1}),c("div",Kb,k(e.dateRangeDescription),1),c("p",Jb,k(e.totalSessions),1)])]),_:1})]),_:1}),u(E,{elevation:"4",color:"white",variant:"elevated",class:"mx-auto my-3",style:{width:"300px",height:"175px"}},{default:h(()=>[u(ht,null,{default:h(()=>[c("div",Zb,[t[21]||(t[21]=c("div",{class:"spacing-10"},null,-1)),u(Y,{location:"bottom start","open-on-hover":"","open-delay":"200","close-delay":"200"},{activator:h(({props:r})=>[c("div",W(r,{class:"text-h6 mb-1"}),"Total Prompts",16)]),default:h(()=>[u(E,{class:"pa-2",style:{"background-color":"#f0f0f0","max-width":"350px"}},{default:h(()=>[...t[20]||(t[20]=[c("span",{class:"text-caption",style:{"font-size":"10px !important"}},"Total number of prompts across all chat sessions.",-1)])]),_:1})]),_:1}),c("div",Qb,k(e.dateRangeDescription),1),c("p",t0,k(e.totalPrompts),1)])]),_:1})]),_:1}),u(E,{elevation:"4",color:"white",variant:"elevated",class:"mx-auto my-3",style:{width:"300px",height:"175px"}},{default:h(()=>[u(ht,null,{default:h(()=>[c("div",e0,[t[23]||(t[23]=c("div",{class:"spacing-25"},null,-1)),u(Y,{location:"bottom start","open-on-hover":"","open-delay":"200","close-delay":"200"},{activator:h(({props:r})=>[c("div",W(r,{class:"text-h6 mb-1"}),"Avg Prompts/Session",16)]),default:h(()=>[u(E,{class:"pa-2",style:{"background-color":"#f0f0f0","max-width":"350px"}},{default:h(()=>[...t[22]||(t[22]=[c("span",{class:"text-caption",style:{"font-size":"10px !important"}},"Average number of prompts per chat session.",-1)])]),_:1})]),_:1}),c("div",s0,k(e.dateRangeDescription),1),c("p",i0,k(e.averagePromptsPerSession),1)])]),_:1})]),_:1})]),u(ss,{class:"p-1 mt-6"},{default:h(()=>[u(Vt,{class:"px-4"},{default:h(()=>[c("div",o0,[t[24]||(t[24]=c("h2",null,"RECENT SESSIONS",-1)),u(Be,{color:"primary",variant:"text"},{default:h(()=>[D(k(e.totalSessions)+" sessions",1)]),_:1})]),e.isLoading?(R(),H("div",n0,[u(kl,{indeterminate:"",color:"primary",size:"64"}),t[25]||(t[25]=c("p",{class:"mt-4"},"Loading chat sessions...",-1))])):e.chatSessions.length===0?(R(),H("div",a0,[u(Z,{size:"64",color:"grey"},{default:h(()=>[...t[26]||(t[26]=[D("mdi-message-off-outline",-1)])]),_:1}),t[27]||(t[27]=c("p",{class:"mt-4 text-grey"},"No chat sessions found",-1))])):(R(),H("div",l0,[u(Cn,null,{default:h(()=>[(R(!0),H(Lt,null,ne(e.chatSessions,r=>(R(),tt(oe,{key:r.id,class:"mb-3"},{default:h(()=>[u(Zt,{class:"session-card-title"},{default:h(()=>[c("div",r0,[c("div",c0,[c("div",d0,[u(Z,{class:"mr-2",size:"small",color:"primary"},{default:h(()=>[...t[28]||(t[28]=[D("mdi-message-text-outline",-1)])]),_:1}),c("h3",u0,k(r.title),1)]),c("div",h0,[c("span",f0,k(e.formatDateRange(r.start_date,r.end_date)),1),c("span",p0,k(r.source),1)])]),u(Be,{color:"primary",size:"small",class:"mr-4"},{default:h(()=>[D(k(r.prompt_count)+" prompts ",1)]),_:2},1024)])]),_:2},1024),u(Jt,null,{default:h(()=>[c("div",g0,[c("div",m0,[(R(!0),H(Lt,null,ne(r.tags,d=>(R(),tt(Be,{key:d,class:"mr-2 mb-1",size:"small",variant:"outlined",color:"primary"},{default:h(()=>[D(k(d),1)]),_:2},1024))),128))]),c("p",v0,k(r.description),1),c("div",b0,[t[31]||(t[31]=c("h4",{class:"mb-3"},"Complete Conversation:",-1)),u(co,{density:"compact"},{default:h(()=>[(R(!0),H(Lt,null,ne(r.prompts,(d,f)=>(R(),tt(Ze,{key:f,class:Ge(["conversation-item","mb-3",d.type==="user"?"user-message":"assistant-message"])},{prepend:h(()=>[u(ee,{color:d.type==="user"?"primary":"success",size:"32",class:"mr-3"},{default:h(()=>[d.type==="user"?(R(),tt(Z,{key:0,size:"20",color:"white"},{default:h(()=>[...t[29]||(t[29]=[D("mdi-account",-1)])]),_:1})):st("",!0),d.type==="assistant"?(R(),tt(Z,{key:1,size:"20",color:"white"},{default:h(()=>[...t[30]||(t[30]=[D("mdi-robot",-1)])]),_:1})):st("",!0)]),_:2},1032,["color"])]),default:h(()=>[c("div",y0,[c("div",_0,[c("strong",null,k(d.type==="user"?"You":"GitHub Copilot"),1),d.timestamp?(R(),H("span",x0,k(e.formatMessageTime(d.timestamp)),1)):st("",!0)]),c("div",w0,k(d.text),1)])]),_:2},1032,["class"]))),128))]),_:2},1024)])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]))]),_:1})]),_:1})])):st("",!0),u(ss,{class:"p-1",style:{"min-height":"300px"}},{default:h(()=>[u(Vt,{style:{"min-height":"300px"},class:"px-4 elevation-2"},{default:h(()=>[u(Y,{location:"bottom start","open-on-hover":"","open-delay":"200","close-delay":"200"},{activator:h(({props:r})=>[c("h2",W(r,{class:"mb-1"}),"Daily User Prompts Activity",16)]),default:h(()=>[u(E,{class:"pa-2",style:{"background-color":"#f0f0f0","max-width":"350px"}},{default:h(()=>[...t[32]||(t[32]=[c("span",{class:"text-caption",style:{"font-size":"10px !important"}},"This chart displays the daily number of prompts submitted by users to GitHub Copilot Chat, showing engagement trends over time.",-1)])]),_:1})]),_:1}),u(a,{data:e.dailyPromptsChartData,options:e.chartOptions},null,8,["data","options"]),u(Y,{location:"bottom start","open-on-hover":"","open-delay":"200","close-delay":"200"},{activator:h(({props:r})=>[c("h2",W(r,{class:"mb-1"}),"Active Users Prompting Chat",16)]),default:h(()=>[u(E,{class:"pa-2",style:{"background-color":"#f0f0f0","max-width":"350px"}},{default:h(()=>[...t[33]||(t[33]=[c("span",{class:"text-caption",style:{"font-size":"10px !important"}},"Bar chart showing the number of active users who prompted Copilot Chat each day during the selected period.",-1)])]),_:1})]),_:1}),u(l,{data:e.activeUsersChartData,options:e.activeUsersChartOptions},null,8,["data","options"]),u(Y,{location:"bottom start","open-on-hover":"","open-delay":"200","close-delay":"200"},{activator:h(({props:r})=>[c("h2",W(r,{class:"mb-1"}),"Prompts vs Acceptances",16)]),default:h(()=>[u(E,{class:"pa-2",style:{"background-color":"#f0f0f0","max-width":"350px"}},{default:h(()=>[...t[34]||(t[34]=[c("span",{class:"text-caption",style:{"font-size":"10px !important"}},"Comparison of total chat turns (prompts) versus code acceptances from chat suggestions, showing how users interact with chat responses.",-1)])]),_:1})]),_:1}),u(a,{data:e.promptsVsAcceptancesChartData,options:e.chartOptions},null,8,["data","options"])]),_:1})]),_:1})])}const Ar=Object.assign(De(Pb,[["render",k0],["__scopeId","data-v-bee8b002"]]),{__name:"UserPromptsViewer"});we.register(ds,us,as,ns,Ls,rs,cs,ls);const C0={totalIdeCodeCompletionUsers:0,totalIdeChatUsers:0,totalDotcomChatUsers:0,totalDotcomPRUsers:0,totalPRSummariesCreated:0,totalIdeCodeCompletionModels:0,totalIdeChatModels:0,totalDotcomChatModels:0,totalDotcomPRModels:0,ideCodeCompletionModels:[],ideChatModels:[],dotcomChatModels:[],dotcomPRModels:[],agentModeChartData:{labels:[],datasets:[]},modelUsageChartData:{labels:[],datasets:[]}},S0=ae({name:"AgentModeViewer",components:{LineChart:es,BarChart:Di},props:{dateRange:{type:Object,required:!0},originalMetrics:{type:Array,required:!0},dateRangeDescription:{type:String,default:""}},setup(e){const t=ce({...C0}),s=O(!1),i=O(null),o=Xo(),n=O(""),a=O("");let l=null;return he(()=>[e.originalMetrics,e.dateRangeDescription,e.dateRange],async()=>{if(e.originalMetrics.length===0)return;const x=JSON.stringify(e.originalMetrics.map(C=>({date:C.date,activeUsers:C.total_active_users,engagedUsers:C.total_engaged_users}))),w=e.dateRangeDescription||"";x===n.value&&w===a.value||(l&&clearTimeout(l),l=setTimeout(async()=>{s.value=!0,i.value=null;try{const M=Ce.fromRoute(o,e.dateRange.since,e.dateRange.until).toParams(),T=new URLSearchParams(M).toString(),S=T?`/api/github-stats?${T}`:"/api/github-stats",A=await $fetch(S);Object.assign(t.value,A),n.value=x,a.value=w}catch(C){i.value=C instanceof Error?C.message:"Failed to fetch GitHub statistics",console.error("Error fetching GitHub stats:",C)}finally{s.value=!1}},150))},{immediate:!0,deep:!1}),{stats:t,loading:s,error:i,codeCompletionHeaders:[{title:"Model Name",key:"name"},{title:"Editor",key:"editor"},{title:"Type",key:"model_type"},{title:"Total Users with Activity",key:"total_engaged_users"}],ideChatHeaders:[{title:"Model Name",key:"name"},{title:"Editor",key:"editor"},{title:"Type",key:"model_type"},{title:"Total Users with Activity",key:"total_engaged_users"},{title:"Total Chats",key:"total_chats"},{title:"Insertions",key:"total_chat_insertion_events"},{title:"Copy Events",key:"total_chat_copy_events"}],dotcomChatHeaders:[{title:"Model Name",key:"name"},{title:"Type",key:"model_type"},{title:"Total Users with Activity",key:"total_engaged_users"},{title:"Total Chats",key:"total_chats"}],dotcomPRHeaders:[{title:"Model Name",key:"name"},{title:"Repository",key:"repository"},{title:"Type",key:"model_type"},{title:"Total Users with Activity",key:"total_engaged_users"},{title:"PR Summaries",key:"total_pr_summaries_created"}],chartOptions:{responsive:!0,maintainAspectRatio:!1,animation:{duration:0},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Users with Activity"}}},plugins:{title:{display:!0,text:"Copilot Feature Usage Over Time"},legend:{display:!0,position:"top"}},interaction:{intersect:!1}},barChartOptions:{responsive:!0,maintainAspectRatio:!1,animation:{duration:0},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Number of Models"}}},plugins:{title:{display:!0,text:"Model Usage Distribution"},legend:{display:!0,position:"top"}},interaction:{intersect:!1}}}}}),D0={class:"github-com-container"},T0={key:0,class:"d-flex justify-center align-center",style:{"min-height":"300px"}},A0={key:1,class:"d-flex justify-center align-center",style:{"min-height":"300px"}},M0={key:2},P0={class:"text-body-2 text-center"},R0={class:"text-h4 mb-2"},$0={class:"text-subtitle2 mt-2"},L0={class:"text-h4 mb-2"},E0={class:"text-subtitle2 mt-2"},O0={class:"text-h4 mb-2"},z0={class:"text-subtitle2 mt-2"},I0={class:"text-h4 mb-2"},U0={class:"text-subtitle2 mt-2"},V0={class:"chart-container"},B0={class:"chart-container"};function F0(e,t,s,i,o,n){const a=Se("LineChart"),l=Se("BarChart");return R(),H("div",D0,[u(ss,{class:"p-1",style:{"min-height":"300px"}},{default:h(()=>[u(Vt,{style:{"min-height":"300px"},class:"px-4 elevation-2"},{default:h(()=>[e.loading?(R(),H("div",T0,[u(kl,{indeterminate:"",size:"64",color:"primary"})])):e.error?(R(),H("div",A0,[u(Yi,{type:"error",class:"mb-4"},{default:h(()=>[u(Bc,null,{default:h(()=>[...t[0]||(t[0]=[D("Error Loading Statistics",-1)])]),_:1}),D(" "+k(e.error),1)]),_:1})])):(R(),H("div",M0,[u(Y,{location:"bottom start","open-on-hover":"","open-delay":"200","close-delay":"200"},{activator:h(({props:r})=>[c("h2",W(r,{class:"mb-4"}),"Copilot Statistics",16)]),default:h(()=>[u(E,{class:"pa-2",style:{"background-color":"#f0f0f0","max-width":"400px"}},{default:h(()=>[...t[1]||(t[1]=[c("span",{class:"text-caption",style:{"font-size":"10px !important"}}," This section displays statistics for different GitHub.com Copilot features and the models used by users. ",-1)])]),_:1})]),_:1}),e.dateRangeDescription?(R(),tt(E,{key:0,flat:"",class:"pa-3 mb-4",color:"blue-grey lighten-5"},{default:h(()=>[c("div",P0,[u(Z,{left:"",small:""},{default:h(()=>[...t[2]||(t[2]=[D("mdi-calendar-range",-1)])]),_:1}),D(" "+k(e.dateRangeDescription),1)])]),_:1})):st("",!0),u(Rt,{class:"mb-4"},{default:h(()=>[u(ot,{cols:"12",md:"6",lg:"3"},{default:h(()=>[u(E,{elevation:"4",color:"blue lighten-4"},{default:h(()=>[u(St,{class:"text-h6"},{default:h(()=>[u(Y,{location:"bottom start","open-on-hover":"","open-delay":"200","close-delay":"200"},{activator:h(({props:r})=>[c("span",Ss(Fs(r)),"IDE Code Completions",16)]),default:h(()=>[u(E,{class:"pa-2",style:{"background-color":"#f0f0f0","max-width":"350px"}},{default:h(()=>[...t[3]||(t[3]=[c("span",{class:"text-caption",style:{"font-size":"10px !important"}}," Statistics for code completions in integrated development environments. ",-1)])]),_:1})]),_:1})]),_:1}),u(gt,null,{default:h(()=>[c("div",R0,k(e.stats.totalIdeCodeCompletionUsers),1),t[4]||(t[4]=c("div",{class:"text-caption"},"Total Users with Activity",-1)),c("div",$0,k(e.stats.totalIdeCodeCompletionModels)+" Models Used",1)]),_:1})]),_:1})]),_:1}),u(ot,{cols:"12",md:"6",lg:"3"},{default:h(()=>[u(E,{elevation:"4",color:"green lighten-4"},{default:h(()=>[u(St,{class:"text-h6"},{default:h(()=>[u(Y,{location:"bottom start","open-on-hover":"","open-delay":"200","close-delay":"200"},{activator:h(({props:r})=>[c("span",Ss(Fs(r)),"IDE Chat",16)]),default:h(()=>[u(E,{class:"pa-2",style:{"background-color":"#f0f0f0","max-width":"350px"}},{default:h(()=>[...t[5]||(t[5]=[c("span",{class:"text-caption",style:{"font-size":"10px !important"}}," Statistics for chat interactions in integrated development environments. ",-1)])]),_:1})]),_:1})]),_:1}),u(gt,null,{default:h(()=>[c("div",L0,k(e.stats.totalIdeChatUsers),1),t[6]||(t[6]=c("div",{class:"text-caption"},"Total Users with Activity",-1)),c("div",E0,k(e.stats.totalIdeChatModels)+" Models Used",1)]),_:1})]),_:1})]),_:1}),u(ot,{cols:"12",md:"6",lg:"3"},{default:h(()=>[u(E,{elevation:"4",color:"purple lighten-4"},{default:h(()=>[u(St,{class:"text-h6"},{default:h(()=>[u(Y,{location:"bottom start","open-on-hover":"","open-delay":"200","close-delay":"200"},{activator:h(({props:r})=>[c("span",Ss(Fs(r)),"GitHub.com Chat",16)]),default:h(()=>[u(E,{class:"pa-2",style:{"background-color":"#f0f0f0","max-width":"350px"}},{default:h(()=>[...t[7]||(t[7]=[c("span",{class:"text-caption",style:{"font-size":"10px !important"}}," Statistics for chat interactions on GitHub.com web interface. ",-1)])]),_:1})]),_:1})]),_:1}),u(gt,null,{default:h(()=>[c("div",O0,k(e.stats.totalDotcomChatUsers),1),t[8]||(t[8]=c("div",{class:"text-caption"},"Total Users with Activity",-1)),c("div",z0,k(e.stats.totalDotcomChatModels)+" Models Used",1)]),_:1})]),_:1})]),_:1}),u(ot,{cols:"12",md:"6",lg:"3"},{default:h(()=>[u(E,{elevation:"4",color:"orange lighten-4"},{default:h(()=>[u(St,{class:"text-h6"},{default:h(()=>[u(Y,{location:"bottom start","open-on-hover":"","open-delay":"200","close-delay":"200"},{activator:h(({props:r})=>[c("span",Ss(Fs(r)),"GitHub.com PR Summaries",16)]),default:h(()=>[u(E,{class:"pa-2",style:{"background-color":"#f0f0f0","max-width":"350px"}},{default:h(()=>[...t[9]||(t[9]=[c("span",{class:"text-caption",style:{"font-size":"10px !important"}}," Statistics for pull request summaries generated by Copilot on GitHub.com. ",-1)])]),_:1})]),_:1})]),_:1}),u(gt,null,{default:h(()=>[c("div",I0,k(e.stats.totalPRSummariesCreated),1),t[10]||(t[10]=c("div",{class:"text-caption"},"Total PR Summaries Created",-1)),c("div",U0,k(e.stats.totalDotcomPRModels)+" Models Used",1)]),_:1})]),_:1})]),_:1})]),_:1}),u(Y,{location:"bottom start","open-on-hover":"","open-delay":"200","close-delay":"200"},{activator:h(({props:r})=>[c("h2",W(r,{class:"mb-1"}),"Copilot Feature Usage Over Time",16)]),default:h(()=>[u(E,{class:"pa-2",style:{"background-color":"#f0f0f0","max-width":"400px"}},{default:h(()=>[...t[11]||(t[11]=[c("span",{class:"text-caption",style:{"font-size":"10px !important"}}," This chart shows the usage of different Copilot features over time. ",-1)])]),_:1})]),_:1}),c("div",V0,[e.stats.agentModeChartData.labels.length?(R(),tt(a,{key:0,data:e.stats.agentModeChartData,options:e.chartOptions},null,8,["data","options"])):st("",!0)]),u(Y,{location:"bottom start","open-on-hover":"","open-delay":"200","close-delay":"200"},{activator:h(({props:r})=>[c("h2",W(r,{class:"mb-4 mt-6"}),"Models Used by Users",16)]),default:h(()=>[u(E,{class:"pa-2",style:{"background-color":"#f0f0f0","max-width":"400px"}},{default:h(()=>[...t[12]||(t[12]=[c("span",{class:"text-caption",style:{"font-size":"10px !important"}}," This section shows detailed information about the AI models used across different GitHub.com Copilot features. ",-1)])]),_:1})]),_:1}),u(Cn,{class:"mb-4"},{default:h(()=>[e.stats.ideCodeCompletionModels.length>0?(R(),tt(oe,{key:0},{default:h(()=>[u(Zt,null,{default:h(()=>[u(Z,{start:""},{default:h(()=>[...t[13]||(t[13]=[D("mdi-code-braces",-1)])]),_:1}),D(" IDE Code Completions Models ("+k(e.stats.ideCodeCompletionModels.length)+") ",1)]),_:1}),u(Jt,null,{default:h(()=>[u(Hs,{headers:e.codeCompletionHeaders,items:e.stats.ideCodeCompletionModels,class:"elevation-1","item-key":"name"},null,8,["headers","items"])]),_:1})]),_:1})):st("",!0),e.stats.ideChatModels.length>0?(R(),tt(oe,{key:1},{default:h(()=>[u(Zt,null,{default:h(()=>[u(Z,{start:""},{default:h(()=>[...t[14]||(t[14]=[D("mdi-chat",-1)])]),_:1}),D(" IDE Chat Models ("+k(e.stats.ideChatModels.length)+") ",1)]),_:1}),u(Jt,null,{default:h(()=>[u(Hs,{headers:e.ideChatHeaders,items:e.stats.ideChatModels,class:"elevation-1","item-key":"name"},null,8,["headers","items"])]),_:1})]),_:1})):st("",!0),e.stats.dotcomChatModels.length>0?(R(),tt(oe,{key:2},{default:h(()=>[u(Zt,null,{default:h(()=>[u(Z,{start:""},{default:h(()=>[...t[15]||(t[15]=[D("mdi-web",-1)])]),_:1}),D(" GitHub.com Chat Models ("+k(e.stats.dotcomChatModels.length)+") ",1)]),_:1}),u(Jt,null,{default:h(()=>[u(Hs,{headers:e.dotcomChatHeaders,items:e.stats.dotcomChatModels,class:"elevation-1","item-key":"name"},null,8,["headers","items"])]),_:1})]),_:1})):st("",!0),e.stats.dotcomPRModels.length>0?(R(),tt(oe,{key:3},{default:h(()=>[u(Zt,null,{default:h(()=>[u(Z,{start:""},{default:h(()=>[...t[16]||(t[16]=[D("mdi-source-pull",-1)])]),_:1}),D(" GitHub.com PR Summary Models ("+k(e.stats.dotcomPRModels.length)+") ",1)]),_:1}),u(Jt,null,{default:h(()=>[u(Hs,{headers:e.dotcomPRHeaders,items:e.stats.dotcomPRModels,class:"elevation-1","item-key":"name"},null,8,["headers","items"])]),_:1})]),_:1})):st("",!0)]),_:1}),u(Y,{location:"bottom start","open-on-hover":"","open-delay":"200","close-delay":"200"},{activator:h(({props:r})=>[c("h2",W(r,{class:"mb-1"}),"Model Usage Distribution",16)]),default:h(()=>[u(E,{class:"pa-2",style:{"background-color":"#f0f0f0","max-width":"400px"}},{default:h(()=>[...t[17]||(t[17]=[c("span",{class:"text-caption",style:{"font-size":"10px !important"}}," This chart shows the distribution of model usage across different GitHub.com Copilot features. ",-1)])]),_:1})]),_:1}),c("div",B0,[e.stats.modelUsageChartData.labels.length?(R(),tt(l,{key:0,data:e.stats.modelUsageChartData,options:e.barChartOptions},null,8,["data","options"])):st("",!0)])]))]),_:1})]),_:1})])}const Mr=Object.assign(De(S0,[["render",F0],["__scopeId","data-v-ea85e2b0"]]),{__name:"AgentModeViewer"});function H0(e){if(!e||e.length===0)return"";const t=["Date","Total Suggestions","Total Acceptances","Total Lines Suggested","Total Lines Accepted","Total Active Users","Total Chat Acceptances","Total Chat Turns","Total Active Chat Users","Acceptance Rate by Count (%)","Acceptance Rate by Lines (%)"],s=[];return s.push(t.join(",")),e.forEach(i=>{if(i){const o=[i.day,i.total_suggestions_count?.toString()||"0",i.total_acceptances_count?.toString()||"0",i.total_lines_suggested?.toString()||"0",i.total_lines_accepted?.toString()||"0",i.total_active_users?.toString()||"0",i.total_chat_acceptances?.toString()||"0",i.total_chat_turns?.toString()||"0",i.total_active_chat_users?.toString()||"0",i.acceptance_rate_by_count?.toFixed(2)||"0.00",i.acceptance_rate_by_lines?.toFixed(2)||"0.00"];s.push(o.join(","))}}),s.join(`
`)}function N0(e){if(!e||e.length===0)return"";const t=[];if(e.forEach(o=>{o&&(o.copilot_ide_code_completions&&o.copilot_ide_code_completions.editors&&o.copilot_ide_code_completions.editors.forEach(n=>{n&&n.models&&n.models.forEach(a=>{a&&a.languages&&a.languages.forEach(l=>{l&&t.push({date:o.date,total_active_users:o.total_active_users,total_engaged_users:o.total_engaged_users,feature_type:"IDE Code Completions",editor_name:n.name,model_name:a.name,is_custom_model:a.is_custom_model,custom_model_training_date:a.custom_model_training_date||"",language_name:l.name,feature_engaged_users:l.total_engaged_users,suggestions_count:l.total_code_suggestions,acceptances_count:l.total_code_acceptances,lines_suggested:l.total_code_lines_suggested,lines_accepted:l.total_code_lines_accepted,chats:null,chat_insertion_events:null,chat_copy_events:null,pr_summaries_created:null,repository_name:null})})})}),o.copilot_ide_chat&&o.copilot_ide_chat.editors&&o.copilot_ide_chat.editors.forEach(n=>{n&&n.models&&n.models.forEach(a=>{a&&t.push({date:o.date,total_active_users:o.total_active_users,total_engaged_users:o.total_engaged_users,feature_type:"IDE Chat",editor_name:n.name,model_name:a.name,is_custom_model:a.is_custom_model,custom_model_training_date:a.custom_model_training_date||"",language_name:null,feature_engaged_users:a.total_engaged_users,suggestions_count:null,acceptances_count:null,lines_suggested:null,lines_accepted:null,chats:a.total_chats,chat_insertion_events:a.total_chat_insertion_events,chat_copy_events:a.total_chat_copy_events,pr_summaries_created:null,repository_name:null})})}),o.copilot_dotcom_chat&&o.copilot_dotcom_chat.models&&o.copilot_dotcom_chat.models.forEach(n=>{n&&t.push({date:o.date,total_active_users:o.total_active_users,total_engaged_users:o.total_engaged_users,feature_type:"Dotcom Chat",editor_name:null,model_name:n.name,is_custom_model:n.is_custom_model,custom_model_training_date:n.custom_model_training_date||"",language_name:null,feature_engaged_users:n.total_engaged_users,suggestions_count:null,acceptances_count:null,lines_suggested:null,lines_accepted:null,chats:n.total_chats,chat_insertion_events:null,chat_copy_events:null,pr_summaries_created:null,repository_name:null})}),o.copilot_dotcom_pull_requests&&o.copilot_dotcom_pull_requests.repositories&&o.copilot_dotcom_pull_requests.repositories.forEach(n=>{n&&n.models&&n.models.forEach(a=>{a&&t.push({date:o.date,total_active_users:o.total_active_users,total_engaged_users:o.total_engaged_users,feature_type:"Dotcom Pull Requests",editor_name:null,model_name:a.name,is_custom_model:a.is_custom_model,custom_model_training_date:a.custom_model_training_date||"",language_name:null,feature_engaged_users:a.total_engaged_users,suggestions_count:null,acceptances_count:null,lines_suggested:null,lines_accepted:null,chats:null,chat_insertion_events:null,chat_copy_events:null,pr_summaries_created:a.total_pr_summaries_created,repository_name:n.name})})}))}),t.length===0)return"";const s=["Date","Total Active Users","Total Engaged Users","Feature Type","Editor Name","Model Name","Is Custom Model","Custom Model Training Date","Language Name","Feature Engaged Users","Suggestions Count","Acceptances Count","Lines Suggested","Lines Accepted","Chats","Chat Insertion Events","Chat Copy Events","PR Summaries Created","Repository Name"],i=[];return i.push(s.join(",")),t.forEach(o=>{if(o){const n=[o.date,o.total_active_users?.toString()||"",o.total_engaged_users?.toString()||"",o.feature_type||"",o.editor_name||"",o.model_name||"",o.is_custom_model?.toString()||"",o.custom_model_training_date||"",o.language_name||"",o.feature_engaged_users?.toString()||"",o.suggestions_count?.toString()||"",o.acceptances_count?.toString()||"",o.lines_suggested?.toString()||"",o.lines_accepted?.toString()||"",o.chats?.toString()||"",o.chat_insertion_events?.toString()||"",o.chat_copy_events?.toString()||"",o.pr_summaries_created?.toString()||"",o.repository_name||""];i.push(n.join(","))}}),i.join(`
`)}function Wo(e,t){const s=new Blob([e],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a");if(i.download!==void 0){const o=URL.createObjectURL(s);i.setAttribute("href",o),i.setAttribute("download",t),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(o)}}we.register(Js,ds,us,Ls,as,ns,rs,cs,ls);const W0=ae({name:"SeatsAnalysisViewer",props:{seats:{type:Array,required:!0,default:()=>[]}},setup(e){const t=O([]),s=O(0),i=O(0),o=O(0);let n=0,a=0,l=0;rl(()=>{if(e.seats&&Array.isArray(e.seats)){t.value=e.seats;const g=new Date,m=new Date;g.setDate(g.getDate()-7),m.setDate(m.getDate()-30),e.seats.forEach(v=>{if(!v.last_activity_at)n++;else{const y=new Date(v.last_activity_at);y<g&&a++,y<m&&l++}}),t.value.sort((v,y)=>v.last_activity_at===null?-1:y.last_activity_at===null||new Date(v.last_activity_at)>new Date(y.last_activity_at)?1:-1)}else throw new Error("Invalid number of seats")}),s.value=n,i.value=a,o.value=l;const r=Je(),d=P(()=>r.public.scope?.includes("team")&&r.public.githubTeam),f=P(()=>r.public.githubTeam||"");return{totalSeats:t,noshowSeats:s,unusedSeatsInSevenDays:i,unusedSeatsInThirtyDays:o,isTeamView:d,currentTeam:f}},data(){return{headers:[{title:"S.No",key:"serialNumber"},{title:"Login",key:"login"},{title:"Name",key:"name"},{title:"Email",key:"email"},{title:"Assigned time",key:"created_at"},{title:"Last Activity At",key:"last_activity_at"},{title:"Last Usage",key:"last_usage"},{title:"Last Activity Editor",key:"last_activity_editor"}],currentFilter:"total",filteredSeats:[]}},methods:{formatPakistaniDateTime(e){if(!e)return"Never";try{const t=new Date(e),s=new Date(t.getTime()+300*60*1e3),i=s.getUTCDate().toString().padStart(2,"0"),o=(s.getUTCMonth()+1).toString().padStart(2,"0"),n=s.getUTCFullYear();let a=s.getUTCHours();const l=s.getUTCMinutes().toString().padStart(2,"0"),r=a>=12?"PM":"AM";return a=a%12,a=a||12,`${i}/${o}/${n}, ${a}:${l} ${r}`}catch{return"Invalid Date"}},getRelativeTime(e){if(!e)return"Never used";try{const t=new Date(e),s=new Date,i=Math.floor((s.getTime()-t.getTime())/1e3);if(i<=0)return"Just now";const o=Math.floor(i/60),n=Math.floor(o/60),a=Math.floor(n/24);if(i<60)return"Just now";if(o<60)return o===1?"1 minute ago":`${o} minutes ago`;if(n<24)return n===1?"1 hour ago":`${n} hours ago`;if(a<7)return a===1?"1 day ago":`${a} days ago`;const l=s.getFullYear(),r=s.getMonth(),d=s.getDate(),f=t.getFullYear(),g=t.getMonth(),m=t.getDate();let v=l-f,y=r-g,x=d-m;if(x<0){y--;const T=new Date(l,r,0).getDate();x+=T}y<0&&(v--,y+=12);const w=Math.floor(x/7),C=x%7,M=[];return v>0&&M.push(v===1?"1 year":`${v} years`),y>0&&M.push(y===1?"1 month":`${y} months`),w>0&&M.push(w===1?"1 week":`${w} weeks`),C>0&&M.push(C===1?"1 day":`${C} days`),M.length===0?"Today":M.join(" ")+" ago"}catch{return"Invalid Date"}},filterSeats(e){console.log("Filtering with:",e,"Total seats:",this.totalSeats.length),this.currentFilter=e;const t=new Date,s=new Date;t.setDate(t.getDate()-7),s.setDate(s.getDate()-30);let i=[];switch(e){case"total":i=[...this.totalSeats];break;case"neverused":i=this.totalSeats.filter(o=>!o.last_activity_at);break;case"7days":i=this.totalSeats.filter(o=>o.last_activity_at?new Date(o.last_activity_at)<t:!0);break;case"30days":i=this.totalSeats.filter(o=>o.last_activity_at?new Date(o.last_activity_at)<s:!0);break;default:i=[...this.totalSeats]}this.filteredSeats=i,console.log("Filtered result:",i.length,"items")},getFilterTitle(){switch(this.currentFilter){case"total":return"All assigned seats";case"neverused":return"Assigned but never used seats";case"7days":return"No activity in last 7 days";case"30days":return"No activity in last 30 days";default:return"All assigned seats"}},downloadCSV(){const e=this.convertToCSV(this.filteredSeats);this.downloadFile(e,"seats-data.csv","text/csv")},downloadXLSX(){const e=this.convertToCSV(this.filteredSeats,"	");this.downloadFile(e,"seats-data.xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet")},downloadPDF(){const e=this.getFilterTitle(),t=this.filteredSeats,s=new Date().toLocaleDateString("en-PK",{year:"numeric",month:"long",day:"numeric",timeZone:"Asia/Karachi"}),i=window.open("","_blank","width=1200,height=800");i&&(i.document.write(`
                <!DOCTYPE html>
                <html>
                <head>
                    <title>GitHub Copilot Metrics - ${e}</title>
                    <meta charset="UTF-8">
                    <style>
                        @page {
                            size: A4;
                            margin: 2cm;
                        }
                        * {
                            box-sizing: border-box;
                            margin: 0;
                            padding: 0;
                        }
                        body { 
                            font-family: 'Arial', sans-serif; 
                            font-size: 11px; 
                            line-height: 1.4;
                            color: #333;
                            background: white;
                        }
                        .header {
                            text-align: center;
                            margin-bottom: 25px;
                            border-bottom: 2px solid #1976d2;
                            padding-bottom: 15px;
                        }
                        .header h1 {
                            color: #1976d2;
                            font-size: 24px;
                            margin-bottom: 8px;
                            font-weight: bold;
                        }
                        .header h2 {
                            color: #424242;
                            font-size: 16px;
                            margin-bottom: 8px;
                        }
                        .meta-info {
                            display: flex;
                            justify-content: space-between;
                            margin-bottom: 20px;
                            font-size: 10px;
                            color: #666;
                        }
                        .stats-summary {
                            background: #f8f9fa;
                            padding: 15px;
                            border-radius: 5px;
                            margin-bottom: 20px;
                            border-left: 4px solid #1976d2;
                        }
                        .stats-summary h3 {
                            color: #1976d2;
                            font-size: 14px;
                            margin-bottom: 8px;
                        }
                        .stats-grid {
                            display: grid;
                            grid-template-columns: repeat(4, 1fr);
                            gap: 15px;
                            text-align: center;
                        }
                        .stat-item {
                            background: white;
                            padding: 10px;
                            border-radius: 3px;
                            border: 1px solid #e0e0e0;
                        }
                        .stat-number {
                            font-size: 18px;
                            font-weight: bold;
                            color: #1976d2;
                        }
                        .stat-label {
                            font-size: 9px;
                            color: #666;
                            margin-top: 3px;
                        }
                        table { 
                            width: 100%; 
                            border-collapse: collapse; 
                            margin-top: 10px;
                            background: white;
                            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
                        }
                        th { 
                            background: linear-gradient(135deg, #1976d2, #1565c0);
                            color: white;
                            font-weight: bold;
                            text-align: center;
                            padding: 12px 8px;
                            font-size: 10px;
                            border: 1px solid #1565c0;
                        }
                        td { 
                            border: 1px solid #e0e0e0;
                            padding: 8px;
                            font-size: 9px;
                            vertical-align: middle;
                        }
                        tr:nth-child(even) {
                            background-color: #f8f9fa;
                        }
                        tr:hover {
                            background-color: #e3f2fd;
                        }
                        .center { text-align: center; }
                        .left { text-align: left; }
                        .footer {
                            margin-top: 30px;
                            text-align: center;
                            font-size: 9px;
                            color: #666;
                            border-top: 1px solid #e0e0e0;
                            padding-top: 10px;
                        }
                        .no-data {
                            text-align: center;
                            padding: 40px;
                            color: #666;
                            font-style: italic;
                        }
                        @media print {
                            body { margin: 0; }
                            .header { break-inside: avoid; }
                            table { break-inside: avoid; }
                            tr { break-inside: avoid; }
                        }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <h1> GitHub Copilot Metrics Report</h1>
                        <h2>${e}</h2>
                    </div>
                    
                    <div class="meta-info">
                        <div>
                            <strong>Organization:</strong> TalkEHR<br>
                            <strong>Report Type:</strong> Seat Analysis
                        </div>
                        <div>
                            <strong>Generated:</strong> ${s}<br>
                            <strong>Total Records:</strong> ${t.length}
                        </div>
                    </div>

                    <div class="stats-summary">
                        <h3> Quick Statistics</h3>
                        <div class="stats-grid">
                            <div class="stat-item">
                                <div class="stat-number">${this.totalSeats.length}</div>
                                <div class="stat-label">Total Assigned</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number">${this.noshowSeats}</div>
                                <div class="stat-label">Never Used</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number">${this.unusedSeatsInSevenDays}</div>
                                <div class="stat-label">Inactive 7 Days</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number">${this.unusedSeatsInThirtyDays}</div>
                                <div class="stat-label">Inactive 30 Days</div>
                            </div>
                        </div>
                    </div>

                    ${t.length>0?`
                    <table>
                        <thead>
                            <tr>
                                <th width="6%">S.No</th>
                                <th width="18%"> Login</th>
                                <th width="18%"> Name</th>
                                <th width="18%"> Assigned</th>
                                <th width="18%"> Activity</th>
                                <th width="12%"> Usage</th>
                                <th width="10%"> Editor</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${t.map((o,n)=>`
                                <tr>
                                    <td class="center"><strong>${n+1}</strong></td>
                                    <td class="left"><strong>${this.escapeHtml(o.login||"N/A")}</strong></td>
                                    <td class="left">${this.escapeHtml(o.name||"-")}</td>
                                    <td class="center">${this.formatPakistaniDateTime(o.created_at)}</td>
                                    <td class="center">${this.formatPakistaniDateTime(o.last_activity_at)}</td>
                                    <td class="center">${this.getRelativeTime(o.last_activity_at)}</td>
                                    <td class="center">${this.escapeHtml(o.last_activity_editor||"N/A")}</td>
                                </tr>
                            `).join("")}
                        </tbody>
                    </table>`:`
                    <div class="no-data">
                        <h3>No data available for the selected filter</h3>
                        <p>Try selecting a different filter or check your data source.</p>
                    </div>`}

                    <div class="footer">
                        <p>Generated by GitHub Copilot Metrics Viewer | TalkEHR Organization</p>
                        <p>This report contains ${t.length} records based on the filter: "${e}"</p>
                    </div>
                </body>
                </html>
            `),i.document.close(),i.focus(),setTimeout(()=>{i.print()},1e3))},convertToCSV(e,t=","){if(!e||e.length===0)return"";const s=["S.No","Login","Name","Assigned Time","Last Activity At","Last Usage","Last Activity Editor"],i=e.map((o,n)=>[(n+1).toString(),o.login||"",o.name||"-",this.formatPakistaniDateTime(o.created_at),this.formatPakistaniDateTime(o.last_activity_at),this.getRelativeTime(o.last_activity_at),o.last_activity_editor||""]);return[s,...i].map(o=>o.join(t)).join(`
`)},escapeHtml(e){const t=document.createElement("div");return t.textContent=e,t.innerHTML},downloadFile(e,t,s){const i=new Blob([e],{type:s}),o=window.URL.createObjectURL(i),n=document.createElement("a");n.href=o,n.download=t,n.click(),window.URL.revokeObjectURL(o)}},watch:{totalSeats:{handler(){this.$nextTick(()=>{this.filterSeats(this.currentFilter)})},immediate:!0,deep:!0}},mounted(){this.$nextTick(()=>{this.filterSeats("total")})}}),j0={class:"tiles-container"},G0={class:"tiles-text"},Y0={class:"text-caption",style:{"font-size":"10px !important"}},q0={class:"text-caption"},X0={class:"text-h4"},K0={class:"tiles-text"},J0={class:"text-caption",style:{"font-size":"10px !important"}},Z0={class:"text-h4"},Q0={class:"tiles-text"},ty={class:"text-h4"},ey={class:"tiles-text"},sy={class:"text-h4"},iy={class:"d-flex justify-space-between align-center mb-4"};function oy(e,t,s,i,o,n){return R(),H(Lt,null,[c("div",j0,[u(E,{elevation:"4",color:"white",variant:"elevated",class:Ge(["mx-auto my-4",{"v-card--active":e.currentFilter==="total"}]),style:{width:"330px",height:"175px",cursor:"pointer"},onClick:t[0]||(t[0]=a=>e.filterSeats("total"))},{default:h(()=>[u(ht,{class:"d-flex justify-center align-center"},{default:h(()=>[c("div",G0,[t[4]||(t[4]=c("div",{class:"text-overline mb-1",style:{visibility:"hidden"}},"filler",-1)),u(Y,{location:"bottom start","open-on-hover":"","open-delay":"200","close-delay":"200"},{activator:h(({props:a})=>[c("div",W(a,{class:"text-h6 mb-1"}),"Total Assigned ",16)]),default:h(()=>[u(E,{class:"pa-2",style:{"background-color":"#f0f0f0","max-width":"350px"}},{default:h(()=>[c("span",Y0,"This metric represents the total number of Copilot seats assigned "+k(e.isTeamView?`to team "${e.currentTeam}"`:"within the current organization/enterprise")+".",1)]),_:1})]),_:1}),c("div",q0,k(e.isTeamView?`Seats assigned to team "${e.currentTeam}"`:"Currently assigned seats"),1),c("p",X0,k(e.totalSeats.length),1)])]),_:1})]),_:1},8,["class"]),u(E,{elevation:"4",color:"white",variant:"elevated",class:Ge(["mx-auto my-3",{"v-card--active":e.currentFilter==="neverused"}]),style:{width:"300px",height:"175px",cursor:"pointer"},onClick:t[1]||(t[1]=a=>e.filterSeats("neverused"))},{default:h(()=>[u(ht,{class:"d-flex justify-center align-center"},{default:h(()=>[c("div",K0,[t[5]||(t[5]=c("div",{class:"text-overline mb-1",style:{visibility:"hidden"}},"filler",-1)),u(Y,{location:"bottom start","open-on-hover":"","open-delay":"200","close-delay":"200"},{activator:h(({props:a})=>[c("div",W(a,{class:"text-h6 mb-1"}),"Assigned But Never Used",16)]),default:h(()=>[u(E,{class:"pa-2",style:{"background-color":"#f0f0f0","max-width":"350px"}},{default:h(()=>[c("span",J0,"This metric shows seats that were assigned but never used "+k(e.isTeamView?`within team "${e.currentTeam}"`:"within the current organization/enterprise")+". The assigned timestamp is also displayed in the chart.",1)]),_:1})]),_:1}),t[6]||(t[6]=c("div",{class:"text-caption"}," No show seats ",-1)),c("p",Z0,k(e.noshowSeats),1)])]),_:1})]),_:1},8,["class"]),u(E,{elevation:"4",color:"white",variant:"elevated",class:Ge(["mx-auto my-4",{"v-card--active":e.currentFilter==="7days"}]),style:{width:"330px",height:"175px",cursor:"pointer"},onClick:t[2]||(t[2]=a=>e.filterSeats("7days"))},{default:h(()=>[u(ht,{class:"d-flex justify-center align-center"},{default:h(()=>[c("div",Q0,[t[8]||(t[8]=c("div",{class:"text-overline mb-1",style:{visibility:"hidden"}},"filler",-1)),u(Y,{location:"bottom start","open-on-hover":"","open-delay":"200","close-delay":"200"},{activator:h(({props:a})=>[c("div",W(a,{class:"text-h6 mb-1"}),"No Activity in the Last 7 days ",16)]),default:h(()=>[u(E,{class:"pa-2",style:{"background-color":"#f0f0f0","max-width":"350px"}},{default:h(()=>[...t[7]||(t[7]=[c("span",{class:"text-caption",style:{"font-size":"10px !important"}},"Never used seats or seats used, but with no activity in the past 7 days.",-1)])]),_:1})]),_:1}),t[9]||(t[9]=c("div",{class:"text-caption"}," No use in the last 7 days ",-1)),c("p",ty,k(e.unusedSeatsInSevenDays),1)])]),_:1})]),_:1},8,["class"]),u(E,{elevation:"4",color:"white",variant:"elevated",class:Ge(["mx-auto my-4",{"v-card--active":e.currentFilter==="30days"}]),style:{width:"330px",height:"175px",cursor:"pointer"},onClick:t[3]||(t[3]=a=>e.filterSeats("30days"))},{default:h(()=>[u(ht,{class:"d-flex justify-center align-center"},{default:h(()=>[c("div",ey,[t[11]||(t[11]=c("div",{class:"text-overline mb-1",style:{visibility:"hidden"}},"filler",-1)),u(Y,{location:"bottom start","open-on-hover":"","open-delay":"200","close-delay":"200"},{activator:h(({props:a})=>[c("div",W(a,{class:"text-h6 mb-1"}),"No Activity in the Last 30 days ",16)]),default:h(()=>[u(E,{class:"pa-2",style:{"background-color":"#f0f0f0","max-width":"350px"}},{default:h(()=>[...t[10]||(t[10]=[c("span",{class:"text-caption",style:{"font-size":"10px !important"}},"This metric represents seats with no activity in the last 30 days, including those never used.",-1)])]),_:1})]),_:1}),t[12]||(t[12]=c("div",{class:"text-caption"}," No use in the last 30 days ",-1)),c("p",sy,k(e.unusedSeatsInThirtyDays),1)])]),_:1})]),_:1},8,["class"])]),c("div",null,[u(ss,{class:"p-1",style:{"min-height":"300px"}},{default:h(()=>[u(Vt,{style:{"min-height":"300px"},class:"px-4 elevation-2"},{default:h(()=>[t[18]||(t[18]=c("br",null,null,-1)),c("div",iy,[c("h2",null,k(e.getFilterTitle()),1),u(ml,null,{activator:h(({props:a})=>[u(rt,W(a,{variant:"outlined",color:"primary","prepend-icon":"mdi-download"}),{default:h(()=>[t[14]||(t[14]=D(" Download ",-1)),u(Z,null,{default:h(()=>[...t[13]||(t[13]=[D("mdi-chevron-down",-1)])]),_:1})]),_:1},16)]),default:h(()=>[u(co,null,{default:h(()=>[u(Ze,{onClick:"downloadCSV"in e?e.downloadCSV:Nt(Wo),"prepend-icon":"mdi-file-delimited"},{default:h(()=>[u(Gi,null,{default:h(()=>[...t[15]||(t[15]=[D("Download CSV",-1)])]),_:1})]),_:1},8,["onClick"]),u(Ze,{onClick:e.downloadXLSX,"prepend-icon":"mdi-file-excel"},{default:h(()=>[u(Gi,null,{default:h(()=>[...t[16]||(t[16]=[D("Download Excel",-1)])]),_:1})]),_:1},8,["onClick"]),u(Ze,{onClick:e.downloadPDF,"prepend-icon":"mdi-file-pdf-box"},{default:h(()=>[u(Gi,null,{default:h(()=>[...t[17]||(t[17]=[D("Download PDF",-1)])]),_:1})]),_:1},8,["onClick"])]),_:1})]),_:1})]),u(Hs,{headers:e.headers,items:e.filteredSeats,"items-per-page":10,class:"elevation-2"},{item:h(({item:a,index:l})=>[c("tr",null,[c("td",null,k(l+1),1),c("td",null,k(a.login),1),c("td",null,k(a.name||"-"),1),c("td",null,k(a.email||"Private"),1),c("td",null,k(e.formatPakistaniDateTime(a.created_at)),1),c("td",null,k(e.formatPakistaniDateTime(a.last_activity_at)),1),c("td",null,k(e.getRelativeTime(a.last_activity_at)),1),c("td",null,k(a.last_activity_editor),1)])]),_:1},8,["headers","items"])]),_:1})]),_:1})])],64)}const Pr=Object.assign(De(W0,[["render",oy],["__scopeId","data-v-42a3bd88"]]),{__name:"SeatsAnalysisViewer"}),ny={class:"definitions-container"},ay={class:"d-flex align-center"},ly={class:"d-flex align-center"},ry={class:"d-flex align-center"},cy={class:"d-flex align-center"},dy={class:"d-flex align-center"},uy={class:"d-flex align-center"},hy={class:"d-flex align-center"},fy={class:"d-flex align-center"},py={class:"d-flex align-center"},gy={class:"d-flex align-center"},my={class:"pa-4"},vy={class:"text-center"},by={class:"text-center"},yy={class:"text-center"},_y=ae({__name:"DefinitionsViewer",setup(e){return(t,s)=>(R(),H("div",ny,[u(E,{class:"ma-4"},{default:h(()=>[u(St,{class:"text-h4 primary--text"},{default:h(()=>[u(Z,{left:"",color:"primary"},{default:h(()=>[...s[0]||(s[0]=[D("mdi-book-open-variant",-1)])]),_:1}),s[1]||(s[1]=D(" GitHub Copilot Metrics - Definitions ",-1))]),_:1}),u(gt,null,{default:h(()=>[u(Rt,null,{default:h(()=>[u(ot,{cols:"12"},{default:h(()=>[...s[2]||(s[2]=[c("p",{class:"text-subtitle-1 mb-4"}," This page explains all GitHub Copilot metrics and terminology in detail. ",-1)])]),_:1})]),_:1}),u(Cn,{variant:"accordion",multiple:""},{default:h(()=>[u(oe,null,{default:h(()=>[u(Zt,null,{default:h(()=>[c("div",ay,[u(Z,{color:"success",class:"mr-3"},{default:h(()=>[...s[3]||(s[3]=[D("mdi-check-circle",-1)])]),_:1}),s[4]||(s[4]=c("div",null,[c("h3",null,"Acceptance Rate (by count)"),c("p",{class:"text-caption mb-0"},"Acceptance rate by suggestion count")],-1))])]),_:1}),u(Jt,null,{default:h(()=>[...s[5]||(s[5]=[c("div",{class:"pa-4"},[c("p",null,[c("strong",null,"What it is:"),D(" Shows how many GitHub Copilot suggestions developers accepted.")]),c("p",null,[c("strong",null,"How it works:"),D(" (Accepted suggestions  Total suggestions)  100")]),c("p",null,[c("strong",null,"Example:"),D(" If 100 suggestions are shown and 80 are accepted = 80% acceptance rate")]),c("p",null,[c("strong",null,"Importance:"),D(" Higher rate means Copilot suggestions are more useful.")])],-1)])]),_:1})]),_:1}),u(oe,null,{default:h(()=>[u(Zt,null,{default:h(()=>[c("div",ly,[u(Z,{color:"info",class:"mr-3"},{default:h(()=>[...s[6]||(s[6]=[D("mdi-code-tags",-1)])]),_:1}),s[7]||(s[7]=c("div",null,[c("h3",null,"Acceptance Rate (by lines of code)"),c("p",{class:"text-caption mb-0"},"Acceptance rate by lines of code")],-1))])]),_:1}),u(Jt,null,{default:h(()=>[...s[8]||(s[8]=[c("div",{class:"pa-4"},[c("p",null,[c("strong",null,"What it is:"),D(" Shows how many lines of code from Copilot were accepted.")]),c("p",null,[c("strong",null,"Difference:"),D(" This counts actual lines, not suggestion count.")]),c("p",null,[c("strong",null,"Example:"),D(" If one suggestion has 5 lines and is accepted, it counts as 5 lines.")]),c("p",null,[c("strong",null,"Benefit:"),D(" This is a more accurate metric for measuring productivity.")])],-1)])]),_:1})]),_:1}),u(oe,null,{default:h(()=>[u(Zt,null,{default:h(()=>[c("div",ry,[u(Z,{color:"warning",class:"mr-3"},{default:h(()=>[...s[9]||(s[9]=[D("mdi-lightbulb",-1)])]),_:1}),s[10]||(s[10]=c("div",null,[c("h3",null,"Total Suggestions"),c("p",{class:"text-caption mb-0"},"Total suggestions count")],-1))])]),_:1}),u(Jt,null,{default:h(()=>[...s[11]||(s[11]=[c("div",{class:"pa-4"},[c("p",null,[c("strong",null,"What it is:"),D(" How many suggestions Copilot provided (accepted + rejected combined).")]),c("p",null,[c("strong",null,"Includes:"),D(" Autocomplete, code completion, and inline suggestions.")]),c("p",null,[c("strong",null,"Importance:"),D(" Shows how actively developers are using Copilot.")])],-1)])]),_:1})]),_:1}),u(oe,null,{default:h(()=>[u(Zt,null,{default:h(()=>[c("div",cy,[u(Z,{color:"success",class:"mr-3"},{default:h(()=>[...s[12]||(s[12]=[D("mdi-thumb-up",-1)])]),_:1}),s[13]||(s[13]=c("div",null,[c("h3",null,"Total Acceptances"),c("p",{class:"text-caption mb-0"}," ")],-1))])]),_:1}),u(Jt,null,{default:h(()=>[...s[14]||(s[14]=[c("div",{class:"pa-4"},[c("p",null,[c("strong",null,"What it is:"),D(" How many suggestions developers accepted.")]),c("p",null,[c("strong",null,"Formula:"),D(" Total Suggestions  Acceptance Rate = Total Acceptances")]),c("p",null,[c("strong",null,"Example:"),D(" 1000 suggestions, 750 accepted = 750 total acceptances.")])],-1)])]),_:1})]),_:1}),u(oe,null,{default:h(()=>[u(Zt,null,{default:h(()=>[c("div",dy,[u(Z,{color:"primary",class:"mr-3"},{default:h(()=>[...s[15]||(s[15]=[D("mdi-account-group",-1)])]),_:1}),s[16]||(s[16]=c("div",null,[c("h3",null,"Active Users"),c("p",{class:"text-caption mb-0"},"Users who actively used Copilot")],-1))])]),_:1}),u(Jt,null,{default:h(()=>[...s[17]||(s[17]=[c("div",{class:"pa-4"},[c("p",null,[c("strong",null,"What it is:"),D(" How many developers used Copilot in the selected time period.")]),c("p",null,[c("strong",null,"Condition:"),D(" Must accept or reject at least one suggestion to count.")]),c("p",null,[c("strong",null,"Importance:"),D(" Shows Copilot adoption rate within the team.")])],-1)])]),_:1})]),_:1}),u(oe,null,{default:h(()=>[u(Zt,null,{default:h(()=>[c("div",uy,[u(Z,{color:"orange",class:"mr-3"},{default:h(()=>[...s[18]||(s[18]=[D("mdi-seat",-1)])]),_:1}),s[19]||(s[19]=c("div",null,[c("h3",null,"Seat Analysis"),c("p",{class:"text-caption mb-0"},"Seat allocation analysis")],-1))])]),_:1}),u(Jt,null,{default:h(()=>[...s[20]||(s[20]=[c("div",{class:"pa-4"},[c("p",null,[c("strong",null,"Assigned Seats:"),D(" How many developers have been given Copilot licenses.")]),c("p",null,[c("strong",null,"Never Used:"),D(" Those who got license but never used it.")]),c("p",null,[c("strong",null,"Inactive (7/30 days):"),D(" Those who haven't used it in 7 or 30 days.")]),c("p",null,[c("strong",null,"License Revoked:"),D(" Those whose license has been cancelled.")]),c("p",null,[c("strong",null,"Benefit:"),D(" For cost optimization and resource management.")])],-1)])]),_:1})]),_:1}),u(oe,null,{default:h(()=>[u(Zt,null,{default:h(()=>[c("div",hy,[u(Z,{color:"purple",class:"mr-3"},{default:h(()=>[...s[21]||(s[21]=[D("mdi-chat",-1)])]),_:1}),s[22]||(s[22]=c("div",null,[c("h3",null,"Copilot Chat"),c("p",{class:"text-caption mb-0"},"Copilot chat metrics")],-1))])]),_:1}),u(Jt,null,{default:h(()=>[...s[23]||(s[23]=[c("div",{class:"pa-4"},[c("p",null,[c("strong",null,"Chat Conversations:"),D(" How many times developers chatted with Copilot.")]),c("p",null,[c("strong",null,"Chat Turns:"),D(" How many messages were exchanged in conversations.")]),c("p",null,[c("strong",null,"Chat Acceptances:"),D(" How many code suggestions from chat were accepted.")]),c("p",null,[c("strong",null,"Example:"),D(' "How to write a function?" - This is one chat conversation.')])],-1)])]),_:1})]),_:1}),u(oe,null,{default:h(()=>[u(Zt,null,{default:h(()=>[c("div",fy,[u(Z,{color:"teal",class:"mr-3"},{default:h(()=>[...s[24]||(s[24]=[D("mdi-code-braces",-1)])]),_:1}),s[25]||(s[25]=c("div",null,[c("h3",null,"Language Breakdown"),c("p",{class:"text-caption mb-0"},"Programming languages breakdown")],-1))])]),_:1}),u(Jt,null,{default:h(()=>[...s[26]||(s[26]=[c("div",{class:"pa-4"},[c("p",null,[c("strong",null,"What it is:"),D(" Which programming languages have more Copilot usage.")]),c("p",null,[c("strong",null,"Benefit:"),D(" Shows what technologies the team is working on.")]),c("p",null,[c("strong",null,"Example:"),D(" JavaScript: 60%, Python: 25%, TypeScript: 15%")])],-1)])]),_:1})]),_:1}),u(oe,null,{default:h(()=>[u(Zt,null,{default:h(()=>[c("div",py,[u(Z,{color:"indigo",class:"mr-3"},{default:h(()=>[...s[27]||(s[27]=[D("mdi-application",-1)])]),_:1}),s[28]||(s[28]=c("div",null,[c("h3",null,"Editors Usage"),c("p",{class:"text-caption mb-0"},"Code editors usage")],-1))])]),_:1}),u(Jt,null,{default:h(()=>[...s[29]||(s[29]=[c("div",{class:"pa-4"},[c("p",null,[c("strong",null,"What it is:"),D(" Which code editors Copilot is being used in.")]),c("p",null,[c("strong",null,"Examples:"),D(" VS Code, Visual Studio, JetBrains IDEs, Neovim, etc.")]),c("p",null,[c("strong",null,"Benefit:"),D(" Team preferences and tooling insights.")])],-1)])]),_:1})]),_:1}),u(oe,null,{default:h(()=>[u(Zt,null,{default:h(()=>[c("div",gy,[u(Z,{color:"deep-purple",class:"mr-3"},{default:h(()=>[...s[30]||(s[30]=[D("mdi-book-alphabet",-1)])]),_:1}),s[31]||(s[31]=c("div",null,[c("h3",null,"Important Terms"),c("p",{class:"text-caption mb-0"},"Important terminology")],-1))])]),_:1}),u(Jt,null,{default:h(()=>[c("div",my,[u(Rt,null,{default:h(()=>[u(ot,{cols:"12",md:"6"},{default:h(()=>[u(E,{outlined:"",class:"mb-3"},{default:h(()=>[u(gt,null,{default:h(()=>[...s[32]||(s[32]=[c("strong",null,"Suggestion:",-1),D(" Code suggested by Copilot ",-1)])]),_:1})]),_:1}),u(E,{outlined:"",class:"mb-3"},{default:h(()=>[u(gt,null,{default:h(()=>[...s[33]||(s[33]=[c("strong",null,"Acceptance:",-1),D(" Developer used the suggestion ",-1)])]),_:1})]),_:1}),u(E,{outlined:"",class:"mb-3"},{default:h(()=>[u(gt,null,{default:h(()=>[...s[34]||(s[34]=[c("strong",null,"Rejection:",-1),D(" Developer ignored the suggestion ",-1)])]),_:1})]),_:1})]),_:1}),u(ot,{cols:"12",md:"6"},{default:h(()=>[u(E,{outlined:"",class:"mb-3"},{default:h(()=>[u(gt,null,{default:h(()=>[...s[35]||(s[35]=[c("strong",null,"Inline Completion:",-1),D(" Automatic suggestions while typing code ",-1)])]),_:1})]),_:1}),u(E,{outlined:"",class:"mb-3"},{default:h(()=>[u(gt,null,{default:h(()=>[...s[36]||(s[36]=[c("strong",null,"Chat:",-1),D(" Q&A with Copilot ",-1)])]),_:1})]),_:1}),u(E,{outlined:"",class:"mb-3"},{default:h(()=>[u(gt,null,{default:h(()=>[...s[37]||(s[37]=[c("strong",null,"Productivity:",-1),D(" Improvement in code writing speed and quality ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1}),u(E,{class:"mt-6",color:"grey-lighten-5"},{default:h(()=>[u(St,null,{default:h(()=>[u(Z,{left:""},{default:h(()=>[...s[38]||(s[38]=[D("mdi-flash",-1)])]),_:1}),s[39]||(s[39]=D(" Quick Reference ",-1))]),_:1}),u(gt,null,{default:h(()=>[u(Rt,null,{default:h(()=>[u(ot,{cols:"12",md:"4"},{default:h(()=>[c("div",vy,[u(Z,{size:"48",color:"success"},{default:h(()=>[...s[40]||(s[40]=[D("mdi-trending-up",-1)])]),_:1}),s[41]||(s[41]=c("h4",{class:"mt-2"},"Good Metrics",-1)),s[42]||(s[42]=c("p",{class:"text-caption"},[D("  Acceptance Rate > 25%"),c("br"),D("  Active Users growing"),c("br"),D("  Low unused seats ")],-1))])]),_:1}),u(ot,{cols:"12",md:"4"},{default:h(()=>[c("div",by,[u(Z,{size:"48",color:"warning"},{default:h(()=>[...s[43]||(s[43]=[D("mdi-alert",-1)])]),_:1}),s[44]||(s[44]=c("h4",{class:"mt-2"},"Watch Out For",-1)),s[45]||(s[45]=c("p",{class:"text-caption"},[D("  Acceptance Rate < 15%"),c("br"),D("  Many inactive users"),c("br"),D("  Unused licenses ")],-1))])]),_:1}),u(ot,{cols:"12",md:"4"},{default:h(()=>[c("div",yy,[u(Z,{size:"48",color:"info"},{default:h(()=>[...s[46]||(s[46]=[D("mdi-lightbulb-outline",-1)])]),_:1}),s[47]||(s[47]=c("h4",{class:"mt-2"},"Optimization",-1)),s[48]||(s[48]=c("p",{class:"text-caption"},[D("  Train developers"),c("br"),D("  Remove unused seats"),c("br"),D("  Monitor trends ")],-1))])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]))}}),Rr=Object.assign(De(_y,[["__scopeId","data-v-0e4f4065"]]),{__name:"DefinitionsViewer"});class xy{metrics;constructor(t){this.metrics=t}checkContinuousDates(){if(!this.metrics||this.metrics.length===0)return[];const t=this.metrics.filter(i=>i&&i.date).map(i=>new Date(i.date)).filter(i=>!isNaN(i.getTime()));if(t.length===0)return[];t.sort((i,o)=>i.getTime()-o.getTime());const s=[];for(let i=1;i<t.length;i++){const o=t[i-1],n=t[i];if(o&&n){const a=(n.getTime()-o.getTime())/864e5;if(a>1)for(let l=1;l<a;l++){const d=new Date(o.getTime()+l*864e5).toISOString().split("T")[0];d&&s.push(d)}}}return s}validateCodeCompletions(){const t=[];return this.metrics.forEach(s=>{s&&s.copilot_ide_code_completions?.editors&&s.copilot_ide_code_completions.editors.forEach(i=>{i&&i.models&&i.models.forEach(o=>{o&&o.languages&&o.languages.forEach(n=>{n&&(n.total_code_acceptances>n.total_code_suggestions||n.total_code_lines_accepted>n.total_code_lines_suggested)&&t.push({date:s.date,editor:i.name,language:n.name})})})})}),t}validateChatEngagedUsers(){const t=[];return this.metrics.forEach(s=>{s&&s.copilot_ide_chat?.editors&&s.copilot_ide_chat.editors.forEach(i=>{i&&i.models&&i.models.reduce((n,a)=>n+(a?.total_engaged_users||0),0)<(i.total_engaged_users||0)&&t.push({date:s.date,editor:i.name,total_engaged_users:i.total_engaged_users})})}),t}checkAllMetrics(){const t=this.checkContinuousDates(),s=this.validateCodeCompletions(),i=this.validateChatEngagedUsers();return{nonContinuousDates:t,invalidCodeCompletions:s,invalidChatEngagedUsers:i}}}const wy=ae({name:"ApiResponse",props:{originalMetrics:{type:Array,required:!0},metrics:{type:Array,required:!0},seats:{type:Array,required:!0}},data(){return{showCopyMessage:!1,showSeatMessage:!1,showQualityMessage:!1,isError:!1,message:"",qualityMessage:""}},methods:{copyToClipboard(e){const t=this.$refs[e];navigator.clipboard.writeText(t.innerText).then(()=>{this.message="Copied to clipboard!",this.isError=!1}).catch(s=>{this.message="Could not copy text!",this.isError=!0,console.error("Could not copy text: ",s)}),this.showCopyMessage=!0,setTimeout(()=>{this.showCopyMessage=!1},3e3)},showSeatCount(){const e=this.seats.length;this.message=`Seat count: ${e}`,this.showSeatMessage=!0,setTimeout(()=>{this.showSeatMessage=!1},3e3)},checkMetricsDataQuality(){const e=Ws(this.originalMetrics),s=new xy(e).checkAllMetrics();if(Object.values(s).every(o=>o.length===0))this.message="All metrics are valid!",this.isError=!1;else{this.message=`Some metrics might be inconsistent, please double check the API response.
`,this.isError=!0;let o=1;for(const[n,a]of Object.entries(s))a.length>0&&(this.message+=`
${o}).  ${n}:
${JSON.stringify(a,null,2)}
`,o++)}this.showQualityMessage=!0,setTimeout(()=>{this.showQualityMessage=!1},6e3)},downloadMetricsCSV(){try{const e=Ws(this.metrics),t=H0(e);if(t){const i=`copilot-metrics-summary-${new Date().toISOString().split("T")[0]}.csv`;Wo(t,i),this.message="Summary CSV file downloaded successfully!",this.isError=!1}else this.message="No metrics data available to export.",this.isError=!0}catch(e){this.message="Error generating CSV file.",this.isError=!0,console.error("Error generating CSV:",e)}this.showCopyMessage=!0,setTimeout(()=>{this.showCopyMessage=!1},3e3)},downloadFullMetricsCSV(){try{const e=Ws(this.originalMetrics),t=N0(e);if(t){const i=`copilot-metrics-full-${new Date().toISOString().split("T")[0]}.csv`;Wo(t,i),this.message="Full CSV file downloaded successfully!",this.isError=!1}else this.message="No metrics data available to export.",this.isError=!0}catch(e){this.message="Error generating CSV file.",this.isError=!0,console.error("Error generating CSV:",e)}this.showCopyMessage=!0,setTimeout(()=>{this.showCopyMessage=!1},3e3)}}}),ky={class:"copy-container"},Cy={class:"copy-container"};function Sy(e,t,s,i,o,n){return R(),tt(Vt,null,{default:h(()=>[c("div",ky,[u(rt,{onClick:e.checkMetricsDataQuality},{default:h(()=>[...t[1]||(t[1]=[D("Check Metric data quality",-1)])]),_:1},8,["onClick"]),u(re),u(rt,{onClick:t[0]||(t[0]=a=>e.copyToClipboard("metricsJsonText"))},{default:h(()=>[...t[2]||(t[2]=[D("Copy Metrics to Clipboard",-1)])]),_:1}),u(rt,{color:"primary",onClick:e.downloadMetricsCSV},{default:h(()=>[...t[3]||(t[3]=[D("Download CSV (Summary)",-1)])]),_:1},8,["onClick"]),u(rt,{color:"secondary",onClick:e.downloadFullMetricsCSV},{default:h(()=>[...t[4]||(t[4]=[D("Download CSV (Full)",-1)])]),_:1},8,["onClick"])]),u(Un,{name:"fade"},{default:h(()=>[e.showQualityMessage||e.showCopyMessage||e.showSeatMessage?(R(),H("div",{key:0,class:Ge({"copy-message":!0,error:e.isError})},k(e.message),3)):st("",!0)]),_:1}),t[6]||(t[6]=c("br",null,null,-1)),t[7]||(t[7]=c("br",null,null,-1)),u(E,{"max-height":"575px",class:"overflow-y-auto"},{default:h(()=>[c("pre",{ref:"metricsJsonText"},k(JSON.stringify(e.originalMetrics,null,2)),513)]),_:1}),t[8]||(t[8]=c("br",null,null,-1)),c("div",Cy,[u(rt,{onClick:e.showSeatCount},{default:h(()=>[...t[5]||(t[5]=[D("Show Assigned Seats count",-1)])]),_:1},8,["onClick"]),u(Un,{name:"fade"},{default:h(()=>[e.showSeatMessage?(R(),H("div",{key:0,class:Ge({"copy-message":!0,error:e.isError})},k(e.message),3)):st("",!0)]),_:1})]),u(E,{"max-height":"575px",class:"overflow-y-auto"},{default:h(()=>[c("pre",{ref:"seatJsonText"},k(JSON.stringify(e.seats,null,2)),513)]),_:1}),t[9]||(t[9]=c("br",null,null,-1))]),_:1})}const $r=Object.assign(De(wy,[["render",Sy],["__scopeId","data-v-c52998e7"]]),{__name:"ApiResponse"});function Dy(e){return typeof e=="string"?`'${e}'`:new Ty().serialize(e)}const Ty=(function(){class e{#t=new Map;compare(s,i){const o=typeof s,n=typeof i;return o==="string"&&n==="string"?s.localeCompare(i):o==="number"&&n==="number"?s-i:String.prototype.localeCompare.call(this.serialize(s,!0),this.serialize(i,!0))}serialize(s,i){if(s===null)return"null";switch(typeof s){case"string":return i?s:`'${s}'`;case"bigint":return`${s}n`;case"object":return this.$object(s);case"function":return this.$function(s)}return String(s)}serializeObject(s){const i=Object.prototype.toString.call(s);if(i!=="[object Object]")return this.serializeBuiltInType(i.length<10?`unknown:${i}`:i.slice(8,-1),s);const o=s.constructor,n=o===Object||o===void 0?"":o.name;if(n!==""&&globalThis[n]===o)return this.serializeBuiltInType(n,s);if(typeof s.toJSON=="function"){const a=s.toJSON();return n+(a!==null&&typeof a=="object"?this.$object(a):`(${this.serialize(a)})`)}return this.serializeObjectEntries(n,Object.entries(s))}serializeBuiltInType(s,i){const o=this["$"+s];if(o)return o.call(this,i);if(typeof i?.entries=="function")return this.serializeObjectEntries(s,i.entries());throw new Error(`Cannot serialize ${s}`)}serializeObjectEntries(s,i){const o=Array.from(i).sort((a,l)=>this.compare(a[0],l[0]));let n=`${s}{`;for(let a=0;a<o.length;a++){const[l,r]=o[a];n+=`${this.serialize(l,!0)}:${this.serialize(r)}`,a<o.length-1&&(n+=",")}return n+"}"}$object(s){let i=this.#t.get(s);return i===void 0&&(this.#t.set(s,`#${this.#t.size}`),i=this.serializeObject(s),this.#t.set(s,i)),i}$function(s){const i=Function.prototype.toString.call(s);return i.slice(-15)==="[native code] }"?`${s.name||""}()[native]`:`${s.name}(${s.length})${i.replace(/\s*\n\s*/g,"")}`}$Array(s){let i="[";for(let o=0;o<s.length;o++)i+=this.serialize(s[o]),o<s.length-1&&(i+=",");return i+"]"}$Date(s){try{return`Date(${s.toISOString()})`}catch{return"Date(null)"}}$ArrayBuffer(s){return`ArrayBuffer[${new Uint8Array(s).join(",")}]`}$Set(s){return`Set${this.$Array(Array.from(s).sort((i,o)=>this.compare(i,o)))}`}$Map(s){return this.serializeObjectEntries("Map",s.entries())}}for(const t of["Error","RegExp","URL"])e.prototype["$"+t]=function(s){return`${t}(${s})`};for(const t of["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"])e.prototype["$"+t]=function(s){return`${t}[${s.join(",")}]`};for(const t of["BigInt64Array","BigUint64Array"])e.prototype["$"+t]=function(s){return`${t}[${s.join("n,")}${s.length>0?"n":""}]`};return e})(),Ay=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],My=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],Py="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",xs=[];class Ry{_data=new Ns;_hash=new Ns([...Ay]);_nDataBytes=0;_minBufferSize=0;finalize(t){t&&this._append(t);const s=this._nDataBytes*8,i=this._data.sigBytes*8;return this._data.words[i>>>5]|=128<<24-i%32,this._data.words[(i+64>>>9<<4)+14]=Math.floor(s/4294967296),this._data.words[(i+64>>>9<<4)+15]=s,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}_doProcessBlock(t,s){const i=this._hash.words;let o=i[0],n=i[1],a=i[2],l=i[3],r=i[4],d=i[5],f=i[6],g=i[7];for(let m=0;m<64;m++){if(m<16)xs[m]=t[s+m]|0;else{const T=xs[m-15],S=(T<<25|T>>>7)^(T<<14|T>>>18)^T>>>3,A=xs[m-2],z=(A<<15|A>>>17)^(A<<13|A>>>19)^A>>>10;xs[m]=S+xs[m-7]+z+xs[m-16]}const v=r&d^~r&f,y=o&n^o&a^n&a,x=(o<<30|o>>>2)^(o<<19|o>>>13)^(o<<10|o>>>22),w=(r<<26|r>>>6)^(r<<21|r>>>11)^(r<<7|r>>>25),C=g+w+v+My[m]+xs[m],M=x+y;g=f,f=d,d=r,r=l+C|0,l=a,a=n,n=o,o=C+M|0}i[0]=i[0]+o|0,i[1]=i[1]+n|0,i[2]=i[2]+a|0,i[3]=i[3]+l|0,i[4]=i[4]+r|0,i[5]=i[5]+d|0,i[6]=i[6]+f|0,i[7]=i[7]+g|0}_append(t){typeof t=="string"&&(t=Ns.fromUtf8(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes}_process(t){let s,i=this._data.sigBytes/64;t?i=Math.ceil(i):i=Math.max((i|0)-this._minBufferSize,0);const o=i*16,n=Math.min(o*4,this._data.sigBytes);if(o){for(let a=0;a<o;a+=16)this._doProcessBlock(this._data.words,a);s=this._data.words.splice(0,o),this._data.sigBytes-=n}return new Ns(s,n)}}class Ns{words;sigBytes;constructor(t,s){t=this.words=t||[],this.sigBytes=s===void 0?t.length*4:s}static fromUtf8(t){const s=unescape(encodeURIComponent(t)),i=s.length,o=[];for(let n=0;n<i;n++)o[n>>>2]|=(s.charCodeAt(n)&255)<<24-n%4*8;return new Ns(o,i)}toBase64(){const t=[];for(let s=0;s<this.sigBytes;s+=3){const i=this.words[s>>>2]>>>24-s%4*8&255,o=this.words[s+1>>>2]>>>24-(s+1)%4*8&255,n=this.words[s+2>>>2]>>>24-(s+2)%4*8&255,a=i<<16|o<<8|n;for(let l=0;l<4&&s*8+l*6<this.sigBytes*8;l++)t.push(Py.charAt(a>>>6*(3-l)&63))}return t.join("")}concat(t){if(this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4),this.sigBytes%4)for(let s=0;s<t.sigBytes;s++){const i=t.words[s>>>2]>>>24-s%4*8&255;this.words[this.sigBytes+s>>>2]|=i<<24-(this.sigBytes+s)%4*8}else for(let s=0;s<t.sigBytes;s+=4)this.words[this.sigBytes+s>>>2]=t.words[s>>>2];this.sigBytes+=t.sigBytes}}function $y(e){return new Ry().finalize(e).toBase64()}function Cs(e){return $y(Dy(e))}const Ly={trailing:!0};function Ey(e,t=25,s={}){if(s={...Ly,...s},!Number.isFinite(t))throw new TypeError("Expected `wait` to be a finite number");let i,o,n=[],a,l;const r=(g,m)=>(a=Oy(e,g,m),a.finally(()=>{if(a=null,s.trailing&&l&&!o){const v=r(g,l);return l=null,v}}),a),d=function(...g){return s.trailing&&(l=g),a||new Promise(m=>{const v=!o&&s.leading;clearTimeout(o),o=setTimeout(()=>{o=null;const y=s.leading?i:r(this,g);l=null;for(const x of n)x(y);n=[]},t),v?(i=r(this,g),m(i)):n.push(m)})},f=g=>{g&&(clearTimeout(g),o=null)};return d.isPending=()=>!!o,d.cancel=()=>{f(o),n=[],l=null},d.flush=()=>{if(f(o),!l||a)return;const g=l;return l=null,r(this,g)},d}async function Oy(e,t,s){return await e.apply(t,s)}const zy=Symbol.for("nuxt:client-only"),Iy=e=>e==="defer"||e===!1;function Lr(...e){const t=typeof e[e.length-1]=="string"?e.pop():void 0;Uy(e[0],e[1])&&e.unshift(t);let[s,i,o={}]=e;const n=P(()=>$e(s));if(typeof n.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof i!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const a=Ko();o.server??=!0,o.default??=By,o.getCachedData??=Or,o.lazy??=!1,o.immediate??=!0,o.deep??=He.deep,o.dedupe??="cancel",o._functionName,a._asyncData[n.value];const l={cause:"initial",dedupe:o.dedupe};a._asyncData[n.value]?._init||(l.cachedData=o.getCachedData(n.value,a,{cause:"initial"}),a._asyncData[n.value]=el(a,n.value,i,o,l.cachedData));const r=a._asyncData[n.value];r._deps++;const d=()=>a._asyncData[n.value].execute(l),f=o.server!==!1&&a.payload.serverRendered;{let v=function(M){const T=a._asyncData[M];T?._deps&&(T._deps--,T._deps===0&&T?._off())};const y=Jo();if(y&&f&&o.immediate&&!y.sp&&(y.sp=[]),y&&!y._nuxtOnBeforeMountCbs){y._nuxtOnBeforeMountCbs=[];const M=y._nuxtOnBeforeMountCbs;vc(()=>{M.forEach(T=>{T()}),M.splice(0,M.length)}),nl(()=>M.splice(0,M.length))}const x=y&&(y._nuxtClientOnly||wi(zy,!1));f&&a.isHydrating&&(r.error.value||r.data.value!=null)?r.status.value=r.error.value?"error":"success":y&&(!x&&a.payload.serverRendered&&a.isHydrating||o.lazy)&&o.immediate?y._nuxtOnBeforeMountCbs.push(d):o.immediate&&d();const w=yc(),C=he([n,...o.watch||[]],([M],[T])=>{if((M||T)&&M!==T){const S=a._asyncData[T]?.data.value!==He.value,A=a._asyncDataPromises[T]!==void 0;T&&v(T);const z={cause:"initial",dedupe:o.dedupe};if(!a._asyncData[M]?._init){let F;T&&S?F=a._asyncData[T]?.data.value:(F=o.getCachedData(M,a,{cause:"initial"}),z.cachedData=F),a._asyncData[M]=el(a,M,i,o,F)}a._asyncData[M]._deps++,(o.immediate||S||A)&&a._asyncData[M].execute(z)}else r._execute({cause:"watch",dedupe:o.dedupe})},{flush:"sync"});w&&bc(()=>{C(),v(n.value)})}const g={data:ji(()=>a._asyncData[n.value]?.data),pending:ji(()=>a._asyncData[n.value]?.pending),status:ji(()=>a._asyncData[n.value]?.status),error:ji(()=>a._asyncData[n.value]?.error),refresh:(...v)=>a._asyncData[n.value].execute(...v),execute:(...v)=>a._asyncData[n.value].execute(...v),clear:()=>Er(a,n.value)},m=Promise.resolve(a._asyncDataPromises[n.value]).then(()=>g);return Object.assign(m,g),m}function ji(e){return P({get(){return e()?.value},set(t){const s=e();s&&(s.value=t)}})}function Uy(e,t){return!(typeof e=="string"||typeof e=="object"&&e!==null||typeof e=="function"&&typeof t=="function")}function Er(e,t){t in e.payload.data&&(e.payload.data[t]=void 0),t in e.payload._errors&&(e.payload._errors[t]=He.errorValue),e._asyncData[t]&&(e._asyncData[t].data.value=Nt(e._asyncData[t]._default()),e._asyncData[t].error.value=He.errorValue,e._asyncData[t].status.value="idle"),t in e._asyncDataPromises&&(e._asyncDataPromises[t]&&(e._asyncDataPromises[t].cancelled=!0),e._asyncDataPromises[t]=void 0)}function Vy(e,t){const s={};for(const i of t)s[i]=e[i];return s}function el(e,t,s,i,o){e.payload._errors[t]??=He.errorValue;const n=i.getCachedData!==Or,a=s,l=i.deep?O:ce,r=o!=null,d=e.hook("app:data:refresh",async g=>{(!g||g.includes(t))&&await f.execute({cause:"refresh:hook"})}),f={data:l(r?o:i.default()),pending:P(()=>f.status.value==="pending"),error:Dt(e.payload._errors,t),status:ce("idle"),execute:(...g)=>{const[m,v=void 0]=g,y=m&&v===void 0&&typeof m=="object"?m:{};if(e._asyncDataPromises[t]){if(Iy(y.dedupe??i.dedupe))return e._asyncDataPromises[t];e._asyncDataPromises[t].cancelled=!0}{const w="cachedData"in y?y.cachedData:i.getCachedData(t,e,{cause:y.cause??"refresh:manual"});if(w!=null)return e.payload.data[t]=f.data.value=w,f.error.value=He.errorValue,f.status.value="success",Promise.resolve(w)}f.status.value="pending";const x=new Promise((w,C)=>{try{w(a(e))}catch(M){C(M)}}).then(async w=>{if(x.cancelled)return e._asyncDataPromises[t];let C=w;i.transform&&(C=await i.transform(w)),i.pick&&(C=Vy(C,i.pick)),e.payload.data[t]=C,f.data.value=C,f.error.value=He.errorValue,f.status.value="success"}).catch(w=>{if(x.cancelled)return e._asyncDataPromises[t];f.error.value=hl(w),f.data.value=Nt(i.default()),f.status.value="error"}).finally(()=>{x.cancelled||delete e._asyncDataPromises[t]});return e._asyncDataPromises[t]=x,e._asyncDataPromises[t]},_execute:Ey((...g)=>f.execute(...g),0,{leading:!0}),_default:i.default,_deps:0,_init:!0,_hash:void 0,_off:()=>{d(),e._asyncData[t]?._init&&(e._asyncData[t]._init=!1),n||Ys(()=>{e._asyncData[t]?._init||(Er(e,t),f.execute=()=>Promise.resolve(),f.data.value=He.value)})}};return f}const By=()=>He.value,Or=(e,t,s)=>{if(t.isHydrating)return t.payload.data[e];if(s.cause!=="refresh:manual"&&s.cause!=="refresh:hook")return t.static.data[e]},sl="__nuxt_component";function Fy(){const e=Jo(),t=Eo(),{_fetchKeyBase:s}=e.proxy.$options;return Cs([s,t.path,t.query,t.matched.findIndex(i=>Object.values(i.components||{}).includes(e.type))])}async function Hy(e,t){const s=Ko(),{fetchKey:i}=Jo().proxy.$options,o=(typeof i=="function"?i(()=>""):i)||Fy(),{data:n,error:a}=await Lr(`options:asyncdata:${o}`,()=>t(s));if(a.value)throw hl(a.value);if(n.value&&typeof n.value=="object"){const l=await e;for(const r in n.value)l[r]=P({get:()=>n.value?.[r],set(d){n.value||={},n.value[r]=d}})}}const Ny=function(...t){const[s,i]=t,{setup:o}=s;return!o&&!s.asyncData&&!s.head?{[sl]:!0,...s}:{[sl]:!0,_fetchKeyBase:i,...s,setup(n,a){const l=Ko();let r={};if(o){const f=()=>Promise.resolve(o(n,a)).then(m=>m||{});_c(l._id).set(l),r=f()}const d=[];return s.asyncData&&d.push(Hy(r,s.asyncData)),s.head&&od(typeof s.head=="function"?()=>s.head(l):s.head),Promise.resolve(r).then(()=>Promise.all(d)).then(()=>r).finally(()=>{d.length=0})}}},il=window.setInterval,jo=()=>{const t=["127.0.0.1","localhost"],s=typeof window<"u"&&window.location?window.location.hostname:null,i=s?[...new Set([...t,s])]:t,o=O(`http://${i[0]}:3001`),n=O(!1),a=O(!1),l=O(!1),r=O(!1),d=O([]),f=O(null),g=O("Unknown"),m=O(!1),v=O(null),y=O(null),x=async()=>{for(const I of i){const B=`http://${I}:3001/api/health`;try{console.log(`[Connection Status] Probing extension at ${B}`);const V=await fetch(B,{cache:"no-store"});if(V&&V.ok)return o.value=`http://${I}:3001`,n.value=!0,console.log("[Connection Status] Extension reachable at",o.value),!0}catch{}}return console.warn("[Connection Status] Extension NOT reachable at any known host:",i.join(", ")),n.value=!1,!1},w=async()=>{if(await x())return!0;try{console.log("[Connection Status] Probing server-side extension status at /api/extension-status");const B=await fetch("/api/extension-status",{cache:"no-store"});if(B.ok){const V=await B.json();if(V&&V.success)return console.log("[Connection Status] Server proxy can reach extension:",V.host||"unknown"),a.value=!0,n.value=!0,V.authenticated&&(l.value=!0,g.value=V.username||g.value),!0}}catch(B){console.warn("[Connection Status] Server-side probe failed:",B)}return!1},C=async()=>{if(!n.value&&!await w())return l.value=!1,y.value="Extension not available",!1;try{console.log("[Auth Check] Checking GitHub authentication status...");let I=null;if(a.value?I=await fetch("/api/extension-status",{cache:"no-store"}):I=await fetch(`${o.value}/api/status`,{cache:"no-store",headers:{"Cache-Control":"no-cache"}}),!I)throw new Error("No response from status check");if(I.status===401)return console.warn("[Auth Check]  User NOT authenticated - 401 Unauthorized"),l.value=!1,y.value="Please sign in with GitHub in VS Code to view your local Copilot prompts",!1;const B=await I.json();return B.authenticated?(console.log(`[Auth Check]  Authenticated as: ${B.username}`),l.value=!0,r.value=!1,g.value=B.username||"Unknown",y.value=null,!0):B.allowUnauthenticatedLocalAccess?(console.log("[Auth Check]  Extension allows local-only access (no GitHub sign-in required)"),l.value=!1,r.value=!0,y.value=null,B.username&&(g.value=B.username),!0):(console.warn("[Auth Check]  User NOT authenticated"),l.value=!1,r.value=!1,y.value="Please sign in with GitHub in VS Code to view your local Copilot prompts",!1)}catch(I){return console.error("[Auth Check] Error checking authentication:",I),l.value=!1,y.value="Failed to check authentication status",!1}},M=async()=>{if(!await C()&&!r.value)return console.warn("[Prompts]  Cannot fetch prompts - user not authenticated and local-only mode disabled"),d.value=[],v.value=y.value,[];if(!n.value&&(await w(),!n.value))return v.value="Extension API not available",[];try{m.value=!0,v.value=null,y.value=null,console.log("[Prompts] Fetching prompts from extension API...");let B=null;if(a.value?B=await fetch("/api/local-prompts"):B=await fetch(`${o.value}/api/prompts`),B.status===401)return console.warn("[Prompts]  401 Unauthorized - user must authenticate"),l.value=!1,y.value=` GitHub Authentication Required

To view your local Copilot prompts, you must:

1. Sign in with GitHub in VS Code
2. Complete the authentication
3. Refresh this page`,d.value=[],[];if(!B.ok)throw new Error(`Failed to fetch prompts: ${B.statusText}`);const V=await B.json();return a.value?d.value=V.data||[]:d.value=V.data||V.prompts||[],console.log(` Loaded ${d.value.length} prompts from extension API`),d.value}catch(B){return v.value=B instanceof Error?B.message:"Failed to fetch prompts",console.error("Error fetching prompts:",B),[]}finally{m.value=!1}},T=async()=>{try{if(a.value){const V=await fetch("/api/local-prompts");if(V.ok){const K=await V.json();return f.value={totalPrompts:K.count||(K.data||[]).length},f.value}return null}const I=await fetch(`${o.value}/api/prompts/stats`);if(!I.ok)throw new Error(`Failed to fetch stats: ${I.statusText}`);const B=await I.json();return f.value=B.data,f.value}catch(I){return console.error("Error fetching stats:",I),null}},S=async()=>{try{if(a.value){const V=await fetch("/api/local-prompts");if(!V.ok)throw new Error("Failed to fetch prompts via server proxy");const at=(await V.json()).data||[],G={};for(const J of at){const L=J.editor||J.source||"Unknown";G[L]=G[L]||[],G[L].push(J)}return G}const I=await fetch(`${o.value}/api/prompts/by-ide`);if(!I.ok)throw new Error(`Failed to fetch prompts by IDE: ${I.statusText}`);return(await I.json()).data||{}}catch(I){return console.error("Error fetching prompts by IDE:",I),{}}},A=async()=>{if(!n.value)return v.value="Extension API not available",[];try{m.value=!0,v.value=null;let I;if(a.value?I=await fetch("/api/local-prompts",{method:"POST"}):I=await fetch(`${o.value}/api/prompts/refresh`,{method:"POST"}),!I.ok)throw new Error(`Failed to refresh prompts: ${I.statusText}`);const B=await I.json();return d.value=B.data||[],console.log(`Refreshed ${d.value.length} prompts from extension API`),d.value}catch(I){return v.value=I instanceof Error?I.message:"Failed to refresh prompts",console.error("Error refreshing prompts:",I),[]}finally{m.value=!1}},z=async I=>{if(!n.value)return null;try{if(a.value){const K=await fetch("/api/local-prompts");if(!K.ok)throw new Error("Failed to fetch prompts via server proxy");return((await K.json()).data||[]).find(J=>J.id===I)||null}const B=await fetch(`${o.value}/api/prompts/${I}`);if(!B.ok)throw new Error(`Failed to fetch prompt: ${B.statusText}`);return(await B.json()).data}catch(B){return console.error("Error fetching prompt:",B),null}},F=()=>{const I=il(async()=>{if(n.value){const B=l.value,V=await C();!B&&V?(console.log("[Polling] Auth status changed: false  true, fetching prompts..."),await M(),await T()):B&&!V&&(console.log("[Polling] Auth status changed: true  false, clearing prompts..."),d.value=[])}},5e3);return()=>clearInterval(I)},N=async()=>{if(await w(),n.value)await C()&&(await M(),await T()),F();else{const I=il(async()=>{await w()&&(clearInterval(I),await C()&&(await M(),await T()),F())},5e3)}};return{prompts:ze(d),stats:ze(f),username:ze(g),isLoading:ze(m),error:ze(v),authError:ze(y),isAuthenticated:ze(l),isLocalOnlyMode:ze(r),isExtensionAvailable:ze(n),fetchPrompts:M,fetchStats:T,fetchPromptsByIde:S,refreshPrompts:A,getPromptById:z,checkExtensionAvailability:w,checkAuthentication:C,startAuthPolling:F,init:N}};function Wy(e,t,s){const[i={},o]=typeof t=="string"?[{},t]:[t,s],n=P(()=>$e(e)),a=P(()=>$e(i.key)||"$f"+Cs([o,typeof n.value=="string"?n.value:"",...jy(i)]));if(!i.baseURL&&typeof n.value=="string"&&n.value[0]==="/"&&n.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:l,lazy:r,default:d,transform:f,pick:g,watch:m,immediate:v,getCachedData:y,deep:x,dedupe:w,...C}=i,M=fl({...xc,...C,cache:typeof i.cache=="boolean"?void 0:i.cache}),T={server:l,lazy:r,default:d,transform:f,pick:g,immediate:v,getCachedData:y,deep:x,dedupe:w,watch:m===!1?[]:[...m||[],M]};let S;return Lr(m===!1?a.value:a,()=>{S?.abort?.(new DOMException("Request aborted as another request to the same endpoint was initiated.","AbortError")),S=typeof AbortController<"u"?new AbortController:{};const z=$e(i.timeout);let F;return z&&(F=setTimeout(()=>S.abort(new DOMException("Request aborted due to timeout.","AbortError")),z),S.signal.onabort=()=>clearTimeout(F)),(i.$fetch||globalThis.$fetch)(n.value,{signal:S.signal,...M}).finally(()=>{clearTimeout(F)})},T)}function jy(e){const t=[$e(e.method)?.toUpperCase()||"GET",$e(e.baseURL)];for(const s of[e.params||e.query]){const i=$e(s);if(!i)continue;const o={};for(const[n,a]of Object.entries(i))o[$e(n)]=$e(a);t.push(o)}if(e.body){const s=$e(e.body);if(!s)t.push(Cs(s));else if(s instanceof ArrayBuffer)t.push(Cs(Object.fromEntries([...new Uint8Array(s).entries()].map(([i,o])=>[i,o.toString()]))));else if(s instanceof FormData){const i={};for(const o of s.entries()){const[n,a]=o;i[n]=a instanceof File?a.name:a}t.push(Cs(i))}else if(wc(s))t.push(Cs(fl(s)));else try{t.push(Cs(s))}catch{console.warn("[useFetch] Failed to hash body",s)}}return t}const Gy=Ny({name:"MainComponent",components:{MetricsViewer:xr,BreakdownComponent:kr,CopilotChatViewer:Cr,UserPromptsViewer:Ar,SeatsAnalysisViewer:Pr,TeamsComponent:wr,ApiResponse:$r,AgentModeViewer:Mr,DefinitionsViewer:Rr,DateRangeSelector:Pl,CopilotMetricsDashboard:_r},methods:{logout(){const{clear:e}=$o();this.metrics=[],this.seats=[],e()},getDisplayTabName(e){switch(e){case"team-organization":case"team-enterprise":return"team";case"organization":case"enterprise":return e;default:return e}},async handleDateRangeChange(e){this.dateRangeDescription=e.description,this.dateRange={since:e.since,until:e.until},this.holidayOptions={excludeHolidays:!!e.excludeHolidays},await this.fetchMetrics()},async fetchMetrics(){if(this.signInRequired||!this.dateRange.since||!this.dateRange.until||this.isLoading)return;const e=Je();this.isLoading=!0,this.apiError=void 0;try{const t=Ce.fromRoute(this.route,this.dateRange.since,this.dateRange.until);this.holidayOptions?.excludeHolidays&&(t.excludeHolidays=this.holidayOptions.excludeHolidays);const s=t.toParams(),i=new URLSearchParams(s).toString(),o=i?`/api/metrics?${i}`:"/api/metrics",n=await $fetch(o);this.metrics=n.metrics||[],this.originalMetrics=n.usage||[],this.metricsReady=!0,e.public.scope&&e.public.scope.includes("team")&&this.metrics.length===0&&!this.apiError&&(this.apiError="No data returned from API - check if the team exists and has any activity and at least 5 active members")}catch(t){this.processError(t)}finally{this.isLoading=!1}},processError(e){if(console.error(e||"No data returned from API"),e&&e.statusCode)switch(this.apiErrorCode=e.statusCode,e.statusCode){case 401:this.apiError="401 Unauthorized access returned by GitHub API - check if your token in the .env (for local runs). Check PAT token and GitHub permissions.";break;case 404:this.apiError=`404 Not Found - is the ${this.config?.public?.scope||""} org:"${this.config?.public?.githubOrg||""}" ent:"${this.config?.public?.githubEnt||""}" team:"${this.config?.public?.githubTeam}" correct? ${e.message}`;break;case 422:this.apiError=`422 Unprocessable Entity - Is the Copilot Metrics API enabled for the Org/Ent? When changing filters, try adjusting the "from" date.  ${e.message}`;break;case 500:this.apiError=`500 Internal Server Error - most likely a bug in the app. Error: ${e.message}`;break;default:this.apiError=`${e.statusCode} Error: ${e.message}`;break}}},data(){return{tabItems:["languages","editors","copilot chat","user prompts","github.com","seat analysis","definitions","api response"],tab:null,dateRangeDescription:"Over the last 28 days",isLoading:!1,metricsReady:!1,metrics:[],originalMetrics:[],seatsReady:!1,seats:[],apiError:void 0,apiErrorCode:void 0,config:null,holidayOptions:{excludeHolidays:!1},localPrompts:[],localStats:null,localUsername:"Unknown"}},created(){const{prompts:e,stats:t,isExtensionAvailable:s}=jo();s.value&&(this.tabItems.push("local prompts"),this.localPrompts=e.value,this.localStats=t.value),this.tabItems.unshift("dashboard"),this.tabItems.unshift(this.getDisplayTabName(this.itemName)),(this.itemName==="organization"||this.itemName==="enterprise")&&this.tabItems.splice(2,0,"teams"),this.config=Je()},async mounted(){const{init:e,prompts:t,stats:s,username:i,isExtensionAvailable:o}=jo();await e(),o.value&&(this.localPrompts=t.value,this.localStats=s.value,this.localUsername=i.value,console.log(` Connected to local extension: ${i.value} with ${t.value.length} prompts`));try{await this.fetchMetrics();const{data:n,error:a,execute:l}=this.seatsFetch;this.signInRequired||(await l(),a.value?this.processError(a.value):(this.seats=n.value||[],this.seatsReady=!0))}catch(n){console.error("Error loading initial data:",n)}},async setup(){const{loggedIn:e,user:t}=$o(),s=Je(),i=P(()=>s.public.usingGithubAuth&&e.value),o=P(()=>s.public.isDataMocked?"Using mock data - see README if unintended":""),n=P(()=>s.public.scope),a=id(s.public),l=P(()=>a),r=O({since:void 0,until:void 0}),d=O(!1),f=O(Xo()),g=P(()=>s.public.usingGithubAuth&&!e.value),m=Wy("/api/seats",{server:!0,immediate:!g.value,query:P(()=>Ce.fromRoute(f.value).toParams())},"$fpInORJQS_");return{showLogoutButton:i,mockedDataMessage:o,itemName:n,displayName:l,signInRequired:g,user:t,seatsFetch:m,dateRange:r,isLoading:d,route:f}}},"$lSsAzETBNq"),Sn=Symbol.for("vuetify:v-tabs"),Yy=qt({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...xi(qc({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),zr=Yt()({name:"VTab",props:Yy(),setup(e,t){let{slots:s,attrs:i}=t;const{textColorClasses:o,textColorStyles:n}=Tl(e,"sliderColor"),a=O(),l=O(),r=P(()=>e.direction==="horizontal"),d=P(()=>a.value?.group?.isSelected.value??!1);function f(g){let{value:m}=g;if(m){const v=a.value?.$el.parentElement?.querySelector(".v-tab--selected .v-tab__slider"),y=l.value;if(!v||!y)return;const x=getComputedStyle(v).color,w=v.getBoundingClientRect(),C=y.getBoundingClientRect(),M=r.value?"x":"y",T=r.value?"X":"Y",S=r.value?"right":"bottom",A=r.value?"width":"height",z=w[M],F=C[M],N=z>F?w[S]-C[S]:w[M]-C[M],I=Math.sign(N)>0?r.value?"right":"bottom":Math.sign(N)<0?r.value?"left":"top":"center",V=(Math.abs(N)+(Math.sign(N)<0?w[A]:C[A]))/Math.max(w[A],C[A])||0,K=w[A]/C[A]||0,at=1.5;Fc(y,{backgroundColor:[x,"currentcolor"],transform:[`translate${T}(${N}px) scale${T}(${K})`,`translate${T}(${N/at}px) scale${T}(${(V-1)/at+1})`,"none"],transformOrigin:Array(3).fill(I)},{duration:225,easing:Hc})}}return Xt(()=>{const g=rt.filterProps(e);return u(rt,W({symbol:Sn,ref:a,class:["v-tab",e.class],style:e.style,tabindex:d.value?0:-1,role:"tab","aria-selected":String(d.value),active:!1},g,i,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":f}),{...s,default:()=>u(Lt,null,[s.default?.()??e.text,!e.hideSlider&&u("div",{ref:l,class:["v-tab__slider",o.value],style:n.value},null)])})}),ro({},a)}}),qy=e=>{const{touchstartX:t,touchendX:s,touchstartY:i,touchendY:o}=e,n=.5,a=16;e.offsetX=s-t,e.offsetY=o-i,Math.abs(e.offsetY)<n*Math.abs(e.offsetX)&&(e.left&&s<t-a&&e.left(e),e.right&&s>t+a&&e.right(e)),Math.abs(e.offsetX)<n*Math.abs(e.offsetY)&&(e.up&&o<i-a&&e.up(e),e.down&&o>i+a&&e.down(e))};function Xy(e,t){const s=e.changedTouches[0];t.touchstartX=s.clientX,t.touchstartY=s.clientY,t.start?.({originalEvent:e,...t})}function Ky(e,t){const s=e.changedTouches[0];t.touchendX=s.clientX,t.touchendY=s.clientY,t.end?.({originalEvent:e,...t}),qy(t)}function Jy(e,t){const s=e.changedTouches[0];t.touchmoveX=s.clientX,t.touchmoveY=s.clientY,t.move?.({originalEvent:e,...t})}function Zy(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:s=>Xy(s,t),touchend:s=>Ky(s,t),touchmove:s=>Jy(s,t)}}function Qy(e,t){const s=t.value,i=s?.parent?e.parentElement:e,o=s?.options??{passive:!0},n=t.instance?.$.uid;if(!i||!n)return;const a=Zy(t.value);i._touchHandlers=i._touchHandlers??Object.create(null),i._touchHandlers[n]=a,pl(a).forEach(l=>{i.addEventListener(l,a[l],o)})}function t_(e,t){const s=t.value?.parent?e.parentElement:e,i=t.instance?.$.uid;if(!s?._touchHandlers||!i)return;const o=s._touchHandlers[i];pl(o).forEach(n=>{s.removeEventListener(n,o[n])}),delete s._touchHandlers[i]}const Ir={mounted:Qy,unmounted:t_},Ur=Symbol.for("vuetify:v-window"),Vr=Symbol.for("vuetify:v-window-group"),Br=qt({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...Ee(),...os(),...lo()},"VWindow"),Go=Yt()({name:"VWindow",directives:{Touch:Ir},props:Br(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:s}=t;const{themeClasses:i}=ao(e),{isRtl:o}=qo(),{t:n}=cl(),a=wl(e,Vr),l=O(),r=P(()=>o.value?!e.reverse:e.reverse),d=ce(!1),f=P(()=>{const S=e.direction==="vertical"?"y":"x",z=(r.value?!d.value:d.value)?"-reverse":"";return`v-window-${S}${z}-transition`}),g=ce(0),m=O(void 0),v=P(()=>a.items.value.findIndex(S=>a.selected.value.includes(S.id)));he(v,(S,A)=>{const z=a.items.value.length,F=z-1;z<=2?d.value=S<A:S===F&&A===0?d.value=!0:S===0&&A===F?d.value=!1:d.value=S<A}),ul(Ur,{transition:f,isReversed:d,transitionCount:g,transitionHeight:m,rootRef:l});const y=P(()=>e.continuous||v.value!==0),x=P(()=>e.continuous||v.value!==a.items.value.length-1);function w(){y.value&&a.prev()}function C(){x.value&&a.next()}const M=P(()=>{const S=[],A={icon:o.value?e.nextIcon:e.prevIcon,class:`v-window__${r.value?"right":"left"}`,onClick:a.prev,"aria-label":n("$vuetify.carousel.prev")};S.push(y.value?s.prev?s.prev({props:A}):u(rt,A,null):u("div",null,null));const z={icon:o.value?e.prevIcon:e.nextIcon,class:`v-window__${r.value?"left":"right"}`,onClick:a.next,"aria-label":n("$vuetify.carousel.next")};return S.push(x.value?s.next?s.next({props:z}):u(rt,z,null):u("div",null,null)),S}),T=P(()=>e.touch===!1?e.touch:{...{left:()=>{r.value?w():C()},right:()=>{r.value?C():w()},start:A=>{let{originalEvent:z}=A;z.stopPropagation()}},...e.touch===!0?{}:e.touch});return Xt(()=>be(u(e.tag,{ref:l,class:["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover"},i.value,e.class],style:e.style},{default:()=>[u("div",{class:"v-window__container",style:{height:m.value}},[s.default?.({group:a}),e.showArrows!==!1&&u("div",{class:"v-window__controls"},[M.value])]),s.additional?.({group:a})]}),[[dl("touch"),T.value]])),{group:a}}}),e_=qt({...xi(Br(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),s_=Yt()({name:"VTabsWindow",props:e_(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:s}=t;const i=wi(Sn,null),o=Ke(e,"modelValue"),n=P({get(){return o.value!=null||!i?o.value:i.items.value.find(a=>i.selected.value.includes(a.id))?.value},set(a){o.value=a}});return Xt(()=>{const a=Go.filterProps(e);return u(Go,W({_as:"VTabsWindow"},a,{modelValue:n.value,"onUpdate:modelValue":l=>n.value=l,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),s)}),{}}}),Fr=qt({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...Ee(),...xl(),...bl()},"VWindowItem"),Yo=Yt()({name:"VWindowItem",directives:{Touch:Ir},props:Fr(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:s}=t;const i=wi(Ur),o=_l(e,Vr),{isBooted:n}=nd();if(!i||!o)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const a=ce(!1),l=P(()=>n.value&&(i.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function r(){!a.value||!i||(a.value=!1,i.transitionCount.value>0&&(i.transitionCount.value-=1,i.transitionCount.value===0&&(i.transitionHeight.value=void 0)))}function d(){a.value||!i||(a.value=!0,i.transitionCount.value===0&&(i.transitionHeight.value=Ds(i.rootRef.value?.clientHeight)),i.transitionCount.value+=1)}function f(){r()}function g(y){a.value&&Ys(()=>{!l.value||!a.value||!i||(i.transitionHeight.value=Ds(y.clientHeight))})}const m=P(()=>{const y=i.isReversed.value?e.reverseTransition:e.transition;return l.value?{name:typeof y!="string"?i.transition.value:y,onBeforeEnter:d,onAfterEnter:r,onEnterCancelled:f,onBeforeLeave:d,onAfterLeave:r,onLeaveCancelled:f,onEnter:g}:!1}),{hasContent:v}=vl(e,o.isSelected);return Xt(()=>u(Xc,{transition:m.value,disabled:!n.value},{default:()=>[be(u("div",{class:["v-window-item",o.selectedClass.value,e.class],style:e.style},[v.value&&s.default?.()]),[[Pe,o.isSelected.value]])]})),{groupItem:o}}}),i_=qt({...Fr()},"VTabsWindowItem"),o_=Yt()({name:"VTabsWindowItem",props:i_(),setup(e,t){let{slots:s}=t;return Xt(()=>{const i=Yo.filterProps(e);return u(Yo,W({_as:"VTabsWindowItem"},i,{class:["v-tabs-window-item",e.class],style:e.style}),s)}),{}}});function n_(e){return e?e.map(t=>kc(t)?t:{text:t,value:t}):[]}const a_=qt({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...Kc({mandatory:"force",selectedClass:"v-tab-item--selected"}),...Sl(),...os()},"VTabs"),l_=Yt()({name:"VTabs",props:a_(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:s,slots:i}=t;const o=Ke(e,"modelValue"),n=P(()=>n_(e.items)),{densityClasses:a}=Cl(e),{backgroundColorClasses:l,backgroundColorStyles:r}=Ci(Dt(e,"bgColor")),{scopeId:d}=Zo();return ki({VTab:{color:Dt(e,"color"),direction:Dt(e,"direction"),stacked:Dt(e,"stacked"),fixed:Dt(e,"fixedTabs"),sliderColor:Dt(e,"sliderColor"),hideSlider:Dt(e,"hideSlider")}}),Xt(()=>{const f=Bn.filterProps(e),g=!!(i.window||e.items.length>0);return u(Lt,null,[u(Bn,W(f,{modelValue:o.value,"onUpdate:modelValue":m=>o.value=m,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},a.value,l.value,e.class],style:[{"--v-tabs-height":Ds(e.height)},r.value,e.style],role:"tablist",symbol:Sn},d,s),{default:()=>[i.default?.()??n.value.map(m=>i.tab?.({item:m})??u(zr,W(m,{key:m.text,value:m.value}),{default:i[`tab.${m.value}`]?()=>i[`tab.${m.value}`]?.({item:m}):void 0}))]}),g&&u(s_,W({modelValue:o.value,"onUpdate:modelValue":m=>o.value=m,key:"tabs-window"},d),{default:()=>[n.value.map(m=>i.item?.({item:m})??u(o_,{value:m.value},{default:()=>i[`item.${m.value}`]?.({item:m})})),i.window?.()]})])}),{}}}),r_=qt({text:String,...Ee(),...os()},"VToolbarTitle"),Hr=Yt()({name:"VToolbarTitle",props:r_(),setup(e,t){let{slots:s}=t;return Xt(()=>{const i=!!(s.default||s.text||e.text);return u(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>[i&&u("div",{class:"v-toolbar-title__placeholder"},[s.text?s.text():e.text,s.default?.()])]})}),{}}}),c_=[null,"prominent","default","comfortable","compact"],d_=qt({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>c_.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...Ml(),...Ee(),...nn(),...on(),...os({tag:"header"}),...lo()},"VToolbar"),u_=Yt()({name:"VToolbar",props:d_(),setup(e,t){let{slots:s}=t;const{backgroundColorClasses:i,backgroundColorStyles:o}=Ci(Dt(e,"color")),{borderClasses:n}=Al(e),{elevationClasses:a}=en(e),{roundedClasses:l}=sn(e),{themeClasses:r}=ao(e),{rtlClasses:d}=qo(),f=ce(!!(e.extended||s.extension?.())),g=P(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),m=P(()=>f.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return ki({VBtn:{variant:"text"}}),Xt(()=>{const v=!!(e.title||s.title),y=!!(s.image||e.image),x=s.extension?.();return f.value=!!(e.extended||x),u(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},i.value,n.value,a.value,l.value,r.value,d.value,e.class],style:[o.value,e.style]},{default:()=>[y&&u("div",{key:"image",class:"v-toolbar__image"},[s.image?u(Qe,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},s.image):u(Dl,{key:"image-img",cover:!0,src:e.image},null)]),u(Qe,{defaults:{VTabs:{height:Ds(g.value)}}},{default:()=>[u("div",{class:"v-toolbar__content",style:{height:Ds(g.value)}},[s.prepend&&u("div",{class:"v-toolbar__prepend"},[s.prepend?.()]),v&&u(Hr,{key:"title",text:e.title},{text:s.title}),s.default?.(),s.append&&u("div",{class:"v-toolbar__append"},[s.append?.()])])]}),u(Qe,{defaults:{VTabs:{height:Ds(m.value)}}},{default:()=>[u(yl,null,{default:()=>[f.value&&u("div",{class:"v-toolbar__extension",style:{height:Ds(m.value)}},[x])]})]})]})}),{contentHeight:g,extensionHeight:m}}}),h_={class:"error-message"},f_={class:"user-info"},p_={key:0,class:"organization-info"},g_={class:"text-body-2 text-center"},m_=["textContent"],v_={class:"github-login-container"};function b_(e,t,s,i,o,n){const a=ld,l=Pl,r=sd,d=_r,f=xr,g=wr,m=kr,v=Cr,y=Ar,x=Mr,w=Pr,C=Rr,M=$r;return R(),H("div",null,[u(u_,{color:"indigo",elevation:"4"},{extension:h(()=>[u(l_,{modelValue:e.tab,"onUpdate:modelValue":t[0]||(t[0]=T=>e.tab=T),"align-tabs":"title"},{default:h(()=>[(R(!0),H(Lt,null,ne(e.tabItems,T=>(R(),tt(zr,{key:T,value:T},{default:h(()=>[D(k(T),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),default:h(()=>[u(rt,{icon:""},{default:h(()=>[u(Z,null,{default:h(()=>[...t[3]||(t[3]=[D("mdi-github",-1)])]),_:1})]),_:1}),u(Hr,{class:"toolbar-title"},{default:h(()=>[D(k(e.displayName),1)]),_:1}),c("h2",h_,k(e.mockedDataMessage),1),u(re),u(a,null,{default:h(({loggedIn:T,user:S})=>[be(c("div",f_,[t[4]||(t[4]=D(" Welcome, ",-1)),u(ee,{class:"user-avatar"},{default:h(()=>[u(Dl,{alt:S?.name,src:S?.avatarUrl},null,8,["alt","src"])]),_:2},1024),D(" "+k(S?.name),1)],512),[[Pe,T]]),e.showLogoutButton&&T?(R(),tt(rt,{key:0,class:"logout-button",onClick:e.logout},{default:h(()=>[...t[5]||(t[5]=[D("Logout",-1)])]),_:1},8,["onClick"])):st("",!0)]),_:1})]),_:1}),be(u(l,{loading:e.isLoading,onDateRangeChanged:e.handleDateRangeChange},null,8,["loading","onDateRangeChanged"]),[[Pe,e.tab!=="seat analysis"&&!e.signInRequired]]),e.tab==="seat analysis"?(R(),H("div",p_,[u(E,{flat:"",class:"pa-3 mb-2"},{default:h(()=>[c("div",g_,[t[6]||(t[6]=D(" Displaying data for organization: ",-1)),c("strong",null,k(e.displayName),1)])]),_:1})])):st("",!0),be(c("div",{class:"error-message",textContent:k(e.apiError)},null,8,m_),[[Pe,e.apiError&&!e.signInRequired&&e.tab!=="seat analysis"]]),e.apiErrorCode===422&&e.tab==="seat analysis"?(R(),tt(Yi,{key:1,type:"info",density:"compact",class:"ma-2",closable:""},{default:h(()=>[...t[7]||(t[7]=[c("strong",null,"Note:",-1),D(' Copilot Metrics API is disabled for this organization. Showing seats data only. To enable full metrics, go to GitHub Organization Settings  Copilot  Policies  Enable "Copilot Metrics API access" ',-1)])]),_:1})):e.apiError&&e.tab==="seat analysis"&&!e.seatsReady?(R(),tt(Yi,{key:2,type:"error",density:"compact",class:"ma-2",closable:""},{default:h(()=>[D(k(e.apiError),1)]),_:1})):st("",!0),u(a,null,{default:h(({loggedIn:T})=>[be(c("div",v_,[!T&&e.signInRequired?(R(),tt(r,{key:0,to:"/auth/github",external:"",class:"github-login-button"},{default:h(()=>[u(Z,{left:""},{default:h(()=>[...t[8]||(t[8]=[D("mdi-github",-1)])]),_:1}),t[9]||(t[9]=D(" Sign in with GitHub",-1))]),_:1})):st("",!0)],512),[[Pe,e.signInRequired]])]),placeholder:h(()=>[...t[10]||(t[10]=[c("button",{disabled:""},"Loading...",-1)])]),_:1}),be(c("div",null,[be(u(qi,{indeterminate:"",color:"indigo"},null,512),[[Pe,!e.metricsReady]]),be(u(Go,{modelValue:e.tab,"onUpdate:modelValue":t[2]||(t[2]=T=>e.tab=T)},{default:h(()=>[(R(!0),H(Lt,null,ne(e.tabItems,T=>(R(),tt(Yo,{key:T,value:T},{default:h(()=>[u(E,{flat:""},{default:h(()=>[T==="dashboard"?(R(),tt(d,{key:0,metrics:e.metrics,seats:e.seats,"date-range-description":e.dateRangeDescription,onNavigateToPrompts:t[1]||(t[1]=S=>e.tab="user prompts")},null,8,["metrics","seats","date-range-description"])):st("",!0),T===e.getDisplayTabName(e.itemName)?(R(),tt(f,{key:1,metrics:e.metrics,"date-range-description":e.dateRangeDescription},null,8,["metrics","date-range-description"])):st("",!0),T==="teams"?(R(),tt(g,{key:2,"date-range-description":e.dateRangeDescription,"date-range":e.dateRange},null,8,["date-range-description","date-range"])):st("",!0),T==="languages"?(R(),tt(m,{key:3,metrics:e.metrics,"breakdown-key":"language","date-range-description":e.dateRangeDescription},null,8,["metrics","date-range-description"])):st("",!0),T==="editors"?(R(),tt(m,{key:4,metrics:e.metrics,"breakdown-key":"editor","date-range-description":e.dateRangeDescription},null,8,["metrics","date-range-description"])):st("",!0),T==="copilot chat"?(R(),tt(v,{key:5,metrics:e.metrics,"date-range-description":e.dateRangeDescription},null,8,["metrics","date-range-description"])):st("",!0),T==="user prompts"?(R(),tt(y,{key:6,metrics:e.metrics,"date-range-description":e.dateRangeDescription},null,8,["metrics","date-range-description"])):st("",!0),T==="github.com"?(R(),tt(x,{key:7,"original-metrics":e.originalMetrics,"date-range":e.dateRange,"date-range-description":e.dateRangeDescription},null,8,["original-metrics","date-range","date-range-description"])):st("",!0),T==="seat analysis"?(R(),tt(w,{key:8,seats:e.seats},null,8,["seats"])):st("",!0),T==="definitions"?(R(),tt(C,{key:9})):st("",!0),T==="api response"?(R(),tt(M,{key:10,metrics:e.metrics,"original-metrics":e.originalMetrics,seats:e.seats},null,8,["metrics","original-metrics","seats"])):st("",!0),T==="local prompts"?(R(),tt(y,{key:11,"local-prompts":e.localPrompts,"local-stats":e.localStats,"local-username":e.localUsername},null,8,["local-prompts","local-stats","local-username"])):st("",!0)]),_:2},1024)]),_:2},1032,["value"]))),128)),be(u(Yi,{density:"compact",text:"No data available to display",title:"No data",type:"warning"},null,512),[[Pe,e.metricsReady&&e.metrics.length==0&&e.tab!=="seat analysis"&&e.tab!=="local prompts"||e.seatsReady&&e.seats.length==0&&e.tab==="seat analysis"]])]),_:1},8,["modelValue"]),[[Pe,e.metricsReady&&e.metrics.length||e.seatsReady&&e.tab==="seat analysis"]])],512),[[Pe,!e.apiError]])])}const y_=Object.assign(De(Gy,[["render",b_],["__scopeId","data-v-09f7c0f5"]]),{__name:"MainComponent"}),__=qt({color:String,density:String,...Ee()},"VBannerActions"),x_=Yt()({name:"VBannerActions",props:__(),setup(e,t){let{slots:s}=t;return ki({VBtn:{color:e.color,density:e.density,slim:!0,variant:"text"}}),Xt(()=>u("div",{class:["v-banner-actions",e.class],style:e.style},[s.default?.()])),{}}}),w_=Jc("v-banner-text"),k_=qt({avatar:String,bgColor:String,color:String,icon:Oo,lines:String,stacked:Boolean,sticky:Boolean,text:String,...Ml(),...Ee(),...Sl(),...tn(),...Sc({mobile:null}),...nn(),...ed(),...td(),...on(),...os(),...lo()},"VBanner"),Ro=Yt()({name:"VBanner",props:k_(),setup(e,t){let{slots:s}=t;const{backgroundColorClasses:i,backgroundColorStyles:o}=Ci(e,"bgColor"),{borderClasses:n}=Al(e),{densityClasses:a}=Cl(e),{displayClasses:l,mobile:r}=Cc(e),{dimensionStyles:d}=Qo(e),{elevationClasses:f}=en(e),{locationStyles:g}=Zc(e),{positionClasses:m}=Qc(e),{roundedClasses:v}=sn(e),{themeClasses:y}=ao(e),x=Dt(e,"color"),w=Dt(e,"density");ki({VBannerActions:{color:x,density:w}}),Xt(()=>{const C=!!(e.text||s.text),M=!!(e.avatar||e.icon),T=!!(M||s.prepend);return u(e.tag,{class:["v-banner",{"v-banner--stacked":e.stacked||r.value,"v-banner--sticky":e.sticky,[`v-banner--${e.lines}-line`]:!!e.lines},y.value,i.value,n.value,a.value,l.value,f.value,m.value,v.value,e.class],style:[o.value,d.value,g.value,e.style],role:"banner"},{default:()=>[T&&u("div",{key:"prepend",class:"v-banner__prepend"},[s.prepend?u(Qe,{key:"prepend-defaults",disabled:!M,defaults:{VAvatar:{color:x.value,density:w.value,icon:e.icon,image:e.avatar}}},s.prepend):u(ee,{key:"prepend-avatar",color:x.value,density:w.value,icon:e.icon,image:e.avatar},null)]),u("div",{class:"v-banner__content"},[C&&u(w_,{key:"text"},{default:()=>[s.text?.()??e.text]}),s.default?.()]),s.actions&&u(x_,{key:"actions"},s.actions)]})})}}),E_=ae({__name:"index",setup(e){const t=Xo(),s=Je(),{init:i,isExtensionAvailable:o,isAuthenticated:n,prompts:a,username:l,isLocalOnlyMode:r}=jo();return Ms(async()=>{await i(),n.value?console.log(` Authenticated as ${l.value} - Connected with ${a.value.length} local prompts`):o.value?r.value?console.log(" Extension connected - Local-only mode (prompts visible without GitHub sign-in)"):console.log(" Extension connected but user NOT authenticated with GitHub"):console.log(" Extension not available - waiting for installation...")}),t.query.mock&&(s.public.isDataMocked=!0,s.public.usingGithubAuth=!1),(t.params.ent||t.params.org)&&(s.public.githubEnt=t.params.ent,s.public.githubOrg=t.params.org,s.public.githubTeam=t.params.team,t.params.org&&t.params.team?s.public.scope="team-organization":t.params.org?s.public.scope="organization":t.params.ent&&t.params.team?s.public.scope="team-enterprise":t.params.ent&&(s.public.scope="enterprise")),P(()=>s.public.version),(d,f)=>{const g=y_;return R(),H("div",null,[Nt(o)&&!Nt(n)&&Nt(r)?(R(),tt(Ro,{key:0,color:"primary",density:"compact",class:"mb-0"},{text:h(()=>[...f[0]||(f[0]=[c("div",{style:{padding:"12px 0"}},[c("p",{style:{margin:"0 0 8px 0"}},[c("strong",null," Local Prompts Available")]),c("p",{style:{margin:"0 0 8px 0"}},"This machine's local Copilot prompts are visible in the dashboard without signing in to GitHub."),c("p",{style:{margin:"0","font-size":"0.9em"}},[D("If you prefer requiring GitHub sign-in, change the extension setting "),c("code",null,"githubCopilotPrompts.allowUnauthenticatedLocalAccess"),D(" in VS Code settings.")])],-1)])]),_:1})):st("",!0),Nt(o)&&Nt(n)?(R(),tt(Ro,{key:1,color:"success-lighten-4",density:"compact",class:"mb-0"},{text:h(()=>[f[1]||(f[1]=D("  ",-1)),f[2]||(f[2]=c("strong",null,"VS Code Extension Connected & Authenticated",-1)),D(" - Displaying "+k(Nt(a).length)+" local Copilot prompts from your machine (User: "+k(Nt(l))+") ",1)]),_:1})):st("",!0),Nt(o)?st("",!0):(R(),tt(Ro,{key:2,color:"warning",density:"compact",class:"mb-0"},{text:h(()=>[...f[3]||(f[3]=[c("div",null,[c("p",null,[c("strong",null," Marketplace Extension Required")]),c("p",{style:{margin:"8px 0 0 0","font-size":"0.95em"}}," To view your local Copilot prompts, you must install the official marketplace extension: "),c("p",{style:{margin:"8px 0 0 0"}},[c("strong",null,"GitHub Copilot Prompts"),D(" by Ahsan Saeed "),c("br"),c("code",{style:{background:"rgba(0,0,0,0.1)",padding:"2px 6px","border-radius":"3px"}},"ahsansaeed.github-copilot-prompts")]),c("p",{style:{margin:"8px 0 0 0","font-size":"0.9em",opacity:"0.9"}},[D(" 1. Open VS Code Extensions (Ctrl+Shift+X)"),c("br"),D(' 2. Search: "GitHub Copilot Prompts"'),c("br"),D(" 3. Click Install"),c("br"),D(" 4. This page will auto-update when extension is installed  ")])],-1)])]),_:1})),u(g)])}}});export{E_ as default};
